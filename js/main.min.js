(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"/home/seioyria/projects/Roguathia/src/js/init.js":[function(require,module,exports){
'use strict';

require('./rogue/init/init');

},{"./rogue/init/init":"/home/seioyria/projects/Roguathia/src/js/rogue/init/init.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/constants/factions.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports['default'] = {
  MONSTER: 'Monster',
  PLAYER: 'Player',

  MAGIC: 'Magic'
};
module.exports = exports['default'];

},{}],"/home/seioyria/projects/Roguathia/src/js/rogue/constants/faketypes.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
var Ring = ['pearl', 'iron', 'twisted', 'steel', 'wire', 'engagement', 'shiny', 'bronze', 'brass', 'copper', 'silver', 'gold', 'wooden', 'granite', 'opal', 'clay', 'coral', 'black onyx', 'moonstone', 'tiger eye', 'jade', 'agate', 'topaz', 'sapphire', 'ruby', 'diamond', 'ivory', 'emerald'];

exports.Ring = Ring;
var Potion = ['ruby', 'dark green', 'purple-red', 'smoky', 'brown', 'pink', 'cyan', 'puce', 'cloudy', 'fizzy', 'orange', 'sky blue', 'milky', 'effervescent', 'dark', 'yellow', 'brilliant blue', 'swirly', 'black', 'white', 'emerald', 'magenta', 'bubbly', 'golden', 'murky'];
exports.Potion = Potion;

},{}],"/home/seioyria/projects/Roguathia/src/js/rogue/constants/random.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }

var _contentItemsFoods = require('../content/items/foods');

var Foods = _interopRequireWildcard(_contentItemsFoods);

var _contentItemsFeets = require('../content/items/feets');

var Feets = _interopRequireWildcard(_contentItemsFeets);

var _contentItemsHeads = require('../content/items/heads');

var Heads = _interopRequireWildcard(_contentItemsHeads);

var _contentItemsBodys = require('../content/items/bodys');

var Bodys = _interopRequireWildcard(_contentItemsBodys);

var _contentItemsRings = require('../content/items/rings');

var Rings = _interopRequireWildcard(_contentItemsRings);

var _contentItemsWands = require('../content/items/wands');

var Wands = _interopRequireWildcard(_contentItemsWands);

var _contentItemsWrists = require('../content/items/wrists');

var Wrists = _interopRequireWildcard(_contentItemsWrists);

var _contentItemsCloaks = require('../content/items/cloaks');

var Cloaks = _interopRequireWildcard(_contentItemsCloaks);

var _contentItemsWeapons = require('../content/items/weapons');

var Weapons = _interopRequireWildcard(_contentItemsWeapons);

var _contentItemsPotions = require('../content/items/potions');

var Potions = _interopRequireWildcard(_contentItemsPotions);

var _contentItemsSpellbooks = require('../content/items/spellbooks');

var Spellbooks = _interopRequireWildcard(_contentItemsSpellbooks);

var _contentItemsProjectiles = require('../content/items/projectiles');

var Projectiles = _interopRequireWildcard(_contentItemsProjectiles);

var getRandom = function getRandom(from) {
  var exclude = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];
  return _(from).values().filter(function (type) {
    return !_.contains(exclude, type.name);
  }).sample();
};

var Food = function Food(opts, exclude) {
  return new (getRandom(Foods, exclude))(opts);
};
exports.Food = Food;
var Feet = function Feet(opts, exclude) {
  return new (getRandom(Feets, exclude))(opts);
};
exports.Feet = Feet;
var Head = function Head(opts, exclude) {
  return new (getRandom(Heads, exclude))(opts);
};
exports.Head = Head;
var Body = function Body(opts, exclude) {
  return new (getRandom(Bodys, exclude))(opts);
};
exports.Body = Body;
var Ring = function Ring(opts, exclude) {
  return new (getRandom(Rings, exclude))(opts);
};
exports.Ring = Ring;
var Wand = function Wand(opts, exclude) {
  return new (getRandom(Wands, exclude))(opts);
};
exports.Wand = Wand;
var Wrist = function Wrist(opts, exclude) {
  return new (getRandom(Wrists, exclude))(opts);
};
exports.Wrist = Wrist;
var Cloak = function Cloak(opts, exclude) {
  return new (getRandom(Cloaks, exclude))(opts);
};
exports.Cloak = Cloak;
var Weapon = function Weapon(opts, exclude) {
  return new (getRandom(Weapons, exclude))(opts);
};
exports.Weapon = Weapon;
var Potion = function Potion(opts, exclude) {
  return new (getRandom(Potions, exclude))(opts);
};
exports.Potion = Potion;
var Spellbook = function Spellbook(opts, exclude) {
  return new (getRandom(Spellbooks, exclude))(opts);
};
exports.Spellbook = Spellbook;
var Projectile = function Projectile(opts, exclude) {
  return new (getRandom(Projectiles, exclude))(opts);
};
exports.Projectile = Projectile;

},{"../content/items/bodys":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/bodys.js","../content/items/cloaks":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/cloaks.js","../content/items/feets":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/feets.js","../content/items/foods":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/foods.js","../content/items/heads":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/heads.js","../content/items/potions":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/potions.js","../content/items/projectiles":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/projectiles.js","../content/items/rings":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/rings.js","../content/items/spellbooks":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/spellbooks.js","../content/items/wands":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/wands.js","../content/items/weapons":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/weapons.js","../content/items/wrists":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/wrists.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/constants/settings.js":[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = {
  screen: {
    width: 80,
    height: 24
  },
  game: {
    turnDelay: 50
  }
};
module.exports = exports["default"];

},{}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/attacks/attacks.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _behaviorsBehaviors = require('../behaviors/behaviors');

var Behaviors = _interopRequireWildcard(_behaviorsBehaviors);

var _definitionsAttack = require('../../definitions/attack');

var _definitionsGlyph = require('../../definitions/glyph');

var _definitionsGlyph2 = _interopRequireDefault(_definitionsGlyph);

// TODO make some attacks inherit from 'skill increasing' when proficiencies are implemented
// proficiencies should increase damage and to-hit by 1
// maybe proficiency should also factor into value

var Ranged = (function (_Reagent) {
  _inherits(Ranged, _Reagent);

  function Ranged() {
    _classCallCheck(this, Ranged);

    _get(Object.getPrototypeOf(Ranged.prototype), 'constructor', this).apply(this, arguments);
  }

  return Ranged;
})(_definitionsAttack.Reagent);

var Unarmed = (function (_Attack) {
  _inherits(Unarmed, _Attack);

  function Unarmed() {
    _classCallCheck(this, Unarmed);

    _get(Object.getPrototypeOf(Unarmed.prototype), 'constructor', this).apply(this, arguments);
  }

  return Unarmed;
})(_definitionsAttack.Attack);

var Bite = (function (_Attack2) {
  _inherits(Bite, _Attack2);

  function Bite() {
    _classCallCheck(this, Bite);

    _get(Object.getPrototypeOf(Bite.prototype), 'constructor', this).apply(this, arguments);
  }

  return Bite;
})(_definitionsAttack.Attack);

var Bash = (function (_Attack3) {
  _inherits(Bash, _Attack3);

  function Bash() {
    _classCallCheck(this, Bash);

    _get(Object.getPrototypeOf(Bash.prototype), 'constructor', this).apply(this, arguments);
  }

  return Bash;
})(_definitionsAttack.Attack);

var Slash = (function (_Attack4) {
  _inherits(Slash, _Attack4);

  function Slash() {
    _classCallCheck(this, Slash);

    _get(Object.getPrototypeOf(Slash.prototype), 'constructor', this).apply(this, arguments);
  }

  return Slash;
})(_definitionsAttack.Attack);

var Shot = (function (_Attack5) {
  _inherits(Shot, _Attack5);

  function Shot() {
    _classCallCheck(this, Shot);

    _get(Object.getPrototypeOf(Shot.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Shot, [{
    key: 'init',
    value: function init() {
      this.glyph = new _definitionsGlyph2['default'](')', '#00f');
    }
  }]);

  return Shot;
})(_definitionsAttack.Attack);

var ElectricTouch = (function (_Attack6) {
  _inherits(ElectricTouch, _Attack6);

  function ElectricTouch() {
    _classCallCheck(this, ElectricTouch);

    _get(Object.getPrototypeOf(ElectricTouch.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(ElectricTouch, [{
    key: 'hitString',
    value: function hitString(owner, target, damage, extra) {
      var zap = '';
      if (extra) {
        zap = ' ' + target.name + ' got zapped!';
        target.addUniqueBehavior(Behaviors.Stunned());
      }
      return owner.name + ' hit ' + target.name + ' for ' + damage + ' damage!' + zap;
    }
  }, {
    key: 'hitCallback',
    value: function hitCallback() {
      return true;
    }
  }]);

  return ElectricTouch;
})(_definitionsAttack.Attack);

var Magic = (function (_Attack7) {
  _inherits(Magic, _Attack7);

  function Magic() {
    _classCallCheck(this, Magic);

    _get(Object.getPrototypeOf(Magic.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Magic, [{
    key: 'init',
    value: function init() {
      this.glyph = new _definitionsGlyph2['default'](')', '#f00');
    }
  }]);

  return Magic;
})(_definitionsAttack.Attack);

var Force = (function (_Magic) {
  _inherits(Force, _Magic);

  function Force() {
    _classCallCheck(this, Force);

    _get(Object.getPrototypeOf(Force.prototype), 'constructor', this).apply(this, arguments);
  }

  return Force;
})(Magic);

var attacks = {};
_.each([Unarmed, Ranged, Bash, Bite, Slash, Shot, ElectricTouch, Force], function (attack) {
  return attacks[attack.name] = function (r, h, d) {
    return new attack(r, h, d);
  };
});
exports['default'] = attacks;
module.exports = exports['default'];

},{"../../definitions/attack":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/attack.js","../../definitions/glyph":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/glyph.js","../behaviors/behaviors":"/home/seioyria/projects/Roguathia/src/js/rogue/content/behaviors/behaviors.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/behaviors/behaviors.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x8, _x9, _x10) { var _again = true; _function: while (_again) { var object = _x8, property = _x9, receiver = _x10; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x8 = parent; _x9 = property; _x10 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _initGamestate = require('../../init/gamestate');

var _initGamestate2 = _interopRequireDefault(_initGamestate);

var _displayMessageHandler = require('../../display/message-handler');

var _displayMessageHandler2 = _interopRequireDefault(_displayMessageHandler);

var _itemsSpecial = require('../items/special');

// behaviors are functionality that cascade, ie, a monster could have 10 behaviors that override die()

// priorities determine the ordering of behavior execution
var PRIORITIES = {
  ALWAYS: 0,
  STUN: 1,
  HEAL: 2,
  DEFENSE: 3,
  INTERACT: 4,
  MOVE: 5,
  DEFER: 10
};

// retarget and find a new player to attack
var targetNewPlayer = function targetNewPlayer(me) {
  if (!me.target || me.target && me.target.hp.atMin()) {
    me.target = _(_initGamestate2['default'].players).reject(function (player) {
      return player.hp.atMin();
    }).sample();
  }

  if (!me.target || me.target.z !== me.z) return false; // they can wait, you may come back

  return true; // successful retarget
};

var Behavior = function Behavior(priority) {
  _classCallCheck(this, Behavior);

  this.priority = priority;
};

var RegeneratesHpBehavior = (function (_Behavior) {
  _inherits(RegeneratesHpBehavior, _Behavior);

  function RegeneratesHpBehavior() {
    var amount = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];

    _classCallCheck(this, RegeneratesHpBehavior);

    _get(Object.getPrototypeOf(RegeneratesHpBehavior.prototype), 'constructor', this).call(this, PRIORITIES.ALWAYS);
    this.amount = amount;
  }

  _createClass(RegeneratesHpBehavior, [{
    key: 'act',
    value: function act(me) {
      if (me.currentTurn % me.getRegenHp() === 0) me.hp.add(this.amount);
    }
  }]);

  return RegeneratesHpBehavior;
})(Behavior);

var RegeneratesHp = function RegeneratesHp() {
  return new RegeneratesHpBehavior();
};

exports.RegeneratesHp = RegeneratesHp;

var RegeneratesMpBehavior = (function (_Behavior2) {
  _inherits(RegeneratesMpBehavior, _Behavior2);

  function RegeneratesMpBehavior() {
    var amount = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];

    _classCallCheck(this, RegeneratesMpBehavior);

    _get(Object.getPrototypeOf(RegeneratesMpBehavior.prototype), 'constructor', this).call(this, PRIORITIES.ALWAYS);
    this.amount = amount;
  }

  _createClass(RegeneratesMpBehavior, [{
    key: 'act',
    value: function act(me) {
      if (me.currentTurn % me.getRegenMp() === 0) me.mp.add(this.amount);
    }
  }]);

  return RegeneratesMpBehavior;
})(Behavior);

var RegeneratesMp = function RegeneratesMp() {
  return new RegeneratesMpBehavior();
};

exports.RegeneratesMp = RegeneratesMp;

var HealsBelowPercentBehavior = (function (_Behavior3) {
  _inherits(HealsBelowPercentBehavior, _Behavior3);

  function HealsBelowPercentBehavior() {
    var percent = arguments.length <= 0 || arguments[0] === undefined ? 50 : arguments[0];

    _classCallCheck(this, HealsBelowPercentBehavior);

    _get(Object.getPrototypeOf(HealsBelowPercentBehavior.prototype), 'constructor', this).call(this, PRIORITIES.HEAL);
    this.healPercent = percent;
  }

  _createClass(HealsBelowPercentBehavior, [{
    key: 'act',
    value: function act(me) {
      if (me.hp.gtPercent(this.healPercent)) return true;
      var healItems = _.filter(me.inventory, function (item) {
        return item.healRoll && item.canUse(me);
      });
      if (healItems.length === 0) return true;
      var healItem = _.sample(healItems);
      healItem.use(me);
      return false;
    }
  }]);

  return HealsBelowPercentBehavior;
})(Behavior);

var HealsBelowPercent = function HealsBelowPercent(percent) {
  return new HealsBelowPercentBehavior(percent);
};

exports.HealsBelowPercent = HealsBelowPercent;
/* being stunned sucks */

var StunnedBehavior = (function (_Behavior4) {
  _inherits(StunnedBehavior, _Behavior4);

  function StunnedBehavior() {
    var numTurns = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];

    _classCallCheck(this, StunnedBehavior);

    _get(Object.getPrototypeOf(StunnedBehavior.prototype), 'constructor', this).call(this, PRIORITIES.STUN);
    this.stunTurns = numTurns;
  }

  _createClass(StunnedBehavior, [{
    key: 'act',
    value: function act(me) {
      if (this.stunTurns <= 0) {
        me.removeBehavior(this);
        _displayMessageHandler2['default'].add({ message: me.name + ' is no longer stunned.' });
        return true;
      }

      _displayMessageHandler2['default'].add({ message: me.name + ' is stunned!' });
      this.stunTurns--;
      return false;
    }
  }]);

  return StunnedBehavior;
})(Behavior);

var Stunned = function Stunned(numTurns) {
  return new StunnedBehavior(numTurns);
};

exports.Stunned = Stunned;
/* retrieve items from the ground */
// TODO whitelist/blacklist

var PickUpItemsBehavior = (function (_Behavior5) {
  _inherits(PickUpItemsBehavior, _Behavior5);

  function PickUpItemsBehavior() {
    _classCallCheck(this, PickUpItemsBehavior);

    _get(Object.getPrototypeOf(PickUpItemsBehavior.prototype), 'constructor', this).call(this, PRIORITIES.INTERACT);
  }

  _createClass(PickUpItemsBehavior, [{
    key: 'act',
    value: function act(me) {
      var items = _initGamestate2['default'].world.getItemsAt(me.x, me.y, me.z);
      _.each(items, function (item) {
        _initGamestate2['default'].world.removeItem(item);
        me.addToInventory(item);
        _displayMessageHandler2['default'].add({ message: me.name + ' picked up ' + item.name + '.' });
      });
    }
  }]);

  return PickUpItemsBehavior;
})(Behavior);

var PickUpItems = function PickUpItems() {
  return new PickUpItemsBehavior();
};

exports.PickUpItems = PickUpItems;

var DropsItemsBehavior = (function (_Behavior6) {
  _inherits(DropsItemsBehavior, _Behavior6);

  function DropsItemsBehavior() {
    _classCallCheck(this, DropsItemsBehavior);

    _get(Object.getPrototypeOf(DropsItemsBehavior.prototype), 'constructor', this).call(this, PRIORITIES.DEFER);
  }

  _createClass(DropsItemsBehavior, [{
    key: 'die',
    value: function die(me) {
      var items = me.inventory.concat(_(me.equipment).values().flatten().value());
      _.each(items, function (item) {
        me.dropItem(item);
      });
    }
  }]);

  return DropsItemsBehavior;
})(Behavior);

var DropsItems = function DropsItems() {
  return new DropsItemsBehavior();
};

exports.DropsItems = DropsItems;
/* monsters can attack with this */

var AttacksBehavior = (function (_Behavior7) {
  _inherits(AttacksBehavior, _Behavior7);

  function AttacksBehavior() {
    _classCallCheck(this, AttacksBehavior);

    _get(Object.getPrototypeOf(AttacksBehavior.prototype), 'constructor', this).call(this, PRIORITIES.DEFENSE);
  }

  _createClass(AttacksBehavior, [{
    key: 'act',
    value: function act(me) {
      return !me.tryAttack();
    }
  }]);

  return AttacksBehavior;
})(Behavior);

var Attacks = function Attacks() {
  return new AttacksBehavior();
};

exports.Attacks = Attacks;
/* monsters leave a corpse */

var LeavesCorpseBehavior = (function (_Behavior8) {
  _inherits(LeavesCorpseBehavior, _Behavior8);

  function LeavesCorpseBehavior() {
    var dropPercent = arguments.length <= 0 || arguments[0] === undefined ? 100 : arguments[0];

    _classCallCheck(this, LeavesCorpseBehavior);

    _get(Object.getPrototypeOf(LeavesCorpseBehavior.prototype), 'constructor', this).call(this, PRIORITIES.DEFER);
    this.dropPercent = dropPercent;
  }

  _createClass(LeavesCorpseBehavior, [{
    key: 'die',
    value: function die(me) {
      if (ROT.RNG.getPercentage() > this.dropPercent) return;
      var corpse = new _itemsSpecial.Corpse({ monsterName: me.name });
      _initGamestate2['default'].world.moveItem(corpse, me.x, me.y, me.z);
    }
  }]);

  return LeavesCorpseBehavior;
})(Behavior);

var LeavesCorpse = function LeavesCorpse(percent) {
  return new LeavesCorpseBehavior(percent);
};

exports.LeavesCorpse = LeavesCorpse;
/* some things drop gold */

var DropsGoldBehavior = (function (_Behavior9) {
  _inherits(DropsGoldBehavior, _Behavior9);

  function DropsGoldBehavior(gold) {
    _classCallCheck(this, DropsGoldBehavior);

    _get(Object.getPrototypeOf(DropsGoldBehavior.prototype), 'constructor', this).call(this, PRIORITIES.DEFER);
    this.goldDrop = gold;
  }

  _createClass(DropsGoldBehavior, [{
    key: 'die',
    value: function die(me) {
      var droppedGold = +dice.roll(this.goldDrop);
      var goldItem = new _itemsSpecial.Gold(droppedGold);
      _initGamestate2['default'].world.moveItem(goldItem, me.x, me.y, me.z);
    }
  }]);

  return DropsGoldBehavior;
})(Behavior);

var DropsGold = function DropsGold(gold) {
  return new DropsGoldBehavior(gold);
};

exports.DropsGold = DropsGold;
/* explodes upon death. can be pretty dangerous */

var ExplodesBehavior = (function (_Behavior10) {
  _inherits(ExplodesBehavior, _Behavior10);

  function ExplodesBehavior() {
    var roll = arguments.length <= 0 || arguments[0] === undefined ? '1d4' : arguments[0];
    var percent = arguments.length <= 1 || arguments[1] === undefined ? 100 : arguments[1];

    _classCallCheck(this, ExplodesBehavior);

    _get(Object.getPrototypeOf(ExplodesBehavior.prototype), 'constructor', this).call(this, PRIORITIES.DEFER);
    this.roll = roll;
    this.percent = percent;
  }

  _createClass(ExplodesBehavior, [{
    key: 'die',
    value: function die(me) {
      var _this = this;

      if (ROT.RNG.getPercentage() > this.percent) {
        _displayMessageHandler2['default'].add({ message: me.name + ' explodes a little bit.' });
        return;
      }
      _displayMessageHandler2['default'].add({ message: me.name + ' violently explodes!' });
      _.each(_initGamestate2['default'].world.getValidEntitiesInRange(me.x, me.y, me.z, 1), function (entity) {
        if (me === entity || entity.hp.atMin()) return; // infinite loop prevention
        entity.takeDamage(+dice.roll(_this.roll), me);
      });
    }
  }]);

  return ExplodesBehavior;
})(Behavior);

var Explodes = function Explodes(roll, percent) {
  return new ExplodesBehavior(roll, percent);
};

exports.Explodes = Explodes;
/* always seeks a target */

var BloodthirstyBehavior = (function (_Behavior11) {
  _inherits(BloodthirstyBehavior, _Behavior11);

  function BloodthirstyBehavior() {
    _classCallCheck(this, BloodthirstyBehavior);

    _get(Object.getPrototypeOf(BloodthirstyBehavior.prototype), 'constructor', this).call(this, PRIORITIES.MOVE);
  }

  _createClass(BloodthirstyBehavior, [{
    key: 'act',
    value: function act(me) {
      if (!targetNewPlayer(me)) return;
      me.stepTowards(me.target);
      return false;
    }
  }]);

  return BloodthirstyBehavior;
})(Behavior);

var Bloodthirsty = function Bloodthirsty() {
  return new BloodthirstyBehavior();
};

exports.Bloodthirsty = Bloodthirsty;
/* seeks a target if they're within vision range */

var SeeksTargetInSightBehavior = (function (_Behavior12) {
  _inherits(SeeksTargetInSightBehavior, _Behavior12);

  function SeeksTargetInSightBehavior() {
    _classCallCheck(this, SeeksTargetInSightBehavior);

    _get(Object.getPrototypeOf(SeeksTargetInSightBehavior.prototype), 'constructor', this).call(this, PRIORITIES.MOVE);
  }

  _createClass(SeeksTargetInSightBehavior, [{
    key: 'act',
    value: function act(me) {
      var possibleTargets = [];

      _initGamestate2['default'].world.fov[me.z].compute(me.x, me.y, me.getSight(), function (x, y) {
        var entity = _initGamestate2['default'].world.getEntity(x, y, me.z);
        if (!entity || !me.canAttack(entity)) return;
        possibleTargets.push(entity);
      });

      if (me.target && _.contains(possibleTargets, me.target)) {
        me.stepTowards(me.target);
      } else if (possibleTargets.length > 0) {
        me.target = _.sample(possibleTargets);
        me.stepTowards(me.target);
      } else {
        me.stepRandomly();
      }

      return false;
    }
  }]);

  return SeeksTargetInSightBehavior;
})(Behavior);

var SeeksTargetInSight = function SeeksTargetInSight() {
  return new SeeksTargetInSightBehavior();
};

exports.SeeksTargetInSight = SeeksTargetInSight;
/* wanders around aimlessly */

var WandersBehavior = (function (_Behavior13) {
  _inherits(WandersBehavior, _Behavior13);

  function WandersBehavior() {
    _classCallCheck(this, WandersBehavior);

    _get(Object.getPrototypeOf(WandersBehavior.prototype), 'constructor', this).call(this, PRIORITIES.MOVE);
  }

  _createClass(WandersBehavior, [{
    key: 'act',
    value: function act(me) {
      me.stepRandomly();

      return false;
    }
  }]);

  return WandersBehavior;
})(Behavior);

var Wanders = function Wanders() {
  return new WandersBehavior();
};

exports.Wanders = Wanders;
/* interacts with everything */

var InteractsBehavior = (function (_Behavior14) {
  _inherits(InteractsBehavior, _Behavior14);

  function InteractsBehavior() {
    _classCallCheck(this, InteractsBehavior);

    _get(Object.getPrototypeOf(InteractsBehavior.prototype), 'constructor', this).call(this, PRIORITIES.INTERACT);
  }

  _createClass(InteractsBehavior, [{
    key: 'act',
    value: function act(me) {
      var tiles = _initGamestate2['default'].world.getAllTilesInRange(me.x, me.y, me.z, 1);

      for (var i = 0; i < tiles.length; i++) {
        var tile = tiles[i];

        if (tile.canInteract && tile.interact && tile.canInteract(me)) {
          var msg = tile.interact(me);
          _displayMessageHandler2['default'].add({ message: msg });
          return false;
        }
      }

      return true;
    }
  }]);

  return InteractsBehavior;
})(Behavior);

var Interacts = function Interacts() {
  return new InteractsBehavior();
};

exports.Interacts = Interacts;
/* breaks down doors that it finds */

var BreaksDoorsBehavior = (function (_Behavior15) {
  _inherits(BreaksDoorsBehavior, _Behavior15);

  function BreaksDoorsBehavior() {
    _classCallCheck(this, BreaksDoorsBehavior);

    _get(Object.getPrototypeOf(BreaksDoorsBehavior.prototype), 'constructor', this).call(this, PRIORITIES.INTERACT);
  }

  _createClass(BreaksDoorsBehavior, [{
    key: 'act',
    value: function act() {
      return false;
    }
  }]);

  return BreaksDoorsBehavior;
})(Behavior);

var BreaksDoors = function BreaksDoors() {
  return new BreaksDoorsBehavior();
};

exports.BreaksDoors = BreaksDoors;
/* opens doors that it finds */

var OpensDoorsBehavior = (function (_Behavior16) {
  _inherits(OpensDoorsBehavior, _Behavior16);

  function OpensDoorsBehavior() {
    _classCallCheck(this, OpensDoorsBehavior);

    _get(Object.getPrototypeOf(OpensDoorsBehavior.prototype), 'constructor', this).call(this, PRIORITIES.INTERACT);
  }

  _createClass(OpensDoorsBehavior, [{
    key: 'act',
    value: function act(me) {
      var doors = _initGamestate2['default'].world.getValidTilesInRange(me.x, me.y, me.z, 1, function (tile) {
        return tile.constructor.name === 'Door' && tile.density;
      });
      if (doors.length > 0) {
        var door = doors[0];
        door.interact(me);
        return false;
      }

      return true;
    }
  }]);

  return OpensDoorsBehavior;
})(Behavior);

var OpensDoors = function OpensDoors() {
  return new OpensDoorsBehavior();
};
exports.OpensDoors = OpensDoors;

},{"../../display/message-handler":"/home/seioyria/projects/Roguathia/src/js/rogue/display/message-handler.js","../../init/gamestate":"/home/seioyria/projects/Roguathia/src/js/rogue/init/gamestate.js","../items/special":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/special.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/bodys.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsEquipment = require('../../definitions/equipment');

var TShirt = (function (_Body) {
  _inherits(TShirt, _Body);

  function TShirt() {
    _classCallCheck(this, TShirt);

    _get(Object.getPrototypeOf(TShirt.prototype), 'constructor', this).apply(this, arguments);
  }

  return TShirt;
})(_definitionsEquipment.Body);

exports.TShirt = TShirt;

TShirt.rarity = 100;

var LeatherJacket = (function (_Body2) {
  _inherits(LeatherJacket, _Body2);

  function LeatherJacket() {
    _classCallCheck(this, LeatherJacket);

    _get(Object.getPrototypeOf(LeatherJacket.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(LeatherJacket, [{
    key: 'ac',
    value: function ac() {
      return this.buc * -1;
    }
  }]);

  return LeatherJacket;
})(_definitionsEquipment.Body);

exports.LeatherJacket = LeatherJacket;

LeatherJacket.rarity = 5;

},{"../../definitions/equipment":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/equipment.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/cloaks.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsEquipment = require('../../definitions/equipment');

var Ordinary = (function (_Cloak) {
  _inherits(Ordinary, _Cloak);

  function Ordinary(opts) {
    _classCallCheck(this, Ordinary);

    _get(Object.getPrototypeOf(Ordinary.prototype), 'constructor', this).call(this, opts);
    this.realName = this.fakeName = 'ordinary cloak';
  }

  return Ordinary;
})(_definitionsEquipment.Cloak);

exports.Ordinary = Ordinary;

Ordinary.rarity = 100;

var Protection = (function (_Cloak2) {
  _inherits(Protection, _Cloak2);

  function Protection() {
    _classCallCheck(this, Protection);

    _get(Object.getPrototypeOf(Protection.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Protection, [{
    key: 'ac',
    value: function ac() {
      return this.buc * -2;
    }
  }]);

  return Protection;
})(_definitionsEquipment.Cloak);

exports.Protection = Protection;

Protection.rarity = 5;

},{"../../definitions/equipment":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/equipment.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/feets.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsEquipment = require('../../definitions/equipment');

var Ordinary = (function (_Feet) {
  _inherits(Ordinary, _Feet);

  function Ordinary(opts) {
    _classCallCheck(this, Ordinary);

    _get(Object.getPrototypeOf(Ordinary.prototype), 'constructor', this).call(this, opts);
    this.realName = this.fakeName = 'ordinary cloak';
  }

  return Ordinary;
})(_definitionsEquipment.Feet);

exports.Ordinary = Ordinary;

Ordinary.rarity = 100;

var Protective = (function (_Feet2) {
  _inherits(Protective, _Feet2);

  function Protective() {
    _classCallCheck(this, Protective);

    _get(Object.getPrototypeOf(Protective.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Protective, [{
    key: 'ac',
    value: function ac() {
      return this.buc * -1;
    }
  }]);

  return Protective;
})(_definitionsEquipment.Feet);

exports.Protective = Protective;

Protective.rarity = 5;

},{"../../definitions/equipment":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/equipment.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/foods.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsEquipment = require('../../definitions/equipment');

var Ration = (function (_Comestible) {
  _inherits(Ration, _Comestible);

  function Ration(opts) {
    _classCallCheck(this, Ration);

    _get(Object.getPrototypeOf(Ration.prototype), 'constructor', this).call(this, opts);
    this.name = 'ration';
  }

  return Ration;
})(_definitionsEquipment.Comestible);

exports.Ration = Ration;

Ration.rarity = 50;

},{"../../definitions/equipment":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/equipment.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/heads.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsEquipment = require('../../definitions/equipment');

var Ordinary = (function (_Head) {
  _inherits(Ordinary, _Head);

  function Ordinary(opts) {
    _classCallCheck(this, Ordinary);

    _get(Object.getPrototypeOf(Ordinary.prototype), 'constructor', this).call(this, opts);
    this.realName = this.fakeName = 'ordinary hat';
  }

  return Ordinary;
})(_definitionsEquipment.Head);

exports.Ordinary = Ordinary;

Ordinary.rarity = 25;

var Protective = (function (_Head2) {
  _inherits(Protective, _Head2);

  function Protective() {
    _classCallCheck(this, Protective);

    _get(Object.getPrototypeOf(Protective.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Protective, [{
    key: 'ac',
    value: function ac() {
      return this.buc * -1;
    }
  }]);

  return Protective;
})(_definitionsEquipment.Head);

exports.Protective = Protective;

Protective.rarity = 5;

},{"../../definitions/equipment":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/equipment.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/potions.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsEquipment = require('../../definitions/equipment');

var Healing = (function (_Potion) {
  _inherits(Healing, _Potion);

  function Healing() {
    var opts = arguments.length <= 0 || arguments[0] === undefined ? { charges: 1 } : arguments[0];

    _classCallCheck(this, Healing);

    _.extend(opts, { healRoll: '4d4', autoRemove: true });
    _get(Object.getPrototypeOf(Healing.prototype), 'constructor', this).call(this, opts);
  }

  return Healing;
})(_definitionsEquipment.Potion);

exports.Healing = Healing;

Healing.rarity = 50;

},{"../../definitions/equipment":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/equipment.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/projectiles.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x3, _x4, _x5) { var _again = true; _function: while (_again) { var object = _x3, property = _x4, receiver = _x5; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x3 = parent; _x4 = property; _x5 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsEquipment = require('../../definitions/equipment');

var _attacksAttacks = require('../attacks/attacks');

var _attacksAttacks2 = _interopRequireDefault(_attacksAttacks);

var Dart = (function (_Weapon) {
  _inherits(Dart, _Weapon);

  function Dart() {
    var opts = arguments.length <= 0 || arguments[0] === undefined ? { charges: '1d4' } : arguments[0];

    _classCallCheck(this, Dart);

    _.extend(opts, {
      autoRemove: true,
      glyph: { key: ')', fg: '#00f' },
      attacks: [_attacksAttacks2['default'].Shot({ roll: '1d3', toHit: '0d0', range: 3 })]
    });
    _get(Object.getPrototypeOf(Dart.prototype), 'constructor', this).call(this, opts);
  }

  return Dart;
})(_definitionsEquipment.Weapon);

exports.Dart = Dart;

Dart.rarity = 50;

var Arrow = (function (_Weapon2) {
  _inherits(Arrow, _Weapon2);

  function Arrow() {
    var opts = arguments.length <= 0 || arguments[0] === undefined ? { charges: '1d4' } : arguments[0];

    _classCallCheck(this, Arrow);

    _.extend(opts, {
      autoRemove: true,
      glyph: { key: ')', fg: '#f0f' },
      attacks: [_attacksAttacks2['default'].Shot({ roll: '1d6', toHit: '0d0', range: 6 })]
    });
    _get(Object.getPrototypeOf(Arrow.prototype), 'constructor', this).call(this, opts);
  }

  return Arrow;
})(_definitionsEquipment.Weapon);

exports.Arrow = Arrow;

Arrow.rarity = 25;

},{"../../definitions/equipment":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/equipment.js","../attacks/attacks":"/home/seioyria/projects/Roguathia/src/js/rogue/content/attacks/attacks.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/rings.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsEquipment = require('../../definitions/equipment');

var Protection = (function (_Ring) {
  _inherits(Protection, _Ring);

  function Protection() {
    _classCallCheck(this, Protection);

    _get(Object.getPrototypeOf(Protection.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Protection, [{
    key: 'ac',
    value: function ac() {
      return this.buc * -1;
    }
  }]);

  return Protection;
})(_definitionsEquipment.Ring);

exports.Protection = Protection;

Protection.rarity = 5;

var Strength = (function (_Ring2) {
  _inherits(Strength, _Ring2);

  function Strength() {
    _classCallCheck(this, Strength);

    _get(Object.getPrototypeOf(Strength.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Strength, [{
    key: 'str',
    value: function str() {
      return this.buc;
    }
  }]);

  return Strength;
})(_definitionsEquipment.Ring);

exports.Strength = Strength;

Strength.rarity = 15;

var Constitution = (function (_Ring3) {
  _inherits(Constitution, _Ring3);

  function Constitution() {
    _classCallCheck(this, Constitution);

    _get(Object.getPrototypeOf(Constitution.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Constitution, [{
    key: 'con',
    value: function con() {
      return this.buc;
    }
  }]);

  return Constitution;
})(_definitionsEquipment.Ring);

exports.Constitution = Constitution;

Constitution.rarity = 5;

var Dexterity = (function (_Ring4) {
  _inherits(Dexterity, _Ring4);

  function Dexterity() {
    _classCallCheck(this, Dexterity);

    _get(Object.getPrototypeOf(Dexterity.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Dexterity, [{
    key: 'dex',
    value: function dex() {
      return this.buc;
    }
  }]);

  return Dexterity;
})(_definitionsEquipment.Ring);

exports.Dexterity = Dexterity;

Dexterity.rarity = 15;

var Intelligence = (function (_Ring5) {
  _inherits(Intelligence, _Ring5);

  function Intelligence() {
    _classCallCheck(this, Intelligence);

    _get(Object.getPrototypeOf(Intelligence.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Intelligence, [{
    key: 'int',
    value: function int() {
      return this.buc;
    }
  }]);

  return Intelligence;
})(_definitionsEquipment.Ring);

exports.Intelligence = Intelligence;

Intelligence.rarity = 20;

var Wisdom = (function (_Ring6) {
  _inherits(Wisdom, _Ring6);

  function Wisdom() {
    _classCallCheck(this, Wisdom);

    _get(Object.getPrototypeOf(Wisdom.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Wisdom, [{
    key: 'wis',
    value: function wis() {
      return this.buc;
    }
  }]);

  return Wisdom;
})(_definitionsEquipment.Ring);

exports.Wisdom = Wisdom;

Wisdom.rarity = 25;

var Charisma = (function (_Ring7) {
  _inherits(Charisma, _Ring7);

  function Charisma() {
    _classCallCheck(this, Charisma);

    _get(Object.getPrototypeOf(Charisma.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Charisma, [{
    key: 'cha',
    value: function cha() {
      return this.buc;
    }
  }]);

  return Charisma;
})(_definitionsEquipment.Ring);

exports.Charisma = Charisma;

Charisma.rarity = 2;

var Luck = (function (_Ring8) {
  _inherits(Luck, _Ring8);

  function Luck() {
    _classCallCheck(this, Luck);

    _get(Object.getPrototypeOf(Luck.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Luck, [{
    key: 'luk',
    value: function luk() {
      return this.buc;
    }
  }]);

  return Luck;
})(_definitionsEquipment.Ring);

exports.Luck = Luck;

Luck.rarity = 1;

var Speed = (function (_Ring9) {
  _inherits(Speed, _Ring9);

  function Speed() {
    _classCallCheck(this, Speed);

    _get(Object.getPrototypeOf(Speed.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Speed, [{
    key: 'speed',
    value: function speed() {
      return this.buc;
    }
  }]);

  return Speed;
})(_definitionsEquipment.Ring);

exports.Speed = Speed;

Speed.rarity = 20;

var Sight = (function (_Ring10) {
  _inherits(Sight, _Ring10);

  function Sight() {
    _classCallCheck(this, Sight);

    _get(Object.getPrototypeOf(Sight.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Sight, [{
    key: 'sight',
    value: function sight() {
      return this.buc;
    }
  }]);

  return Sight;
})(_definitionsEquipment.Ring);

exports.Sight = Sight;

Sight.rarity = 40;

var Accuracy = (function (_Ring11) {
  _inherits(Accuracy, _Ring11);

  function Accuracy() {
    _classCallCheck(this, Accuracy);

    _get(Object.getPrototypeOf(Accuracy.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Accuracy, [{
    key: 'toHit',
    value: function toHit() {
      return '0d0 +' + this.buc;
    }
  }]);

  return Accuracy;
})(_definitionsEquipment.Ring);

exports.Accuracy = Accuracy;

Accuracy.rarity = 50;

var BonusDamage = (function (_Ring12) {
  _inherits(BonusDamage, _Ring12);

  function BonusDamage() {
    _classCallCheck(this, BonusDamage);

    _get(Object.getPrototypeOf(BonusDamage.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(BonusDamage, [{
    key: 'bonusDamage',
    value: function bonusDamage() {
      return '0d0 +' + this.buc;
    }
  }]);

  return BonusDamage;
})(_definitionsEquipment.Ring);

exports.BonusDamage = BonusDamage;

BonusDamage.rarity = 30;

},{"../../definitions/equipment":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/equipment.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/special.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsEquipment = require('../../definitions/equipment');

var Gold = (function (_Special) {
  _inherits(Gold, _Special);

  function Gold(num) {
    _classCallCheck(this, Gold);

    var opts = {
      glyph: { key: '$', fg: 'yellow' }
    };
    _get(Object.getPrototypeOf(Gold.prototype), 'constructor', this).call(this, opts);
    this.goldValue = num;
    this.name = this.goldValue + ' gold';
  }

  return Gold;
})(_definitionsEquipment.Special);

exports.Gold = Gold;

var Corpse = (function (_Comestible) {
  _inherits(Corpse, _Comestible);

  function Corpse() {
    var opts = arguments.length <= 0 || arguments[0] === undefined ? { monsterName: 'unknown' } : arguments[0];

    _classCallCheck(this, Corpse);

    _get(Object.getPrototypeOf(Corpse.prototype), 'constructor', this).call(this, opts);
    this.name = 'corpse of ' + opts.monsterName;
  }

  return Corpse;
})(_definitionsEquipment.Comestible);

exports.Corpse = Corpse;

},{"../../definitions/equipment":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/equipment.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/spellbooks.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsEquipment = require('../../definitions/equipment');

var _attacksAttacks = require('../attacks/attacks');

var _attacksAttacks2 = _interopRequireDefault(_attacksAttacks);

var ForceBolt = (function (_Spellbook) {
  _inherits(ForceBolt, _Spellbook);

  function ForceBolt() {
    var opts = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

    _classCallCheck(this, ForceBolt);

    _.extend(opts, {
      manaCost: 2,
      attacks: [_attacksAttacks2['default'].Force({ roll: '2d6', range: 4 })]
    });
    _get(Object.getPrototypeOf(ForceBolt.prototype), 'constructor', this).call(this, opts);
  }

  return ForceBolt;
})(_definitionsEquipment.Spellbook);

exports.ForceBolt = ForceBolt;

ForceBolt.rarity = 25;

},{"../../definitions/equipment":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/equipment.js","../attacks/attacks":"/home/seioyria/projects/Roguathia/src/js/rogue/content/attacks/attacks.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/wands.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsEquipment = require('../../definitions/equipment');

var _attacksAttacks = require('../attacks/attacks');

var _attacksAttacks2 = _interopRequireDefault(_attacksAttacks);

var Striking = (function (_Wand) {
  _inherits(Striking, _Wand);

  function Striking() {
    var opts = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

    _classCallCheck(this, Striking);

    _.extend(opts, {
      charges: '2d5',
      attacks: [_attacksAttacks2['default'].Force({ roll: '2d6', range: 4 })]
    });
    _get(Object.getPrototypeOf(Striking.prototype), 'constructor', this).call(this, opts);
  }

  return Striking;
})(_definitionsEquipment.Wand);

exports.Striking = Striking;

Striking.rarity = 25;

},{"../../definitions/equipment":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/equipment.js","../attacks/attacks":"/home/seioyria/projects/Roguathia/src/js/rogue/content/attacks/attacks.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/weapons.js":[function(require,module,exports){

// extending Weapon means an item is not equippable but is a weapon.
// etending Hands means an item is equippable in the hands slot
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x4, _x5, _x6) { var _again = true; _function: while (_again) { var object = _x4, property = _x5, receiver = _x6; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x4 = parent; _x5 = property; _x6 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsEquipment = require('../../definitions/equipment');

var _attacksAttacks = require('../attacks/attacks');

var _attacksAttacks2 = _interopRequireDefault(_attacksAttacks);

var Bow = (function (_Hands) {
  _inherits(Bow, _Hands);

  function Bow() {
    var opts = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

    _classCallCheck(this, Bow);

    _.extend(opts, {
      glyph: { fg: '#f00' },
      attacks: [_attacksAttacks2['default'].Ranged({ roll: '1d2' })], // if it can't shoot arrows, it'll bash for 1d2
      slotsTaken: 2,
      range: {
        ammo: ['arrow', 'dart'],
        damageBoost: '1d2'
      }
    });
    _get(Object.getPrototypeOf(Bow.prototype), 'constructor', this).call(this, opts);
  }

  return Bow;
})(_definitionsEquipment.Hands);

exports.Bow = Bow;

Bow.rarity = 25;

var Quarterstaff = (function (_Hands2) {
  _inherits(Quarterstaff, _Hands2);

  function Quarterstaff() {
    var opts = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

    _classCallCheck(this, Quarterstaff);

    _.extend(opts, {
      glyph: { fg: '#49311c' },
      attacks: [_attacksAttacks2['default'].Bash({ roll: '1d6' })],
      slotsTaken: 2
    });
    _get(Object.getPrototypeOf(Quarterstaff.prototype), 'constructor', this).call(this, opts);
  }

  return Quarterstaff;
})(_definitionsEquipment.Hands);

exports.Quarterstaff = Quarterstaff;

Quarterstaff.rarity = 25;

var Dagger = (function (_Hands3) {
  _inherits(Dagger, _Hands3);

  function Dagger() {
    var opts = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

    _classCallCheck(this, Dagger);

    _.extend(opts, {
      glyph: { fg: '#ccc' },
      attacks: [_attacksAttacks2['default'].Slash({ roll: '1d4' })]
    });
    _get(Object.getPrototypeOf(Dagger.prototype), 'constructor', this).call(this, opts);
  }

  return Dagger;
})(_definitionsEquipment.Hands);

exports.Dagger = Dagger;

Dagger.rarity = 25;

},{"../../definitions/equipment":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/equipment.js","../attacks/attacks":"/home/seioyria/projects/Roguathia/src/js/rogue/content/attacks/attacks.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/wrists.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsEquipment = require('../../definitions/equipment');

var Leather = (function (_Wrist) {
  _inherits(Leather, _Wrist);

  function Leather() {
    _classCallCheck(this, Leather);

    _get(Object.getPrototypeOf(Leather.prototype), 'constructor', this).apply(this, arguments);
  }

  return Leather;
})(_definitionsEquipment.Wrist);

exports.Leather = Leather;

Leather.rarity = 100;

},{"../../definitions/equipment":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/equipment.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/monsters/monsters.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }

var _behaviorsBehaviors = require('../behaviors/behaviors');

var Behaviors = _interopRequireWildcard(_behaviorsBehaviors);

var _attacksAttacks = require('../attacks/attacks');

var _attacksAttacks2 = _interopRequireDefault(_attacksAttacks);

var _itemsFoods = require('../items/foods');

var Foods = _interopRequireWildcard(_itemsFoods);

var gridBug = { difficulty: 1, glyph: { key: 'x', fg: 'purple' }, spawnPattern: '1d2', frequency: 100,
  attributes: { ac: -1, speed: 150, level: 1, str: 5, dex: 3, con: 0, killXp: '4d1', spawnHp: '1d4 + 2' },
  stats: { name: 'grid bug', race: 'Insect',
    behaviors: [Behaviors.SeeksTargetInSight(), Behaviors.Attacks()],
    attacks: [_attacksAttacks2['default'].ElectricTouch({ roll: '1d3 + 1' })]
  } };
exports.gridBug = gridBug;
var newt = { difficulty: 1, glyph: { key: ':', fg: 'yellow' }, spawnPattern: '1d1', frequency: 100,
  attributes: { ac: -2, speed: 50, level: 1, str: 2, dex: 1, con: 1, killXp: '1d1', spawnHp: '1d4' },
  stats: { name: 'newt', race: 'Salamander',
    behaviors: [Behaviors.LeavesCorpse(), Behaviors.SeeksTargetInSight(), Behaviors.Attacks()],
    attacks: [_attacksAttacks2['default'].Bite({ roll: '1d3 + 1' })]
  } };
exports.newt = newt;
var gasSpore = { difficulty: 2, glyph: { key: 'e', fg: 'gray' }, spawnPattern: '1d1', frequency: 50,
  attributes: { ac: 0, speed: 25, level: 2, str: 0, dex: 0, con: 0, killXp: '12d1', spawnHp: '2d4' },
  stats: { name: 'gas spore', race: 'Spore',
    behaviors: [Behaviors.Explodes('4d8'), Behaviors.Wanders()]
  } };
exports.gasSpore = gasSpore;
var jackal = { difficulty: 2, glyph: { key: 'd', fg: 'brown' }, spawnPattern: '1d3 + 1', frequency: 75,
  startingEquipment: [{ probability: 20, init: function init() {
      return new Foods.Ration({ charges: '1d2' });
    } }],
  attributes: { ac: -3, speed: 125, level: 1, str: '1d4 + 2', dex: '2d3 + 4', con: 4, killXp: '2d3 + 3', spawnHp: '3d3 + 5' },
  stats: { name: 'jackal', race: 'Canine',
    behaviors: [Behaviors.LeavesCorpse(), Behaviors.DropsGold('1d10'), Behaviors.Bloodthirsty(), Behaviors.Attacks(), Behaviors.DropsItems()],
    attacks: [_attacksAttacks2['default'].Bite({ roll: '1d2 + 1', toHit: '1d2' })]
  } };
exports.jackal = jackal;
var giantAnt = { difficulty: 4, glyph: { key: 'a', fg: 'brown' }, spawnPattern: '1d4 + 2', frequency: 20,
  attributes: { ac: -2, speed: 150, level: 3, str: '1d3 + 3', dex: '1d3 + 2', con: 4, killXp: '2d4 + 5', spawnHp: '1d8 + 5' },
  stats: { name: 'giant ant', race: 'Insect',
    behaviors: [Behaviors.LeavesCorpse(), Behaviors.DropsGold('2d4'), Behaviors.Bloodthirsty(), Behaviors.Attacks()],
    attacks: [_attacksAttacks2['default'].Bite({ roll: '1d4 + 1' })]
  } };
exports.giantAnt = giantAnt;

},{"../attacks/attacks":"/home/seioyria/projects/Roguathia/src/js/rogue/content/attacks/attacks.js","../behaviors/behaviors":"/home/seioyria/projects/Roguathia/src/js/rogue/content/behaviors/behaviors.js","../items/foods":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/foods.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/professions/_all.js":[function(require,module,exports){
// todo maybe make professions have their own xp/levelup stuff? that way it's not always 1/1 thief, 2/2 mage, etc. -- classes could grow at their own rates then, making some inherently more difficult than others.

'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _monster = require('./monster');

var _monster2 = _interopRequireDefault(_monster);

var _tourist = require('./tourist');

var _tourist2 = _interopRequireDefault(_tourist);

var _ranger = require('./ranger');

var _ranger2 = _interopRequireDefault(_ranger);

var _wizard = require('./wizard');

var _wizard2 = _interopRequireDefault(_wizard);

exports['default'] = { Monster: _monster2['default'], Tourist: _tourist2['default'], Ranger: _ranger2['default'], Wizard: _wizard2['default'] };
module.exports = exports['default'];

},{"./monster":"/home/seioyria/projects/Roguathia/src/js/rogue/content/professions/monster.js","./ranger":"/home/seioyria/projects/Roguathia/src/js/rogue/content/professions/ranger.js","./tourist":"/home/seioyria/projects/Roguathia/src/js/rogue/content/professions/tourist.js","./wizard":"/home/seioyria/projects/Roguathia/src/js/rogue/content/professions/wizard.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/professions/monster.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsProfession = require('../../definitions/profession');

var _definitionsProfession2 = _interopRequireDefault(_definitionsProfession);

var Monster = (function (_Profession) {
  _inherits(Monster, _Profession);

  function Monster() {
    _classCallCheck(this, Monster);

    _get(Object.getPrototypeOf(Monster.prototype), 'constructor', this).apply(this, arguments);
  }

  return Monster;
})(_definitionsProfession2['default']);

exports['default'] = Monster;
module.exports = exports['default'];

},{"../../definitions/profession":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/profession.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/professions/ranger.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsProfession = require('../../definitions/profession');

var _definitionsProfession2 = _interopRequireDefault(_definitionsProfession);

var _itemsFoods = require('../items/foods');

var Foods = _interopRequireWildcard(_itemsFoods);

var _itemsWeapons = require('../items/weapons');

var Weapons = _interopRequireWildcard(_itemsWeapons);

var _itemsPotions = require('../items/potions');

var Potions = _interopRequireWildcard(_itemsPotions);

var _itemsProjectiles = require('../items/projectiles');

var Projectiles = _interopRequireWildcard(_itemsProjectiles);

var rangerCfg = {
  hp: '2d8 + 4',
  mp: '0d0',
  str: '2d3',
  con: '1d5',
  int: '1d3',
  dex: '2d5',
  wis: '0d0',
  cha: '1d1',
  titles: ['Tenderfoot',, 'Lookout',,, 'Trailblazer',,, 'Reconnoiterex',,, 'Scout',,, 'Arbalester',,, 'Archer',,, 'Sharpshooter',,, 'Marksrex'],
  startingItems: [{ choices: { less: 5, more: 1 },
    choicesInit: {
      less: function less() {
        return new Projectiles.Arrow({ charges: '1d10 + 5', bucName: 'uncursed' });
      },
      more: function more() {
        return new Projectiles.Arrow({ charges: '2d10 + 10', bucName: 'uncursed' });
      }
    }
  }, { init: function init() {
      return new Weapons.Bow({ bucName: 'uncursed' });
    } }, { init: function init() {
      return new Foods.Ration({ charges: '1d3', bucName: 'uncursed' });
    } }, { init: function init() {
      return new Potions.Healing({ charges: '1d2', bucName: 'uncursed', startIdentified: true });
    } }]
};

var Ranger = (function (_Profession) {
  _inherits(Ranger, _Profession);

  function Ranger() {
    _classCallCheck(this, Ranger);

    _get(Object.getPrototypeOf(Ranger.prototype), 'constructor', this).call(this, rangerCfg);
  }

  return Ranger;
})(_definitionsProfession2['default']);

exports['default'] = Ranger;
module.exports = exports['default'];

},{"../../definitions/profession":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/profession.js","../items/foods":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/foods.js","../items/potions":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/potions.js","../items/projectiles":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/projectiles.js","../items/weapons":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/weapons.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/professions/tourist.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsProfession = require('../../definitions/profession');

var _definitionsProfession2 = _interopRequireDefault(_definitionsProfession);

var _itemsSpecial = require('../items/special');

var _itemsFoods = require('../items/foods');

var Foods = _interopRequireWildcard(_itemsFoods);

var _itemsPotions = require('../items/potions');

var Potions = _interopRequireWildcard(_itemsPotions);

var _itemsProjectiles = require('../items/projectiles');

var Projectiles = _interopRequireWildcard(_itemsProjectiles);

var touristCfg = {
  hp: '1d5 + 5',
  mp: '1d2 + 1',
  str: '1d3',
  con: '1d2',
  int: '1d3 - 3',
  dex: '1d2',
  wis: '1d2 - 3',
  cha: '1d3 + 1',
  luk: '1d3 - 1',
  titles: ['Rambler',, 'Sightseer',,, 'Excursionist',,, 'Perigrinator',,, 'Traveler',,, 'Journeyer',,, 'Voyager',,, 'Explorer',,, 'Adventurer'],
  startingItems: [{ init: function init() {
      return new _itemsSpecial.Gold(+dice.roll('1d1000'));
    } }, { choices: { less: 5, more: 1 },
    choicesInit: {
      less: function less() {
        return new Projectiles.Dart({ charges: '1d5 + 5', bucName: 'uncursed' });
      },
      more: function more() {
        return new Projectiles.Dart({ charges: '5d10 + 10', bucName: 'uncursed' });
      }
    }
  }, { init: function init() {
      return new Foods.Ration({ charges: '1d5 + 5', bucName: 'uncursed' });
    } }, { init: function init() {
      return new Potions.Healing({ charges: '1d3 + 1', bucName: 'blessed', startIdentified: true });
    } }]
};

var Tourist = (function (_Profession) {
  _inherits(Tourist, _Profession);

  function Tourist() {
    _classCallCheck(this, Tourist);

    _get(Object.getPrototypeOf(Tourist.prototype), 'constructor', this).call(this, touristCfg);
  }

  return Tourist;
})(_definitionsProfession2['default']);

exports['default'] = Tourist;
module.exports = exports['default'];

},{"../../definitions/profession":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/profession.js","../items/foods":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/foods.js","../items/potions":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/potions.js","../items/projectiles":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/projectiles.js","../items/special":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/special.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/professions/wizard.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsProfession = require('../../definitions/profession');

var _definitionsProfession2 = _interopRequireDefault(_definitionsProfession);

var _constantsFactions = require('../../constants/factions');

var _constantsFactions2 = _interopRequireDefault(_constantsFactions);

var _itemsFoods = require('../items/foods');

var Foods = _interopRequireWildcard(_itemsFoods);

var _itemsWeapons = require('../items/weapons');

var Weapons = _interopRequireWildcard(_itemsWeapons);

var _itemsPotions = require('../items/potions');

var Potions = _interopRequireWildcard(_itemsPotions);

var _itemsSpellbooks = require('../items/spellbooks');

var Spellbooks = _interopRequireWildcard(_itemsSpellbooks);

var _constantsRandom = require('../../constants/random');

var Random = _interopRequireWildcard(_constantsRandom);

var wizardCfg = {
  hp: '1d4 + 1',
  mp: '1d5 + 5',
  str: '1d2 - 4',
  con: '1d2 - 1',
  int: '2d3 + 1',
  dex: '1d2 - 4',
  wis: '1d2',
  cha: '1d3 - 1',
  regenHp: 20,
  regenMp: -3,
  titles: ['Evoker',, 'Conjurer',,, 'Thaumaturge',,, 'Magician',,, 'Enchantrex',,, 'Sorcerex',,, 'Necromancer',,, 'Wizard',,, 'Mage'],
  addFactions: [_constantsFactions2['default'].MAGIC],
  startingItems: [{ init: function init() {
      return Random.Ring({ bucName: 'uncursed' });
    } }, { init: function init() {
      return new Spellbooks.ForceBolt({ bucName: 'blessed' });
    } }, { init: function init() {
      return new Weapons.Quarterstaff({ bucName: 'uncursed' });
    } }, { init: function init() {
      return new Foods.Ration({ charges: '1d2', bucName: 'uncursed' });
    } }, { init: function init() {
      return new Potions.Healing({ charges: '1d2', bucName: 'uncursed' });
    } }]
};

var Wizard = (function (_Profession) {
  _inherits(Wizard, _Profession);

  function Wizard() {
    _classCallCheck(this, Wizard);

    _get(Object.getPrototypeOf(Wizard.prototype), 'constructor', this).call(this, wizardCfg);
  }

  return Wizard;
})(_definitionsProfession2['default']);

exports['default'] = Wizard;
module.exports = exports['default'];

},{"../../constants/factions":"/home/seioyria/projects/Roguathia/src/js/rogue/constants/factions.js","../../constants/random":"/home/seioyria/projects/Roguathia/src/js/rogue/constants/random.js","../../definitions/profession":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/profession.js","../items/foods":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/foods.js","../items/potions":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/potions.js","../items/spellbooks":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/spellbooks.js","../items/weapons":"/home/seioyria/projects/Roguathia/src/js/rogue/content/items/weapons.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/_all.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _canine = require('./canine');

var _canine2 = _interopRequireDefault(_canine);

var _elf = require('./elf');

var _elf2 = _interopRequireDefault(_elf);

var _gnome = require('./gnome');

var _gnome2 = _interopRequireDefault(_gnome);

var _human = require('./human');

var _human2 = _interopRequireDefault(_human);

var _insect = require('./insect');

var _insect2 = _interopRequireDefault(_insect);

var _lizard = require('./lizard');

var _lizard2 = _interopRequireDefault(_lizard);

var _manticore = require('./manticore');

var _manticore2 = _interopRequireDefault(_manticore);

var _orc = require('./orc');

var _orc2 = _interopRequireDefault(_orc);

var _psionic = require('./psionic');

var _psionic2 = _interopRequireDefault(_psionic);

var _salamander = require('./salamander');

var _salamander2 = _interopRequireDefault(_salamander);

var _snake = require('./snake');

var _snake2 = _interopRequireDefault(_snake);

var _spider = require('./spider');

var _spider2 = _interopRequireDefault(_spider);

var _spore = require('./spore');

var _spore2 = _interopRequireDefault(_spore);

exports['default'] = { Canine: _canine2['default'], Elf: _elf2['default'], Gnome: _gnome2['default'], Human: _human2['default'], Insect: _insect2['default'], Lizard: _lizard2['default'], Manticore: _manticore2['default'], Orc: _orc2['default'], Psionic: _psionic2['default'], Salamander: _salamander2['default'], Snake: _snake2['default'], Spider: _spider2['default'], Spore: _spore2['default'] };
module.exports = exports['default'];

},{"./canine":"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/canine.js","./elf":"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/elf.js","./gnome":"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/gnome.js","./human":"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/human.js","./insect":"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/insect.js","./lizard":"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/lizard.js","./manticore":"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/manticore.js","./orc":"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/orc.js","./psionic":"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/psionic.js","./salamander":"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/salamander.js","./snake":"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/snake.js","./spider":"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/spider.js","./spore":"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/spore.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/canine.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsRace = require('../../definitions/race');

var _definitionsRace2 = _interopRequireDefault(_definitionsRace);

var opts = { stats: { dex: 2, str: 2, con: 1, int: -1, wis: -1 } };

var Canine = (function (_Race) {
  _inherits(Canine, _Race);

  function Canine() {
    _classCallCheck(this, Canine);

    _get(Object.getPrototypeOf(Canine.prototype), 'constructor', this).call(this, opts);
  }

  return Canine;
})(_definitionsRace2['default']);

exports['default'] = Canine;
module.exports = exports['default'];

},{"../../definitions/race":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/race.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/elf.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsRace = require('../../definitions/race');

var _definitionsRace2 = _interopRequireDefault(_definitionsRace);

var opts = { stats: { int: 2, dex: 2, wis: 1, sight: 1 } };

var Elf = (function (_Race) {
  _inherits(Elf, _Race);

  function Elf() {
    _classCallCheck(this, Elf);

    _get(Object.getPrototypeOf(Elf.prototype), 'constructor', this).call(this, opts);
  }

  return Elf;
})(_definitionsRace2['default']);

exports['default'] = Elf;
module.exports = exports['default'];

},{"../../definitions/race":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/race.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/gnome.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsRace = require('../../definitions/race');

var _definitionsRace2 = _interopRequireDefault(_definitionsRace);

var opts = { stats: { str: -2, con: -2, dex: -1, int: 3, wis: 3, cha: -1, sight: 1 } };

var Gnome = (function (_Race) {
  _inherits(Gnome, _Race);

  function Gnome() {
    _classCallCheck(this, Gnome);

    _get(Object.getPrototypeOf(Gnome.prototype), 'constructor', this).call(this, opts);
  }

  return Gnome;
})(_definitionsRace2['default']);

exports['default'] = Gnome;
module.exports = exports['default'];

},{"../../definitions/race":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/race.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/human.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsRace = require('../../definitions/race');

var _definitionsRace2 = _interopRequireDefault(_definitionsRace);

var opts = { stats: { str: 1, con: 1, dex: 1, int: 1, wis: 1, cha: 1, luk: 1, sight: -1 } };

var Human = (function (_Race) {
  _inherits(Human, _Race);

  function Human() {
    _classCallCheck(this, Human);

    _get(Object.getPrototypeOf(Human.prototype), 'constructor', this).call(this, opts);
  }

  return Human;
})(_definitionsRace2['default']);

exports['default'] = Human;
module.exports = exports['default'];

},{"../../definitions/race":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/race.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/insect.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsRace = require('../../definitions/race');

var _definitionsRace2 = _interopRequireDefault(_definitionsRace);

var opts = { stats: { dex: -2, str: -2, con: -2 } };

var Insect = (function (_Race) {
  _inherits(Insect, _Race);

  function Insect() {
    _classCallCheck(this, Insect);

    _get(Object.getPrototypeOf(Insect.prototype), 'constructor', this).call(this, opts);
  }

  return Insect;
})(_definitionsRace2['default']);

exports['default'] = Insect;
module.exports = exports['default'];

},{"../../definitions/race":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/race.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/lizard.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsRace = require('../../definitions/race');

var _definitionsRace2 = _interopRequireDefault(_definitionsRace);

var opts = { slots: { hands: 3 }, stats: { dex: 2 } };

var Lizard = (function (_Race) {
  _inherits(Lizard, _Race);

  function Lizard() {
    _classCallCheck(this, Lizard);

    _get(Object.getPrototypeOf(Lizard.prototype), 'constructor', this).call(this, opts);
  }

  return Lizard;
})(_definitionsRace2['default']);

exports['default'] = Lizard;
module.exports = exports['default'];

},{"../../definitions/race":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/race.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/manticore.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsRace = require('../../definitions/race');

var _definitionsRace2 = _interopRequireDefault(_definitionsRace);

var opts = { slots: { hands: 0, body: 3, feet: 0, heads: 3, neck: 3, ring: 0, cloak: 0, wrist: 0 } };

var Manticore = (function (_Race) {
  _inherits(Manticore, _Race);

  function Manticore() {
    _classCallCheck(this, Manticore);

    _get(Object.getPrototypeOf(Manticore.prototype), 'constructor', this).call(this, opts);
  }

  return Manticore;
})(_definitionsRace2['default']);

exports['default'] = Manticore;
module.exports = exports['default'];

},{"../../definitions/race":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/race.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/orc.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsRace = require('../../definitions/race');

var _definitionsRace2 = _interopRequireDefault(_definitionsRace);

var opts = { stats: { dex: -1, str: 3, con: 3, int: -3, wis: -2, sight: 1 } };

var Orc = (function (_Race) {
  _inherits(Orc, _Race);

  function Orc() {
    _classCallCheck(this, Orc);

    _get(Object.getPrototypeOf(Orc.prototype), 'constructor', this).call(this, opts);
  }

  return Orc;
})(_definitionsRace2['default']);

exports['default'] = Orc;
module.exports = exports['default'];

},{"../../definitions/race":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/race.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/psionic.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsRace = require('../../definitions/race');

var _definitionsRace2 = _interopRequireDefault(_definitionsRace);

var opts = { stats: { dex: -5, str: -5, con: -3, int: 5, wis: 5 } };

var Psionic = (function (_Race) {
  _inherits(Psionic, _Race);

  function Psionic() {
    _classCallCheck(this, Psionic);

    _get(Object.getPrototypeOf(Psionic.prototype), 'constructor', this).call(this, opts);
  }

  _createClass(Psionic, [{
    key: 'canEquip',
    value: function canEquip(item) {
      return item.getType() !== 'hands' && _get(Object.getPrototypeOf(Psionic.prototype), 'canEquip', this).call(this, item);
    }
  }]);

  return Psionic;
})(_definitionsRace2['default']);

exports['default'] = Psionic;
module.exports = exports['default'];

},{"../../definitions/race":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/race.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/salamander.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsRace = require('../../definitions/race');

var _definitionsRace2 = _interopRequireDefault(_definitionsRace);

var opts = { stats: { con: 1, int: 1 } };

var Salamander = (function (_Race) {
  _inherits(Salamander, _Race);

  function Salamander() {
    _classCallCheck(this, Salamander);

    _get(Object.getPrototypeOf(Salamander.prototype), 'constructor', this).call(this, opts);
  }

  return Salamander;
})(_definitionsRace2['default']);

exports['default'] = Salamander;
module.exports = exports['default'];

},{"../../definitions/race":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/race.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/snake.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsRace = require('../../definitions/race');

var _definitionsRace2 = _interopRequireDefault(_definitionsRace);

var opts = { slots: { hands: 0, body: 1, feet: 0, heads: 1, neck: 1, ring: 1, cloak: 0, wrist: 0 } };

var Snake = (function (_Race) {
  _inherits(Snake, _Race);

  function Snake() {
    _classCallCheck(this, Snake);

    _get(Object.getPrototypeOf(Snake.prototype), 'constructor', this).call(this, opts);
  }

  return Snake;
})(_definitionsRace2['default']);

exports['default'] = Snake;
module.exports = exports['default'];

},{"../../definitions/race":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/race.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/spider.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsRace = require('../../definitions/race');

var _definitionsRace2 = _interopRequireDefault(_definitionsRace);

var opts = { slots: { hands: 0, body: 1, feet: 8, heads: 1, neck: 1, ring: 0, cloak: 0, wrist: 0 } };

var Spider = (function (_Race) {
  _inherits(Spider, _Race);

  function Spider() {
    _classCallCheck(this, Spider);

    _get(Object.getPrototypeOf(Spider.prototype), 'constructor', this).call(this, opts);
  }

  return Spider;
})(_definitionsRace2['default']);

exports['default'] = Spider;
module.exports = exports['default'];

},{"../../definitions/race":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/race.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/spore.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsRace = require('../../definitions/race');

var _definitionsRace2 = _interopRequireDefault(_definitionsRace);

var opts = {};

var Spore = (function (_Race) {
  _inherits(Spore, _Race);

  function Spore() {
    _classCallCheck(this, Spore);

    _get(Object.getPrototypeOf(Spore.prototype), 'constructor', this).call(this, opts);
  }

  return Spore;
})(_definitionsRace2['default']);

exports['default'] = Spore;
module.exports = exports['default'];

},{"../../definitions/race":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/race.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/abstract.js":[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Abstract = (function () {
  function Abstract() {
    _classCallCheck(this, Abstract);
  }

  _createClass(Abstract, [{
    key: "distBetween",
    value: function distBetween(target) {
      var a = target.x - this.x;
      var b = target.y - this.y;
      return Math.sqrt(a * a + b * b);
    }
  }]);

  return Abstract;
})();

exports["default"] = Abstract;
module.exports = exports["default"];

},{}],"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/attack.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _initGamestate = require('../init/gamestate');

var _initGamestate2 = _interopRequireDefault(_initGamestate);

var _displayMessageHandler = require('../display/message-handler');

var _displayMessageHandler2 = _interopRequireDefault(_displayMessageHandler);

var _abstract = require('./abstract');

var _abstract2 = _interopRequireDefault(_abstract);

var Attack = (function (_Abstract) {
  _inherits(Attack, _Abstract);

  function Attack(opts) {
    _classCallCheck(this, Attack);

    _get(Object.getPrototypeOf(Attack.prototype), 'constructor', this).call(this);
    _.extend(this, { roll: '1d4', toHit: '0d0', range: 1, chance: 100 }, opts);
    if (this.init) this.init();
  }

  _createClass(Attack, [{
    key: 'value',
    value: function value() {
      return dice.statistics(this.roll).mean + dice.statistics(this.toHit) + this.range * 3;
    }
  }, {
    key: 'inRange',
    value: function inRange(owner, target) {
      return owner.distBetween(target) <= this.range;
    }
  }, {
    key: 'possibleTargets',
    value: function possibleTargets(owner) {
      var possibleTargets = [];
      _initGamestate2['default'].world.fov[owner.z].compute(owner.x, owner.y, this.range, function (x, y) {
        var entity = _initGamestate2['default'].world.getEntity(x, y, owner.z);
        if (!entity || !owner.canAttack(entity)) return;
        possibleTargets.push(entity);
      });
      return possibleTargets;
    }
  }, {
    key: 'canUse',
    value: function canUse(owner) {
      if (ROT.RNG.getPercentage() > this.chance) return;
      return this.possibleTargets(owner).length > 0;
    }
  }, {
    key: 'canHit',
    value: function canHit(owner, target, attackNum) {
      if (owner.hp.atMin()) return false;
      var hitRoll = +dice.roll('1d' + (20 + attackNum)); // subsequent attacks are less likely to hit
      var targetAC = target.getAC();
      var myToHitBonus = +dice.roll(this.toHit) - owner.getToHit() - (this._itemRef ? this._itemRef.buc - 1 : 0); // cursed: -2, uncursed: 0, blessed: +1
      var targetACRoll = 0;

      if (targetAC >= 0) {
        targetACRoll = targetAC + owner.level - myToHitBonus;
      } else {
        targetACRoll = 10 + ROT.RNG.getUniformInt(targetAC, -1) + owner.level - myToHitBonus;
      }
      return hitRoll < targetACRoll;
    }
  }, {
    key: 'animate',
    value: function animate(owner, target, callback) {
      if (!this.glyph) return callback();

      var engine = _initGamestate2['default'].game.engine;
      engine.lock();

      var canPass = function canPass(x, y) {
        var entity = _initGamestate2['default'].world.getEntity(x, y, owner.z);
        var isAttackable = entity && owner.canAttack(entity);
        var isMe = owner.x === x && owner.y === y;
        return _initGamestate2['default'].world.isTilePassable(x, y, owner.z, false) || isMe || isAttackable;
      };
      var astar = new ROT.Path.AStar(target.x, target.y, canPass, { topology: 8 });

      var path = [];
      var pathCallback = function pathCallback(x, y) {
        path.push({ x: x, y: y });
      };

      astar.compute(owner.x, owner.y, pathCallback);

      path.shift();

      var projectile = new Projectile(this.glyph);
      projectile.z = owner.z;
      projectile.x = path[0].x;
      projectile.y = path[0].y;

      var moveTo = function moveTo(x, y) {
        _initGamestate2['default'].world.moveEntity(projectile, x, y, projectile.z);
        _initGamestate2['default'].game.refresh();
      };

      var finalize = function finalize() {
        _initGamestate2['default'].world.removeEntity(projectile);
        callback();
        _initGamestate2['default'].game.refresh();
        engine.unlock();
      };

      moveTo(projectile.x, projectile.y);

      _.each(path, function (step, i) {
        var curStep = step;
        setTimeout(function () {
          moveTo(curStep.x, curStep.y);
          if (i === path.length - 1) finalize();
        }, i * 50);
      });
    }
  }, {
    key: 'use',
    value: function use(owner, target, attackNum) {
      this.tryHit(owner, target, attackNum);
    }
  }, {
    key: 'tryHit',
    value: function tryHit(owner, target, attackNum) {
      var _this = this;

      if (!target) return;
      if (this._itemRef) this._itemRef.use(owner, target);
      if (!this.canHit(owner, target, attackNum)) {
        var extra = this.missCallback(owner, target);
        _displayMessageHandler2['default'].add({ message: this.missString(owner, target, extra) });
        return false;
      }
      this.animate(owner, target, function () {
        return _this.hit(owner, target);
      });
    }
  }, {
    key: 'calcDamage',
    value: function calcDamage(owner) {
      var damageBoost = 0;
      if (this._itemRef) {
        damageBoost += this._itemRef.enchantment;
        if (this._itemRef._tempAttackBoost) damageBoost += +dice.roll(this._itemRef._tempAttackBoost);
      }
      return +dice.roll(this.roll) + owner.calcStatBonus('str') + damageBoost;
    }
  }, {
    key: 'hit',
    value: function hit(owner, target) {
      var damage = this.calcDamage(owner, target);
      if (damage <= 0) {
        var _extra = this.blockCallback(owner, target);
        _displayMessageHandler2['default'].add({ message: this.blockString(owner, target, _extra) });
        return false;
      }
      var extra = this.hitCallback(owner, target, damage);
      _displayMessageHandler2['default'].add({ message: this.hitString(owner, target, damage, extra) });
      target.takeDamage(damage, owner);
    }
  }, {
    key: 'hitString',
    value: function hitString(owner, target, damage) {
      return owner.name + ' hit ' + target.name + ' for ' + damage + ' damage!';
    }
  }, {
    key: 'hitCallback',
    value: function hitCallback() {}
  }, {
    key: 'blockString',
    value: function blockString(owner, target) {
      return target.name + ' blocked ' + owner.name + '\'s attack!';
    }
  }, {
    key: 'blockCallback',
    value: function blockCallback() {}
  }, {
    key: 'missString',
    value: function missString(owner, target) {
      return owner.name + ' missed ' + target.name + '!';
    }
  }, {
    key: 'missCallback',
    value: function missCallback() {}
  }, {
    key: 'toJSON',
    value: function toJSON() {
      var me = _.omit(this, ['_itemRef']);
      return JSON.stringify(me);
    }
  }]);

  return Attack;
})(_abstract2['default']);

exports.Attack = Attack;

var Reagent = (function (_Attack) {
  _inherits(Reagent, _Attack);

  function Reagent() {
    _classCallCheck(this, Reagent);

    _get(Object.getPrototypeOf(Reagent.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Reagent, [{
    key: 'isValidRangedAttack',
    value: function isValidRangedAttack(owner) {
      return this._itemRef && this._itemRef.canUse(owner) && this._itemRef.hasValidAmmo(owner);
    }
  }, {
    key: 'use',
    value: function use(owner, target, attackNum) {
      if (this.isValidRangedAttack(owner)) return this._itemRef.use(owner);
      return _get(Object.getPrototypeOf(Reagent.prototype), 'use', this).call(this, owner, target, attackNum);
    }
  }]);

  return Reagent;
})(Attack);

exports.Reagent = Reagent;

var Projectile = function Projectile(glyph) {
  _classCallCheck(this, Projectile);

  this.glyph = glyph;
};

exports.Projectile = Projectile;

},{"../display/message-handler":"/home/seioyria/projects/Roguathia/src/js/rogue/display/message-handler.js","../init/gamestate":"/home/seioyria/projects/Roguathia/src/js/rogue/init/gamestate.js","./abstract":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/abstract.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/character.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x5, _x6, _x7) { var _again = true; _function: while (_again) { var object = _x5, property = _x6, receiver = _x7; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x5 = parent; _x6 = property; _x7 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _entity = require('./entity');

var _entity2 = _interopRequireDefault(_entity);

var _libNumberRange = require('../lib/number-range');

var _libNumberRange2 = _interopRequireDefault(_libNumberRange);

var _contentProfessions_all = require('../content/professions/_all');

var _contentProfessions_all2 = _interopRequireDefault(_contentProfessions_all);

var _contentRaces_all = require('../content/races/_all');

var _contentRaces_all2 = _interopRequireDefault(_contentRaces_all);

var _contentBehaviorsBehaviors = require('../content/behaviors/behaviors');

var Behaviors = _interopRequireWildcard(_contentBehaviorsBehaviors);

var _initGamestate = require('../init/gamestate');

var _initGamestate2 = _interopRequireDefault(_initGamestate);

var _contentAttacksAttacks = require('../content/attacks/attacks');

var _contentAttacksAttacks2 = _interopRequireDefault(_contentAttacksAttacks);

var _displayMessageHandler = require('../display/message-handler');

var _displayMessageHandler2 = _interopRequireDefault(_displayMessageHandler);

var _libValueAssign = require('../lib/value-assign');

var _libValueAssign2 = _interopRequireDefault(_libValueAssign);

var _libDirectionalProbability = require('../lib/directional-probability');

var _libDirectionalProbability2 = _interopRequireDefault(_libDirectionalProbability);

var defaultAttributes = {
  ac: 0,
  str: 8,
  con: 8,
  dex: 8,
  int: 8,
  wis: 8,
  cha: 8,
  luk: 0,
  gold: 0,
  level: 1,
  align: 0,
  speed: 100,
  sight: 7,
  killXp: '0d0',
  spawnHp: '15d1',
  spawnMp: '0d0',
  regenHp: 20,
  regenMp: 10
};

var defaultStats = {
  gender: 'None',
  name: 'Dudley',
  race: 'Human',
  attacks: [],
  behaviors: [],
  profession: 'Wizard'
};

var defaultBehaviors = [Behaviors.RegeneratesHp(), Behaviors.RegeneratesMp()];

var Character = (function (_Entity) {
  _inherits(Character, _Entity);

  function Character(glyph, x, y, z) {
    var _behaviors, _factions, _factions2;

    var opts = arguments.length <= 4 || arguments[4] === undefined ? { stats: {}, attributes: {} } : arguments[4];

    _classCallCheck(this, Character);

    _get(Object.getPrototypeOf(Character.prototype), 'constructor', this).call(this, glyph, x, y, z);

    this.factions = [];
    this.antiFactions = [];

    this.currentTurn = 0;

    _.extend(this, defaultAttributes, opts.attributes, _libValueAssign2['default']);
    _.extend(this, defaultStats, opts.stats);

    (_behaviors = this.behaviors).push.apply(_behaviors, defaultBehaviors);

    this.sortBehaviors();

    this.professionInst = new _contentProfessions_all2['default'][this.profession]();
    var profHp = this.professionInst.hp;
    var profMp = this.professionInst.mp;

    this.hp = new _libNumberRange2['default'](0, this.spawnHp + profHp, this.spawnHp + profHp);
    this.mp = new _libNumberRange2['default'](0, this.spawnMp + profMp, this.spawnMp + profMp);
    this.xp = new _libNumberRange2['default'](0, 0, this.calcLevelXp(this.level));
    (_factions = this.factions).push.apply(_factions, _toConsumableArray(this.professionInst.addFactions));

    this.raceInst = new _contentRaces_all2['default'][this.race]();
    (_factions2 = this.factions).push.apply(_factions2, _toConsumableArray(this.raceInst.addFactions));

    this.inventory = [];
    this.equipment = {};

    _initGamestate2['default'].world.moveEntity(this, this.x, this.y, this.z);

    this.loadStartingEquipment();

    this.game = _initGamestate2['default'].game;
    this.game.scheduler.add(this, true);
  }

  _createClass(Character, [{
    key: 'heal',
    value: function heal(roll, item) {
      var value = +dice.roll(roll);
      _displayMessageHandler2['default'].add({ message: this.name + ' used ' + item.name + ' and regained ' + value + ' health!' });
      this.hp.add(value);
    }
  }, {
    key: 'tryToStack',
    value: function tryToStack(item) {
      if (!item.charges) return;
      var didStack = false;
      _.each(this.inventory, function (testItem) {
        if (testItem.getType() !== item.getType()) return;
        if (testItem.buc !== item.buc || testItem.enchantment !== item.enchantment) return;
        testItem.charges += item.charges;
        didStack = true;
      });
      return didStack;
    }
  }, {
    key: 'loadStartingEquipment',
    value: function loadStartingEquipment() {
      var _this = this;

      var list = arguments.length <= 0 || arguments[0] === undefined ? this.professionInst.startingItems : arguments[0];

      if (!list) return;
      _.each(list, function (item) {
        if (item.probability && ROT.RNG.getPercentage() > item.probability) return;

        var inst = null;
        if (item.choices) {
          var choice = ROT.RNG.getWeightedValue(item.choices);
          inst = item.choicesInit[choice]();
        } else {
          inst = item.init();
        }

        _this.addToInventory(inst);
      });
    }
  }, {
    key: 'dropItem',
    value: function dropItem(item) {
      _initGamestate2['default'].world.moveItem(item, this.x, this.y, this.z);
    }
  }, {
    key: 'addToInventory',
    value: function addToInventory(item) {
      if (item.goldValue) {
        this.gold += item.goldValue;
        return;
      }
      if (this.tryToStack(item)) return;
      if (this.tryEquip(item)) return;
      this.inventory.push(item);
    }
  }, {
    key: 'removeFromInventory',
    value: function removeFromInventory(item) {
      this.inventory = _.without(this.inventory, item);
    }
  }, {
    key: 'isEquipped',
    value: function isEquipped(item) {
      var slot = item.getParentType();
      return _.contains(this.equipment[slot], item);
    }
  }, {
    key: 'slotsTaken',
    value: function slotsTaken(slot) {
      if (!this.equipment[slot]) return 0;
      return _.reduce(this.equipment[slot], function (prev, item) {
        return prev + item.slotsTaken;
      }, 0);
    }
  }, {
    key: 'canEquip',
    value: function canEquip(item) {
      return this.raceInst.canEquip(this, item);
    }
  }, {
    key: 'equip',
    value: function equip(item) {
      var slot = item.getParentType();
      if (!this.equipment[slot]) this.equipment[slot] = [];
      this.equipment[slot].push(item);
    }
  }, {
    key: 'getWorseItemsThan',
    value: function getWorseItemsThan(item) {
      var slot = item.getParentType();
      return _(this.equipment[slot]).filter(function (equip) {
        return equip.value() < item.value() && item.bucName !== 'cursed';
      });
    }
  }, {
    key: 'shouldEquip',
    value: function shouldEquip(item) {
      var slot = item.getParentType();
      if (this.raceInst.slots[slot] > 0 && this.canEquip(item)) return true;
      var lowerItems = this.getWorseItemsThan(item);
      return lowerItems.length < item.slotsTaken;
    }
  }, {
    key: 'tryEquip',
    value: function tryEquip(item) {
      if (!this.canEquip(item) || !this.shouldEquip(item)) return false;
      var worseItems = this.getWorseItemsThan(item);
      if (worseItems.length < item.slotsTaken) return false; // cursed items

      var slot = item.getParentType();
      if (worseItems.length > 0) {
        for (var i = 0; i < item.slotsTaken; i++) {
          this.equipment[slot] = _.without(this.equipment[slot], worseItems[i]);
          this.inventory.push(worseItems[i]);
        }
      }
      this.equip(item);
      return true;
    }
  }, {
    key: 'hasFaction',
    value: function hasFaction(faction) {
      return _.contains(this.factions, faction);
    }
  }, {
    key: 'doBehavior',
    value: function doBehavior(action) {
      var args = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];

      args.unshift(this);
      _.each(this.behaviors, function (behavior) {
        if (behavior[action]) return behavior[action].apply(behavior, args);
      }); // returning false from any behavior will cancel subsequent ones
    }
  }, {
    key: 'sortBehaviors',
    value: function sortBehaviors() {
      this.behaviors = _.sortBy(this.behaviors, 'priority');
    }
  }, {
    key: 'addBehavior',
    value: function addBehavior(behavior) {
      this.behaviors.push(behavior);
      this.sortBehaviors();
    }
  }, {
    key: 'hasBehavior',
    value: function hasBehavior(behavior) {
      return _.contains(_.pluck(this.behaviors, 'constructor.name'), behavior);
    }
  }, {
    key: 'addUniqueBehavior',
    value: function addUniqueBehavior(behavior) {
      if (this.hasBehavior(behavior.constructor.name)) return;
      this.addBehavior(behavior);
    }
  }, {
    key: 'removeBehavior',
    value: function removeBehavior(behavior) {
      this.behaviors = _.without(this.behaviors, behavior);
    }
  }, {
    key: 'takeDamage',
    value: function takeDamage(damage, attacker) {
      this.hp.sub(damage);
      if (this.hp.atMin()) {
        this.die(attacker);
      }
    }
  }, {
    key: 'die',
    value: function die(killer) {
      this.doBehavior('die');
      _displayMessageHandler2['default'].add({ message: this.name + ' was killed by ' + killer.name + '!' });
      killer.kill(this);

      this.killerName = killer.name;

      this.game.scheduler.remove(this);
      _initGamestate2['default'].world.removeEntity(this);
    }
  }, {
    key: 'kill',
    value: function kill(dead) {
      this.gainXp(dead.killXp);
      this.doBehavior('kill');
    }
  }, {
    key: 'stepRandomly',
    value: function stepRandomly() {
      var _this2 = this;

      var tiles = _initGamestate2['default'].world.getAllTilesInRange(this.x, this.y, this.z, 1);
      var validTiles = _.map(tiles, function (tile, i) {
        return _initGamestate2['default'].world.isTileEmpty(tile.x, tile.y, tile.z) ? i + 1 : null;
      }); // 1-9 instead of 0-8
      var direction = _(validTiles).compact().sample() - 1; // adjustment for array
      var newTile = tiles[direction]; // default to a random tile

      if (this.lastDirection) {
        (function () {
          var probs = (0, _libDirectionalProbability2['default'])(_this2.lastDirection + 1); // adjust for array
          var choices = _(validTiles).map(function (tileIndex) {
            return tileIndex ? [tileIndex, probs[tileIndex]] : null;
          }).compact().zipObject().value();
          direction = parseInt(ROT.RNG.getWeightedValue(choices)) - 1;
          newTile = tiles[direction];
        })();
      }

      if (!newTile) return; // surrounded
      this.move(newTile);
      this.lastDirection = direction;
    }
  }, {
    key: 'stepTowards',
    value: function stepTowards(target) {
      var _this3 = this;

      var path = [];
      var addPath = function addPath(x, y) {
        return path.push({ x: x, y: y });
      };
      target._path.compute(this.x, this.y, addPath);

      path.shift();
      var step = path.shift();
      if (!step) return false;

      var blockingEntityInfo = function blockingEntityInfo(path) {
        var entity = null;
        var step = null;
        _.each(path, function (step, i) {
          var testEntity = _initGamestate2['default'].world.getEntity(step.x, step.y, _this3.z);
          if (testEntity && !_this3.canAttack(testEntity)) {
            entity = testEntity;
            step = i;
            return false;
          }
        });
        return { entity: entity, step: step };
      };

      var mainBlockingInfo = blockingEntityInfo(path);

      // the main path is blocked
      if (mainBlockingInfo.entity) {
        var altPath = this.getAlternatePathTo(target);

        // no alternate path could be generated
        if (!altPath) {
          this.moveTo(step.x, step.y);
          return true;
        }

        var altBlockingInfo = blockingEntityInfo(altPath);

        // both are blocked, take the shortest path
        if (mainBlockingInfo.entity && altBlockingInfo.entity) {
          var newPath = _.min([path, altPath], function (testPath) {
            return testPath.length;
          });
          var newStep = newPath.shift();
          this.moveTo(newStep.x, newStep.y);

          // the alt path isn't blocked, take that
        } else {
            var newStep = altPath.shift();
            this.moveTo(newStep.x, newStep.y);
          }

        // no blockers, keep moving on
      } else {
          this.moveTo(step.x, step.y);
        }

      return true;
    }
  }, {
    key: 'getAlternatePathTo',
    value: function getAlternatePathTo(target) {
      var _this4 = this;

      var canPass = function canPass(x, y) {
        var entity = _initGamestate2['default'].world.getEntity(x, y, _this4.z);
        var isAttackable = entity && _this4.canAttack(entity);
        var isMe = _this4.x === x && _this4.y === y;
        return _initGamestate2['default'].world.isTilePassable(x, y, _this4.z) || isMe || isAttackable;
      };
      var astar = new ROT.Path.AStar(target.x, target.y, canPass);

      var path = [];
      astar.compute(this.x, this.y, function (x, y) {
        return path.push({ x: x, y: y });
      });

      path.shift();
      var step = path.shift();
      if (!step) return null;
      return path;
    }
  }, {
    key: 'canAttack',
    value: function canAttack(entity) {
      return _.intersection(entity.factions, this.antiFactions).length > 0;
    }
  }, {
    key: 'doAttack',
    value: function doAttack(attack, hitNum) {
      var target = attack.possibleTargets(this)[0];
      if (!target) return; // possibly a multi-shot attack that has killed early
      attack.use(this, target, hitNum);
    }
  }, {
    key: 'tryAttack',
    value: function tryAttack() {
      var attacks = this.getAttacks();
      if (attacks.length === 0) return false;

      _.each(attacks, this.doAttack, this);
      return true;
    }
  }, {
    key: 'act',
    value: function act() {
      this.currentTurn++;
      this.doBehavior('act');
    }
  }, {
    key: 'moveTo',
    value: function moveTo(x, y) {
      return _initGamestate2['default'].world.moveEntity(this, x, y, this.z);
    }
  }, {
    key: 'move',
    value: function move(newTile) {
      return _initGamestate2['default'].world.moveEntity(this, newTile.x, newTile.y, newTile.z);
    }
  }, {
    key: 'calcLevelXp',
    value: function calcLevelXp(level) {
      return 10 * Math.pow(2, level);
    }
  }, {
    key: 'calcLevelHpBonus',
    value: function calcLevelHpBonus() {
      return +dice.roll(this.professionInst.config.hp) + this.calcStatBonus('con');
    }
  }, {
    key: 'calcLevelMpBonus',
    value: function calcLevelMpBonus() {
      return +dice.roll(this.professionInst.config.mp) + this.calcStatBonus('int');
    }
  }, {
    key: 'gainXp',
    value: function gainXp(number) {
      this.xp.add(number);
      if (this.xp.atMax()) {
        this.levelup();
      }
    }
  }, {
    key: 'getAlign',
    value: function getAlign() {
      if (this.align <= -100) return 'Evil';
      if (this.align >= 100) return 'Good';
      return 'Neutral';
    }
  }, {
    key: 'levelup',
    value: function levelup() {
      this.professionInst.levelup();
      this.level += 1;
      this.hp.max += this.calcLevelHpBonus();
      this.mp.max += this.calcLevelMpBonus();
      this.xp.max = this.calcLevelXp(this.level);

      // resets
      this.xp.cur = 0;
      this.hp.cur = this.hp.max;
      this.mp.cur = this.mp.max;

      _displayMessageHandler2['default'].add({ message: this.name + ' has reached experience level ' + this.level + '!' });
    }
  }, {
    key: 'rollOrAdd',
    value: function rollOrAdd(val) {
      val = _.isString(val) ? +dice.roll(val) : val;
      return !val || _.isNaN(val) ? 0 : val;
    }
  }, {
    key: 'getAttacks',
    value: function getAttacks() {
      var _this5 = this;

      var baseAttacks = this.attacks || [];
      var racialAttacks = baseAttacks.concat(this.raceInst.attacks);
      var attacks = racialAttacks.concat(_(this.equipment).values().flatten().filter(function (item) {
        return item.canUse(_this5) && item.attacks;
      }).pluck('attacks').flatten().value());
      if (attacks.length === 0) attacks = [_contentAttacksAttacks2['default'].Unarmed()];
      var inventoryAttacks = _(this.inventory).filter(function (item) {
        return item.canUse(_this5) && item.attacks;
      }).pluck('attacks').flatten().value();

      // all melee attacks are valid, but only one ranged inventory attack can be used
      if (_.some(attacks, function (atk) {
        return atk.canUse(_this5);
      })) return attacks;
      return _.compact([_(inventoryAttacks).filter(function (atk) {
        return atk.canUse(_this5);
      }).sample()]);
    }
  }, {
    key: 'getStat',
    value: function getStat(stat) {
      return this.rollOrAdd(this[stat]) + this.rollOrAdd(this.professionInst[stat]) + this.rollOrAdd(this.raceInst[stat]);
    }
  }, {
    key: 'getStatWithMin',
    value: function getStatWithMin(stat) {
      var min = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];

      return Math.max(min, this.getStat(stat));
    }
  }, {
    key: 'getRegenHp',
    value: function getRegenHp() {
      return this.getStatWithMin('regenHp');
    }
  }, {
    key: 'getRegenMp',
    value: function getRegenMp() {
      return this.getStatWithMin('regenMp');
    }
  }, {
    key: 'getBonusDamage',
    value: function getBonusDamage() {
      return this.getStat('bonusDamage');
    }
  }, {
    key: 'getToHit',
    value: function getToHit() {
      return this.getStat('toHit');
    }
  }, {
    key: 'getSight',
    value: function getSight() {
      return this.getStatWithMin('sight');
    }
  }, {
    key: 'getSpeed',
    value: function getSpeed() {
      return this.getStatWithMin('speed');
    }
  }, {
    key: 'getAC',
    value: function getAC() {
      return 10 + this.getStat('ac') - this.calcStatBonus('dex');
    }
  }, {
    key: 'getStr',
    value: function getStr() {
      return this.getStatWithMin('str');
    }
  }, {
    key: 'getDex',
    value: function getDex() {
      return this.getStatWithMin('dex');
    }
  }, {
    key: 'getCon',
    value: function getCon() {
      return this.getStatWithMin('con');
    }
  }, {
    key: 'getInt',
    value: function getInt() {
      return this.getStatWithMin('int');
    }
  }, {
    key: 'getWis',
    value: function getWis() {
      return this.getStatWithMin('wis');
    }
  }, {
    key: 'getCha',
    value: function getCha() {
      return this.getStatWithMin('cha');
    }
  }, {
    key: 'getLuk',
    value: function getLuk() {
      return this.getStatWithMin('luk');
    }

    // -2 = 4/5, -1 = 6/7, 0 = 8, +1 = 9/10, +2 = 10/11 (etc)
  }, {
    key: 'calcStatBonus',
    value: function calcStatBonus(stat) {
      return Math.floor(this['get' + _.capitalize(stat)]() / 2) - 4;
    }
  }, {
    key: 'toJSON',
    value: function toJSON() {
      var me = _.omit(this, ['game', '_path']);
      return JSON.stringify(me);
    }
  }]);

  return Character;
})(_entity2['default']);

exports['default'] = Character;
module.exports = exports['default'];

},{"../content/attacks/attacks":"/home/seioyria/projects/Roguathia/src/js/rogue/content/attacks/attacks.js","../content/behaviors/behaviors":"/home/seioyria/projects/Roguathia/src/js/rogue/content/behaviors/behaviors.js","../content/professions/_all":"/home/seioyria/projects/Roguathia/src/js/rogue/content/professions/_all.js","../content/races/_all":"/home/seioyria/projects/Roguathia/src/js/rogue/content/races/_all.js","../display/message-handler":"/home/seioyria/projects/Roguathia/src/js/rogue/display/message-handler.js","../init/gamestate":"/home/seioyria/projects/Roguathia/src/js/rogue/init/gamestate.js","../lib/directional-probability":"/home/seioyria/projects/Roguathia/src/js/rogue/lib/directional-probability.js","../lib/number-range":"/home/seioyria/projects/Roguathia/src/js/rogue/lib/number-range.js","../lib/value-assign":"/home/seioyria/projects/Roguathia/src/js/rogue/lib/value-assign.js","./entity":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/entity.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/entity.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x4, _x5, _x6) { var _again = true; _function: while (_again) { var object = _x4, property = _x5, receiver = _x6; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x4 = parent; _x5 = property; _x6 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _glyph = require('./glyph');

var _glyph2 = _interopRequireDefault(_glyph);

var _abstract = require('./abstract');

var _abstract2 = _interopRequireDefault(_abstract);

var Entity = (function (_Abstract) {
  _inherits(Entity, _Abstract);

  function Entity(glyphOpts) {
    var x = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];
    var y = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];
    var z = arguments.length <= 3 || arguments[3] === undefined ? 0 : arguments[3];

    _classCallCheck(this, Entity);

    _get(Object.getPrototypeOf(Entity.prototype), 'constructor', this).call(this);
    this.density = 1;
    this.opacity = 0;
    this.x = x;
    this.y = y;
    this.z = z;
    this.setGlyph(glyphOpts);
  }

  _createClass(Entity, [{
    key: 'setGlyph',
    value: function setGlyph(glyphOpts) {
      this.glyph = new _glyph2['default'](glyphOpts.key, glyphOpts.fg, glyphOpts.bg);
    }
  }, {
    key: 'isDense',
    value: function isDense() {
      return this.density;
    }
  }, {
    key: 'isBlockingLight',
    value: function isBlockingLight() {
      return this.opacity;
    }
  }]);

  return Entity;
})(_abstract2['default']);

exports['default'] = Entity;
module.exports = exports['default'];

},{"./abstract":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/abstract.js","./glyph":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/glyph.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/equipment.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x3, _x4, _x5) { var _again = true; _function: while (_again) { var object = _x3, property = _x4, receiver = _x5; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x3 = parent; _x4 = property; _x5 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _item = require('./item');

var _constantsFaketypes = require('../constants/faketypes');

var Fakes = _interopRequireWildcard(_constantsFaketypes);

var Equipment = (function (_Item) {
  _inherits(Equipment, _Item);

  function Equipment() {
    _classCallCheck(this, Equipment);

    _get(Object.getPrototypeOf(Equipment.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Equipment, [{
    key: 'name',
    get: function get() {
      var name = this.isIdentified() ? this.realName : this.fakeName;
      var enchant = this.enchantment ? '+' + this.enchantment + ' ' + name : name;
      var buc = this.bucName !== 'uncursed' ? this.bucName + ' ' + enchant : enchant;
      return buc;
    }
  }]);

  return Equipment;
})(_item.Item);

var Special = (function (_Item2) {
  _inherits(Special, _Item2);

  function Special() {
    _classCallCheck(this, Special);

    _get(Object.getPrototypeOf(Special.prototype), 'constructor', this).apply(this, arguments);
  }

  return Special;
})(_item.Item);

exports.Special = Special;

var Comestible = (function (_Item3) {
  _inherits(Comestible, _Item3);

  function Comestible() {
    var opts = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

    _classCallCheck(this, Comestible);

    opts.symbol = '%';
    _get(Object.getPrototypeOf(Comestible.prototype), 'constructor', this).call(this, opts);
  }

  return Comestible;
})(_item.Item);

exports.Comestible = Comestible;

var Armor = (function (_Equipment) {
  _inherits(Armor, _Equipment);

  function Armor() {
    _classCallCheck(this, Armor);

    _get(Object.getPrototypeOf(Armor.prototype), 'constructor', this).apply(this, arguments);
  }

  return Armor;
})(Equipment);

exports.Armor = Armor;

var Weapon = (function (_Equipment2) {
  _inherits(Weapon, _Equipment2);

  function Weapon(opts) {
    _classCallCheck(this, Weapon);

    _get(Object.getPrototypeOf(Weapon.prototype), 'constructor', this).call(this, opts);
    this.realName = this.fakeName = this.getType();
  }

  return Weapon;
})(Equipment);

exports.Weapon = Weapon;

var Body = (function (_Armor) {
  _inherits(Body, _Armor);

  function Body(opts) {
    _classCallCheck(this, Body);

    opts.symbol = '[';
    _get(Object.getPrototypeOf(Body.prototype), 'constructor', this).call(this, opts);
    this.realName = this.fakeName = this.getCanonName() + ' armor';
  }

  return Body;
})(Armor);

exports.Body = Body;

Body.rarity = 10;

var Ring = (function (_Armor2) {
  _inherits(Ring, _Armor2);

  function Ring(opts) {
    _classCallCheck(this, Ring);

    opts.bucProb = { cursed: 7, blessed: 2, uncursed: 91 };
    opts.symbol = '=';
    _get(Object.getPrototypeOf(Ring.prototype), 'constructor', this).call(this, opts);
    this.realName = 'ring of ' + this.getCanonName();
    this.fakeName = this.pickFakeName(Fakes.Ring) + ' ring';
  }

  return Ring;
})(Armor);

exports.Ring = Ring;

Ring.rarity = 3;

var Hands = (function (_Weapon) {
  _inherits(Hands, _Weapon);

  function Hands(opts) {
    _classCallCheck(this, Hands);

    opts.symbol = ')';
    _get(Object.getPrototypeOf(Hands.prototype), 'constructor', this).call(this, opts);
    this.realName = this.fakeName = '' + this.getCanonName();
  }

  return Hands;
})(Weapon);

exports.Hands = Hands;

Hands.rarity = 10;

var Wrist = (function (_Armor3) {
  _inherits(Wrist, _Armor3);

  function Wrist(opts) {
    _classCallCheck(this, Wrist);

    opts.symbol = '[';
    _get(Object.getPrototypeOf(Wrist.prototype), 'constructor', this).call(this, opts);
    this.realName = this.fakeName = this.getCanonName() + ' gloves';
  }

  return Wrist;
})(Armor);

exports.Wrist = Wrist;

Wrist.rarity = 10;

var Feet = (function (_Armor4) {
  _inherits(Feet, _Armor4);

  function Feet(opts) {
    _classCallCheck(this, Feet);

    opts.symbol = '[';
    _get(Object.getPrototypeOf(Feet.prototype), 'constructor', this).call(this, opts);
    this.realName = this.fakeName = this.getCanonName() + ' boots';
    this.slotsTaken = 2;
  }

  return Feet;
})(Armor);

exports.Feet = Feet;

Feet.rarity = 10;

var Head = (function (_Armor5) {
  _inherits(Head, _Armor5);

  function Head(opts) {
    _classCallCheck(this, Head);

    opts.symbol = '[';
    _get(Object.getPrototypeOf(Head.prototype), 'constructor', this).call(this, opts);
    this.realName = this.fakeName = this.getCanonName() + ' helm';
  }

  return Head;
})(Armor);

exports.Head = Head;

Head.rarity = 10;

var Cloak = (function (_Armor6) {
  _inherits(Cloak, _Armor6);

  function Cloak(opts) {
    _classCallCheck(this, Cloak);

    opts.symbol = '[';
    _get(Object.getPrototypeOf(Cloak.prototype), 'constructor', this).call(this, opts);
    this.realName = this.fakeName = 'ring of ' + this.getCanonName();
  }

  return Cloak;
})(Armor);

exports.Cloak = Cloak;

Cloak.rarity = 5;

var Neck = (function (_Armor7) {
  _inherits(Neck, _Armor7);

  function Neck(opts) {
    _classCallCheck(this, Neck);

    opts.symbol = '"';
    _get(Object.getPrototypeOf(Neck.prototype), 'constructor', this).call(this, opts);
    this.realName = this.fakeName = 'amulet of ' + this.getCanonName();
  }

  return Neck;
})(Armor);

exports.Neck = Neck;

Neck.rarity = 3;

var Gem = (function (_Item4) {
  _inherits(Gem, _Item4);

  function Gem(opts) {
    _classCallCheck(this, Gem);

    opts.symbol = '*';
    _get(Object.getPrototypeOf(Gem.prototype), 'constructor', this).call(this, opts);
    this.realName = this.fakeName = 'amulet of ' + this.getCanonName();
  }

  return Gem;
})(_item.Item);

exports.Gem = Gem;

Gem.rarity = 25;

var Scroll = (function (_Item5) {
  _inherits(Scroll, _Item5);

  function Scroll(opts) {
    _classCallCheck(this, Scroll);

    opts.symbol = '?';
    _get(Object.getPrototypeOf(Scroll.prototype), 'constructor', this).call(this, opts);
    this.realName = this.fakeName = '' + this.getCanonName();
  }

  return Scroll;
})(_item.Item);

exports.Scroll = Scroll;

Scroll.rarity = 15;

var Wand = (function (_Item6) {
  _inherits(Wand, _Item6);

  function Wand(opts) {
    _classCallCheck(this, Wand);

    opts.symbol = '/';
    _get(Object.getPrototypeOf(Wand.prototype), 'constructor', this).call(this, opts);
    this.realName = this.fakeName = 'wand of ' + this.getCanonName();
  }

  return Wand;
})(_item.Item);

exports.Wand = Wand;

Wand.rarity = 2;

var Spellbook = (function (_Weapon2) {
  _inherits(Spellbook, _Weapon2);

  function Spellbook() {
    var opts = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

    _classCallCheck(this, Spellbook);

    opts.manaCost = opts.manaCost || 3;
    opts.symbol = '+';
    _get(Object.getPrototypeOf(Spellbook.prototype), 'constructor', this).call(this, opts);
  }

  return Spellbook;
})(Weapon);

exports.Spellbook = Spellbook;

Spellbook.rarity = 1;

var Potion = (function (_Equipment3) {
  _inherits(Potion, _Equipment3);

  function Potion(opts) {
    _classCallCheck(this, Potion);

    opts.symbol = '!';
    _get(Object.getPrototypeOf(Potion.prototype), 'constructor', this).call(this, opts);
    this.realName = 'potion of ' + this.getCanonName();
    this.fakeName = this.pickFakeName(Fakes.Potion) + ' potion';
  }

  return Potion;
})(Equipment);

exports.Potion = Potion;

Potion.rarity = 15;

},{"../constants/faketypes":"/home/seioyria/projects/Roguathia/src/js/rogue/constants/faketypes.js","./item":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/item.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/glyph.js":[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Glyph = function Glyph(key, fg, bg) {
  _classCallCheck(this, Glyph);

  this.key = key;
  this.fg = fg;
  this.bg = bg;
};

exports["default"] = Glyph;
module.exports = exports["default"];

},{}],"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/item.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _glyph = require('./glyph');

var _glyph2 = _interopRequireDefault(_glyph);

var _libValidColors = require('../lib/valid-colors');

var _initGamestate = require('../init/gamestate');

var _initGamestate2 = _interopRequireDefault(_initGamestate);

var Item = (function () {
  function Item(opts) {
    var _this = this;

    _classCallCheck(this, Item);

    opts.glyph = _.extend({ fg: (0, _libValidColors.GetColor)(), key: opts.symbol }, opts.glyph);
    _.extend(this, opts);
    this.enchantment = this.enchantment || 0;
    this.slotsTaken = this.slotsTaken || 1;
    if (this.attacks) {
      _.each(this.attacks, function (attack) {
        return attack._itemRef = _this;
      });
    }
    if (this.range) {
      this.range = _.extend({ numShots: 1, damageBoost: '0d0', ammo: [] }, this.range);
    }
    if (this.charges) this.charges = +dice.roll(this.charges);
    if (this.startIdentified) this.identify();
    this.glyph = new _glyph2['default'](opts.glyph.key, opts.glyph.fg);
    this.generateBUC(opts.bucProb);
  }

  _createClass(Item, [{
    key: 'isIdentified',
    value: function isIdentified() {
      var myType = this.getParentType();
      return _initGamestate2['default'].identification[myType];
    }
  }, {
    key: 'identify',
    value: function identify() {
      var myType = this.getParentType();
      _initGamestate2['default'].identification[myType] = this.realName;
    }
  }, {
    key: 'pickFakeName',
    value: function pickFakeName(choices) {
      var myType = this.getParentType();
      if (_initGamestate2['default']._idMap[this.realName]) {
        return _initGamestate2['default']._idMap[this.realName]; // this item has already been generated
      }
      var currentTypes = _.keys(_initGamestate2['default'].identification[myType]);
      var validTypes = _.difference(choices, currentTypes);
      var name = _.sample(validTypes);
      _initGamestate2['default']._idMap[this.realName] = name;
      return name;
    }
  }, {
    key: 'canUse',
    value: function canUse(owner) {
      if (this.manaCost) return owner.mp.gte(this.manaCost);
      if (this.charges) return this.charges > 0;
      return owner.isEquipped(this);
    }
  }, {
    key: 'hasValidAmmo',
    value: function hasValidAmmo(owner) {
      return this.getValidAmmo(owner).length > 0;
    }
  }, {
    key: 'getValidAmmo',
    value: function getValidAmmo(owner) {
      var _this2 = this;

      return _.filter(owner.inventory, function (item) {
        return item.canUse(owner) && _.contains(_this2.range.ammo, item.getType());
      });
    }
  }, {
    key: 'use',
    value: function use(owner) {
      if (this.manaCost) owner.mp.sub(this.manaCost);
      if (this.healRoll) owner.heal(this.healRoll, this);
      if (this.charges) {
        this.charges--;
        if (this.charges <= 0 && this.autoRemove) owner.removeFromInventory(this);
      }
      if (this.range && this.hasValidAmmo(owner)) {
        this.pewpew(owner);
      }
    }
  }, {
    key: 'pewpew',
    value: function pewpew(owner) {
      for (var i = 0; i < this.range.numShots; i++) {
        var chosenAmmo = _.sample(this.getValidAmmo(owner));
        chosenAmmo._tempAttackBoost = this.range.damageBoost;
        var attack = _.sample(chosenAmmo.attacks);
        owner.doAttack(attack, i);
        delete chosenAmmo._tempAttackBoost;
      }
    }
  }, {
    key: 'getCanonName',
    value: function getCanonName() {
      return _.startCase(this.constructor.name).toLowerCase();
    }
  }, {
    key: 'getType',
    value: function getType() {
      return this.constructor.name.toLowerCase();
    }
  }, {
    key: 'getParentType',
    value: function getParentType() {
      return Object.getPrototypeOf(Object.getPrototypeOf(this)).constructor.name.toLowerCase();
    }
  }, {
    key: 'generateBUC',
    value: function generateBUC() {
      var opts = arguments.length <= 0 || arguments[0] === undefined ? { cursed: 5, blessed: 5, uncursed: 90 } : arguments[0];

      if (!this.bucName) {
        var _status = ROT.RNG.getWeightedValue(opts);
        this.bucName = _status;
      }
      var hash = { cursed: -1, uncursed: 1, blessed: 2 };
      this.buc = hash[this.bucName];
    }
  }, {
    key: 'value',
    value: function value() {
      var atkValue = _.reduce(this.attacks, function (prev, cur) {
        return prev + cur.value();
      }, 0);
      return this.buc * (100 - this.rarity) + this.enchantment * 5 + atkValue;
    }
  }, {
    key: 'toJSON',
    value: function toJSON() {
      var me = _.omit(this, ['bucProb', 'startIdentified', '_tempAttackBoost', 'symbol']);
      return JSON.stringify(me);
    }
  }]);

  return Item;
})();

exports.Item = Item;

},{"../init/gamestate":"/home/seioyria/projects/Roguathia/src/js/rogue/init/gamestate.js","../lib/valid-colors":"/home/seioyria/projects/Roguathia/src/js/rogue/lib/valid-colors.js","./glyph":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/glyph.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/monster.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _character = require('./character');

var _character2 = _interopRequireDefault(_character);

var _constantsFactions = require('../constants/factions');

var _constantsFactions2 = _interopRequireDefault(_constantsFactions);

var defaultMonsterStats = {
  str: 8,
  con: 8,
  dex: 8,
  int: 8,
  wis: 8,
  cha: 8
};

var Monster = (function (_Character) {
  _inherits(Monster, _Character);

  function Monster(x, y, z, opts) {
    var _factions;

    _classCallCheck(this, Monster);

    opts.stats.profession = 'Monster';
    opts.attributes = _.extend({}, defaultMonsterStats, opts.attributes);
    _get(Object.getPrototypeOf(Monster.prototype), 'constructor', this).call(this, opts.glyph, x, y, z, opts);
    this.difficulty = opts.difficulty;
    this.antiFactions.push(_constantsFactions2['default'].PLAYER);
    if (opts.addFactions) (_factions = this.factions).push.apply(_factions, _toConsumableArray(opts.addFactions));
    if (opts.startingEquipment) this.loadStartingEquipment(opts.startingEquipment);
  }

  _createClass(Monster, [{
    key: 'toJSON',
    value: function toJSON() {
      var base = JSON.parse(_get(Object.getPrototypeOf(Monster.prototype), 'toJSON', this).call(this));
      var me = _.omit(base, 'target');
      return JSON.stringify(me);
    }
  }]);

  return Monster;
})(_character2['default']);

exports['default'] = Monster;
module.exports = exports['default'];

},{"../constants/factions":"/home/seioyria/projects/Roguathia/src/js/rogue/constants/factions.js","./character":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/character.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/player.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _character = require('./character');

var _character2 = _interopRequireDefault(_character);

var _constantsSettings = require('../constants/settings');

var _constantsSettings2 = _interopRequireDefault(_constantsSettings);

var _initGamestate = require('../init/gamestate');

var _initGamestate2 = _interopRequireDefault(_initGamestate);

var _worldgenMonsterSpawner = require('../worldgen/monster-spawner');

var _worldgenMonsterSpawner2 = _interopRequireDefault(_worldgenMonsterSpawner);

var _contentBehaviorsBehaviors = require('../content/behaviors/behaviors');

var Behaviors = _interopRequireWildcard(_contentBehaviorsBehaviors);

var _constantsFactions = require('../constants/factions');

var _constantsFactions2 = _interopRequireDefault(_constantsFactions);

var Player = (function (_Character) {
  _inherits(Player, _Character);

  function Player(x, y, z) {
    var opts = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];

    _classCallCheck(this, Player);

    opts.stats = { behaviors: [Behaviors.Attacks(), Behaviors.PickUpItems(), Behaviors.HealsBelowPercent(50), Behaviors.Interacts(), Behaviors.Wanders()] };
    _get(Object.getPrototypeOf(Player.prototype), 'constructor', this).call(this, { key: '@' }, x, y, z, opts);
    this.factions.push(_constantsFactions2['default'].PLAYER);
    this.antiFactions.push(_constantsFactions2['default'].MONSTER);
    this.spawnSteps = 100; // spawn creatures every 100 steps
    this.totalXpEarned = 0;
    this.kpEarned = 0;
    this.conquest = {};

    this.name = _.trunc(this.name, { length: 15, omission: '' });
    this.conduct = this.baseConduct();
  }

  _createClass(Player, [{
    key: 'baseConduct',
    value: function baseConduct() {
      return {
        // foodless:     'You went without food.',
        // vegan:        'You were vegan.',
        // vegetarian:   'You were vegetarian.',
        atheist: 'You were atheist.',
        pacifist: 'You were a pacifist.',
        noWeapon: 'You never hit with a wielded weapon.',
        illiterate: 'You were illiterate.',
        // noOtherPoly:  'You never polymorphed another being.',
        // noSelfPoly:   'You were never polymorphed.',
        // noGenocide:   'You did not commit genocide.',
        wishless: 'You never wished for anything.',
        // survivor:     'You were never revived.',
        // nudist:       'You never wore armor.',
        // zen:          'You were blind throughout your adventure.',
        // stubborn:     'You never changed equipment.',
        celibate: 'You were celibate.'
      };
    }
  }, {
    key: 'getSpawnSteps',
    value: function getSpawnSteps() {
      return this.getStat('spawnSteps');
    }
  }, {
    key: 'gainXp',
    value: function gainXp(xp) {
      _get(Object.getPrototypeOf(Player.prototype), 'gainXp', this).call(this, xp);
      this.totalXpEarned += xp;
    }
  }, {
    key: 'kill',
    value: function kill(dead) {
      _get(Object.getPrototypeOf(Player.prototype), 'kill', this).call(this, dead);
      this.totalKpEarned += dead.difficulty * dead.killXp;
      if (!this.conquest[dead.name]) this.conquest[dead.name] = 0;
      this.conquest[dead.name]++;

      // probably refactor this into a lose/gainAlign and some constants for common occurrences
      if (dead.hasFaction(_constantsFactions2['default'].PLAYER)) {
        this.align -= 50;
      }
    }
  }, {
    key: 'act',
    value: function act() {
      var engine = this.game.engine;
      engine.lock();

      _get(Object.getPrototypeOf(Player.prototype), 'act', this).call(this);

      this.rebuildPathingMap();

      if (this.currentTurn % this.getSpawnSteps() === 0) {
        this.spawnMonster();
      }

      this.game.refresh();

      setTimeout(function () {
        return engine.unlock();
      }, _constantsSettings2['default'].game.turnDelay / _initGamestate2['default'].players.length);
    }
  }, {
    key: 'rebuildPathingMap',
    value: function rebuildPathingMap() {
      var _this = this;

      var canPass = function canPass(x, y) {
        var entity = _initGamestate2['default'].world.getEntity(x, y, _this.z);
        var isAttackable = entity && _this.canAttack(entity);
        var isMe = _this.x === x && _this.y === y;
        return _initGamestate2['default'].world.isTilePassable(x, y, _this.z) || isMe || isAttackable;
      };

      this._path = new ROT.Path.Dijkstra(this.x, this.y, canPass, { topology: 8 });
    }
  }, {
    key: 'die',
    value: function die(killer) {
      _get(Object.getPrototypeOf(Player.prototype), 'die', this).call(this, killer);
      _initGamestate2['default'].game.gameOver();
      _initGamestate2['default'].game.engine.lock();
    }
  }, {
    key: 'spawnMonster',
    value: function spawnMonster() {
      _worldgenMonsterSpawner2['default'].spawn(this);
    }
  }, {
    key: 'descend',
    value: function descend() {
      var newFloor = _initGamestate2['default'].currentFloor = _initGamestate2['default'].currentFloor + 1;
      var stairs = _initGamestate2['default'].world.stairs[newFloor].up;
      _initGamestate2['default'].world.moveEntity(this, stairs[0], stairs[1], newFloor);
    }
  }, {
    key: 'ascend',
    value: function ascend() {
      _initGamestate2['default'].currentFloor--;
    }
  }, {
    key: 'getScore',
    value: function getScore() {
      return this.currentTurn + this.gold + this.totalXpEarned + this.kpEarned;
    }
  }]);

  return Player;
})(_character2['default']);

exports['default'] = Player;
module.exports = exports['default'];

},{"../constants/factions":"/home/seioyria/projects/Roguathia/src/js/rogue/constants/factions.js","../constants/settings":"/home/seioyria/projects/Roguathia/src/js/rogue/constants/settings.js","../content/behaviors/behaviors":"/home/seioyria/projects/Roguathia/src/js/rogue/content/behaviors/behaviors.js","../init/gamestate":"/home/seioyria/projects/Roguathia/src/js/rogue/init/gamestate.js","../worldgen/monster-spawner":"/home/seioyria/projects/Roguathia/src/js/rogue/worldgen/monster-spawner.js","./character":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/character.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/profession.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _libValueAssign = require('../lib/value-assign');

var _libValueAssign2 = _interopRequireDefault(_libValueAssign);

var defaultCfg = {
  ac: 0,
  hp: 0,
  mp: 0,
  str: 0,
  con: 0,
  int: 0,
  dex: 0,
  wis: 0,
  cha: 0,
  luk: 0,
  speed: 0,
  sight: 0,
  spawnSteps: 0,
  titles: [],
  attacks: []
};

var Profession = (function () {
  function Profession() {
    var config = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

    _classCallCheck(this, Profession);

    config = _.clone(config); // to prevent overwriting stuff
    if (!config.addFactions) config.addFactions = [];
    config.addFactions.push(this.constructor.name);
    this.config = config;
    _.extend(this, defaultCfg, config, _libValueAssign2['default']);
    this.level = 1;
    this.title = this.titles[0];
  }

  _createClass(Profession, [{
    key: 'levelup',
    value: function levelup() {
      this.level++;
      if (this.titles[this.level - 1]) {
        this.title = this.titles[this.level - 1];
      }
    }
  }]);

  return Profession;
})();

exports['default'] = Profession;
module.exports = exports['default'];

},{"../lib/value-assign":"/home/seioyria/projects/Roguathia/src/js/rogue/lib/value-assign.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/race.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _libValueAssign = require('../lib/value-assign');

var _libValueAssign2 = _interopRequireDefault(_libValueAssign);

var defaultSlots = {
  hands: 2,
  head: 1,
  body: 1,
  feet: 2,
  wrist: 2,
  cloak: 1,
  neck: 1,
  ring: 2
};

var defaultStats = {
  ac: 0,
  hp: 0,
  mp: 0,
  str: 0,
  con: 0,
  int: 0,
  dex: 0,
  wis: 0,
  cha: 0,
  luk: 0,
  speed: 0,
  sight: 0,
  spawnSteps: 0,
  attacks: []
};

var Race = (function () {
  function Race() {
    var opts = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

    _classCallCheck(this, Race);

    opts = _.clone(opts); // to prevent overwriting stuff
    this.slots = _.extend({}, defaultSlots, opts.slots);
    this.addFactions = [this.constructor.name];
    _.extend(this, defaultStats, opts.stats, _libValueAssign2['default']);
  }

  _createClass(Race, [{
    key: 'canEquip',
    value: function canEquip(owner, item) {
      var slot = item.getParentType();
      var slotsTaken = owner.slotsTaken(slot);
      var totalSlots = this.slots[slot];
      var itemSlots = item.slotsTaken;
      return itemSlots <= totalSlots - slotsTaken;
    }
  }]);

  return Race;
})();

exports['default'] = Race;
module.exports = exports['default'];

},{"../lib/value-assign":"/home/seioyria/projects/Roguathia/src/js/rogue/lib/value-assign.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/display/message-handler.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _initGamestate = require('../init/gamestate');

var _initGamestate2 = _interopRequireDefault(_initGamestate);

var MessageQueue = (function () {
  function MessageQueue() {
    _classCallCheck(this, MessageQueue);
  }

  _createClass(MessageQueue, null, [{
    key: 'add',
    value: function add(messageObj) {
      _initGamestate2['default'].messages.unshift({ turnsLeft: 4, message: messageObj.message });
      _initGamestate2['default'].messages.length = 50; // cap the messages off at the last 50
    }
  }, {
    key: 'viewAllMessages',
    value: function viewAllMessages() {
      _initGamestate2['default'].messages = _(_initGamestate2['default'].messages).compact().each(function (msg) {
        return msg.turnsLeft--;
      }).reject(function (msg) {
        return msg.turnsLeft <= 0;
      }).value();
    }
  }]);

  return MessageQueue;
})();

exports['default'] = MessageQueue;
module.exports = exports['default'];

},{"../init/gamestate":"/home/seioyria/projects/Roguathia/src/js/rogue/init/gamestate.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/display/screen.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _constantsSettings = require('../constants/settings');

var _constantsSettings2 = _interopRequireDefault(_constantsSettings);

var _initGamestate = require('../init/gamestate');

var _initGamestate2 = _interopRequireDefault(_initGamestate);

var Screen = (function () {
  function Screen() {
    _classCallCheck(this, Screen);
  }

  _createClass(Screen, null, [{
    key: 'enter',
    value: function enter() {}
  }, {
    key: 'exit',
    value: function exit() {}
  }, {
    key: 'render',
    value: function render() {}
  }, {
    key: 'handleInput',
    value: function handleInput() {}
  }, {
    key: 'drawCenterText',
    value: function drawCenterText(display, y, text) {
      var x = Math.floor(_constantsSettings2['default'].screen.width / 2) - Math.floor(text.length / 2);
      display.drawText(x, y, text);
      return { x: x, y: y };
    }
  }, {
    key: 'drawLeftText',
    value: function drawLeftText(display, y, text) {
      display.drawText(0, y, text);
    }
  }, {
    key: 'drawLeftTextNoTrim',
    value: function drawLeftTextNoTrim(display, y) {
      var text = arguments.length <= 2 || arguments[2] === undefined ? '' : arguments[2];

      for (var i = 0; i < text.length; i++) {
        display.draw(i, y, text[i]);
      }
    }
  }, {
    key: 'padText',
    value: function padText(text, width) {
      return _.pad(text, width);
    }
  }, {
    key: 'getMainPlayer',
    value: function getMainPlayer() {
      return _.max(_initGamestate2['default'].players, 'currentTurn');
    }
  }, {
    key: 'changeScreenWithDelay',
    value: function changeScreenWithDelay(newScreen, delay) {
      setTimeout(function () {
        return _initGamestate2['default'].game.switchScreen(newScreen);
      }, delay);
    }
  }]);

  return Screen;
})();

exports.Screen = Screen;

var ScrollingScreen = (function (_Screen) {
  _inherits(ScrollingScreen, _Screen);

  function ScrollingScreen() {
    _classCallCheck(this, ScrollingScreen);

    _get(Object.getPrototypeOf(ScrollingScreen.prototype), 'constructor', this).apply(this, arguments);
  }

  return ScrollingScreen;
})(Screen);

var SingleScrollingScreen = (function (_ScrollingScreen) {
  _inherits(SingleScrollingScreen, _ScrollingScreen);

  function SingleScrollingScreen() {
    _classCallCheck(this, SingleScrollingScreen);

    _get(Object.getPrototypeOf(SingleScrollingScreen.prototype), 'constructor', this).apply(this, arguments);
  }

  // class SplitScrollingScreen extends ScrollingScreen {}

  _createClass(SingleScrollingScreen, null, [{
    key: 'enter',
    value: function enter() {
      this.currentIndex = 0;
    }
  }, {
    key: 'render',
    value: function render(display) {
      var _this = this;

      display.clear();
      this.drawLeftText(display, 0, this.title);
      this.drawLeftText(display, 1, _.repeat('-', this.title.length));

      var remainingHeight = _constantsSettings2['default'].screen.height - 3;
      var slice = this.scrollContent.slice(this.currentIndex, remainingHeight + this.currentIndex);
      for (var i = 0; i < remainingHeight; i++) {
        this.drawLeftTextNoTrim(display, i + 2, slice[i]);
      }

      setTimeout(function () {
        if (slice.length < remainingHeight) {
          _this.changeScreenWithDelay(_this.nextScreen, 4000);
        } else {
          _this.currentIndex++;
          _this.render(display);
        }
      }, 2000);
    }
  }]);

  return SingleScrollingScreen;
})(ScrollingScreen);

exports.SingleScrollingScreen = SingleScrollingScreen;

},{"../constants/settings":"/home/seioyria/projects/Roguathia/src/js/rogue/constants/settings.js","../init/gamestate":"/home/seioyria/projects/Roguathia/src/js/rogue/init/gamestate.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/display/screens/conduct.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _screen = require('../screen');

var _respawn = require('./respawn');

var _respawn2 = _interopRequireDefault(_respawn);

var SingleConductScreen = (function (_SingleScrollingScreen) {
  _inherits(SingleConductScreen, _SingleScrollingScreen);

  function SingleConductScreen() {
    _classCallCheck(this, SingleConductScreen);

    _get(Object.getPrototypeOf(SingleConductScreen.prototype), 'constructor', this).apply(this, arguments);
  }

  // class SplitConductsScreen extends SplitScrollingScreen {}

  _createClass(SingleConductScreen, null, [{
    key: 'enter',
    value: function enter() {
      _get(Object.getPrototypeOf(SingleConductScreen), 'enter', this).call(this);
      var target = this.getMainPlayer();
      var conductHash = target.conduct;
      var sortedConduct = _(conductHash).values().compact().sortBy().value();
      this.scrollContent = sortedConduct;
      this.title = target.name + '\'s Conduct (' + sortedConduct.length + ' types)'; // shorten this for splitscreen
      this.nextScreen = _respawn2['default'];
      if (!this.scrollContent.length) {
        this.scrollContent = ['All conduct broken.'];
      }
    }
  }]);

  return SingleConductScreen;
})(_screen.SingleScrollingScreen);

exports.SingleConductScreen = SingleConductScreen;

},{"../screen":"/home/seioyria/projects/Roguathia/src/js/rogue/display/screen.js","./respawn":"/home/seioyria/projects/Roguathia/src/js/rogue/display/screens/respawn.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/display/screens/dead.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _screen = require('../screen');

var _vanquished = require('./vanquished');

var _initGamestate = require('../../init/gamestate');

var _initGamestate2 = _interopRequireDefault(_initGamestate);

var DeadScreen = (function (_Screen) {
  _inherits(DeadScreen, _Screen);

  function DeadScreen() {
    _classCallCheck(this, DeadScreen);

    _get(Object.getPrototypeOf(DeadScreen.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(DeadScreen, null, [{
    key: 'enter',
    value: function enter() {
      _initGamestate2['default'].game.engine.lock();
      this.changeScreenWithDelay(_vanquished.SingleVanquishedScreen, 5000);
    }
  }, {
    key: 'render',
    value: function render(display) {
      var TOMBSTONE_WIDTH = 26;
      var goodbyes = ['Goodbye', 'Sayonara', 'Ciao', 'Adios', 'Toodles', 'Ta ta', 'Farewell', 'Bye-bye', 'Bye', 'So long', 'RIP'];

      var latestDeath = this.getMainPlayer();
      var score = latestDeath.getScore();
      var floor = _initGamestate2['default'].currentFloor + 1;
      var paddedName = this.padText(latestDeath.name, TOMBSTONE_WIDTH);
      var paddedScore = this.padText('Score: ' + score, TOMBSTONE_WIDTH);
      var paddedKiller = this.padText(latestDeath.killerName, TOMBSTONE_WIDTH);

      var goodbye = _.sample(goodbyes);
      var mapName = _initGamestate2['default'].world.tiles[_initGamestate2['default'].currentFloor].mapName;
      var i = 3;

      this.drawCenterText(display, i++, '------------------');
      this.drawCenterText(display, i++, '/                  \\');
      this.drawCenterText(display, i++, '/        REST        \\');
      this.drawCenterText(display, i++, '/          IN          \\');
      this.drawCenterText(display, i++, '/         POINTS         \\');
      this.drawCenterText(display, i++, '/                          \\');
      this.drawCenterText(display, i++, '|' + paddedName + '|');
      this.drawCenterText(display, i++, '|' + paddedScore + '|');
      this.drawCenterText(display, i++, '|                          |');
      this.drawCenterText(display, i++, '|         slain by         |');
      this.drawCenterText(display, i++, '|' + paddedKiller + '|');
      this.drawCenterText(display, i++, '|                          |');
      this.drawCenterText(display, i++, '&  * |      *                   $     *');
      this.drawCenterText(display, i++, '__\\\\)/_]_|____\\\\(\\\\_____//\\/_______\\{/____|____');

      i++;

      this.drawLeftText(display, i++, goodbye + ', ' + latestDeath.name + ' the ' + latestDeath.getAlign() + ' ' + latestDeath.race + ' ' + latestDeath.profession + '...');
      this.drawLeftText(display, i++, 'You were level ' + latestDeath.level + '/' + latestDeath.professionInst.level + ' after earning ' + latestDeath.totalXpEarned + ' experience.');
      this.drawLeftText(display, i++, 'You died in ' + mapName + ' on dungeon level ' + floor + '.');
      this.drawLeftText(display, i++, 'You scored ' + score + ' points and ' + latestDeath.gold + ' gold over ' + latestDeath.currentTurn + ' steps.');
    }
  }]);

  return DeadScreen;
})(_screen.Screen);

exports['default'] = DeadScreen;
module.exports = exports['default'];

},{"../../init/gamestate":"/home/seioyria/projects/Roguathia/src/js/rogue/init/gamestate.js","../screen":"/home/seioyria/projects/Roguathia/src/js/rogue/display/screen.js","./vanquished":"/home/seioyria/projects/Roguathia/src/js/rogue/display/screens/vanquished.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/display/screens/game.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x7, _x8, _x9) { var _again = true; _function: while (_again) { var object = _x7, property = _x8, receiver = _x9; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x7 = parent; _x8 = property; _x9 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _screen = require('../screen');

var _messageHandler = require('../message-handler');

var _messageHandler2 = _interopRequireDefault(_messageHandler);

var _initGamestate = require('../../init/gamestate');

var _initGamestate2 = _interopRequireDefault(_initGamestate);

var _constantsSettings = require('../../constants/settings');

var _constantsSettings2 = _interopRequireDefault(_constantsSettings);

var GameScreen = (function (_Screen) {
  _inherits(GameScreen, _Screen);

  function GameScreen() {
    _classCallCheck(this, GameScreen);

    _get(Object.getPrototypeOf(GameScreen.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(GameScreen, null, [{
    key: 'getScreenOffsets',
    value: function getScreenOffsets() {
      var centerPoint = arguments.length <= 0 || arguments[0] === undefined ? _initGamestate2['default'].players[0] : arguments[0];
      var width = arguments.length <= 1 || arguments[1] === undefined ? _constantsSettings2['default'].screen.width : arguments[1];
      var height = arguments.length <= 2 || arguments[2] === undefined ? _constantsSettings2['default'].screen.height : arguments[2];

      var topLeftX = Math.max(0, centerPoint.x - Math.round(width / 2));
      topLeftX = Math.min(topLeftX, _initGamestate2['default'].world.width - width);

      var topLeftY = Math.max(0, centerPoint.y - Math.round(height / 2));
      topLeftY = Math.min(topLeftY, _initGamestate2['default'].world.height - height);

      return {
        x: topLeftX,
        y: topLeftY
      };
    }
  }, {
    key: 'drawTiles',
    value: function drawTiles(display, centerPoint) {
      var width = arguments.length <= 2 || arguments[2] === undefined ? _constantsSettings2['default'].screen.width : arguments[2];
      var height = arguments.length <= 3 || arguments[3] === undefined ? _constantsSettings2['default'].screen.height : arguments[3];
      var offset = arguments.length <= 4 || arguments[4] === undefined ? this.getScreenOffsets() : arguments[4];

      var visible = [];

      var world = _initGamestate2['default'].world;
      var zLevel = centerPoint.z;

      world.fov[zLevel].compute(centerPoint.x, centerPoint.y, centerPoint.getSight(), function (x, y) {
        if (!visible[x]) visible[x] = [];
        visible[x][y] = true;
        world.setExplored(x, y, zLevel, true);
      });

      for (var x = offset.x; x < offset.x + width; x++) {
        for (var y = offset.y; y < offset.y + height; y++) {
          if (!_initGamestate2['default'].world.isExplored(x, y, centerPoint.z) && !_initGamestate2['default'].renderAll) continue;

          var tile = world.getTile(x, y, zLevel);
          if (!tile) continue; // no out of bounds drawing

          var glyph = tile.glyph;
          var foreground = glyph.fg;
          var background = glyph.bg;

          if (visible[x] && visible[x][y]) {
            var items = world.getItemsAt(x, y, zLevel);
            if (items && items.length > 0) {
              glyph = items[items.length - 1].glyph;
            }

            var entity = world.getEntity(x, y, zLevel);
            if (entity) {
              glyph = entity.glyph;
            }

            foreground = glyph.fg;
            background = '#333';

            // prevent taking color away from things that have it
          } else if (!foreground) {
              foreground = '#555';
            }

          display.draw(x - offset.x, y - offset.y, glyph.key, foreground, background);
        }
      }
    }
  }]);

  return GameScreen;
})(_screen.Screen);

exports.GameScreen = GameScreen;

var SingleGameScreen = (function (_GameScreen) {
  _inherits(SingleGameScreen, _GameScreen);

  function SingleGameScreen() {
    _classCallCheck(this, SingleGameScreen);

    _get(Object.getPrototypeOf(SingleGameScreen.prototype), 'constructor', this).apply(this, arguments);
  }

  // export class SplitGameScreen extends GameScreen {}

  _createClass(SingleGameScreen, null, [{
    key: 'drawMessages',
    value: function drawMessages(display, player) {

      if (!_initGamestate2['default'].messages) return;

      for (var y = 0; y < 3; y++) {

        for (var x = 0; x < _constantsSettings2['default'].screen.width; x++) {
          display.drawText(x, y, ' ');
        }
      }

      for (var y = 0; y < 3; y++) {
        var messageObj = _initGamestate2['default'].messages[y];
        if (!messageObj || messageObj.turn < player.currentTurn - 4) continue;
        display.drawText(0, y, messageObj.message);
      }

      _messageHandler2['default'].viewAllMessages();
    }
  }, {
    key: 'drawHUD',
    value: function drawHUD(display, player) {
      var tag = player.name + ' the ' + player.getAlign() + ' ' + player.level + '/' + player.professionInst.level + ' ' + player.race + ' ' + player.professionInst.title + ' (' + player.xp.cur + '/' + player.xp.max + ')';
      var stats = 'STR:' + player.getStr() + ' DEX:' + player.getDex() + ' CON:' + player.getCon() + ' INT:' + player.getInt() + ' WIS:' + player.getWis() + ' CHA:' + player.getCha();
      var miscInfo = 'Floor:' + (1 + _initGamestate2['default'].currentFloor) + ' $:' + player.gold + ' HP:' + player.hp.cur + '/' + player.hp.max + ' MP:' + player.mp.cur + '/' + player.mp.max + ' AC:' + player.getAC() + ' Turn:' + player.currentTurn;

      for (var y = 1; y <= 3; y++) {
        for (var x = 0; x < _constantsSettings2['default'].screen.width; x++) {
          display.drawText(x, _constantsSettings2['default'].screen.height - y, ' ');
        }
      }

      display.drawText(0, _constantsSettings2['default'].screen.height - 3, tag);
      display.drawText(0, _constantsSettings2['default'].screen.height - 2, stats);
      display.drawText(0, _constantsSettings2['default'].screen.height - 1, miscInfo);

      var redrawHp = function redrawHp(foreground) {
        var str = '' + player.hp.cur;
        var index = miscInfo.indexOf('HP:' + player.hp.cur) + 3;
        var length = str.length;
        var strIdx = 0;
        for (var i = index; i < index + length; i++) {
          display.draw(i, _constantsSettings2['default'].screen.height - 1, str[strIdx], foreground);
        }
      };

      if (player.hp.ltePercent(20)) {
        redrawHp('#7f0000');
      } else if (player.hp.ltePercent(50)) {
        redrawHp('#ffd700');
      }
    }
  }, {
    key: 'render',
    value: function render(display) {
      var player = _initGamestate2['default'].players[0];
      this.drawTiles(display, player);
      this.drawHUD(display, player);
      this.drawMessages(display, player);
    }
  }]);

  return SingleGameScreen;
})(GameScreen);

exports.SingleGameScreen = SingleGameScreen;

},{"../../constants/settings":"/home/seioyria/projects/Roguathia/src/js/rogue/constants/settings.js","../../init/gamestate":"/home/seioyria/projects/Roguathia/src/js/rogue/init/gamestate.js","../message-handler":"/home/seioyria/projects/Roguathia/src/js/rogue/display/message-handler.js","../screen":"/home/seioyria/projects/Roguathia/src/js/rogue/display/screen.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/display/screens/load.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _screen = require('../screen');

var LoadScreen = (function (_Screen) {
  _inherits(LoadScreen, _Screen);

  function LoadScreen() {
    _classCallCheck(this, LoadScreen);

    _get(Object.getPrototypeOf(LoadScreen.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(LoadScreen, null, [{
    key: 'enter',
    value: function enter(display) {
      var _this = this;

      this.flicker = 0;

      var dotStatus = ['.  ', '.. ', '...', ' ..', '  .'];

      this.interval = setInterval(function () {
        display.clear();
        _this.render(display);

        _this.drawCenterText(display, 12, 'Generating ' + dotStatus[_this.flicker]);

        _this.flicker = ++_this.flicker % dotStatus.length;
      }, 500);
    }
  }, {
    key: 'exit',
    value: function exit() {
      window.clearInterval(this.interval);
    }
  }, {
    key: 'render',
    value: function render(display) {
      this.drawCenterText(display, 11, '-Welcome to Roguathia-');
    }
  }]);

  return LoadScreen;
})(_screen.Screen);

exports.LoadScreen = LoadScreen;

},{"../screen":"/home/seioyria/projects/Roguathia/src/js/rogue/display/screen.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/display/screens/newgame.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _screen = require('../screen');

var _initGameStarter = require('../../init/game-starter');

var _initGameStarter2 = _interopRequireDefault(_initGameStarter);

// this exists solely to transition and start a new game. I'm bad. :(

var NewGameScreen = (function (_Screen) {
  _inherits(NewGameScreen, _Screen);

  function NewGameScreen() {
    _classCallCheck(this, NewGameScreen);

    _get(Object.getPrototypeOf(NewGameScreen.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(NewGameScreen, null, [{
    key: 'enter',
    value: function enter() {
      (0, _initGameStarter2['default'])();
    }
  }]);

  return NewGameScreen;
})(_screen.Screen);

exports['default'] = NewGameScreen;
module.exports = exports['default'];

},{"../../init/game-starter":"/home/seioyria/projects/Roguathia/src/js/rogue/init/game-starter.js","../screen":"/home/seioyria/projects/Roguathia/src/js/rogue/display/screen.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/display/screens/respawn.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _constantsSettings = require('../../constants/settings');

var _constantsSettings2 = _interopRequireDefault(_constantsSettings);

var _screen = require('../screen');

var _newgame = require('./newgame');

var _newgame2 = _interopRequireDefault(_newgame);

var _initGamestate = require('../../init/gamestate');

var _initGamestate2 = _interopRequireDefault(_initGamestate);

var RespawnScreen = (function (_Screen) {
  _inherits(RespawnScreen, _Screen);

  function RespawnScreen() {
    _classCallCheck(this, RespawnScreen);

    _get(Object.getPrototypeOf(RespawnScreen.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(RespawnScreen, null, [{
    key: 'enter',
    value: function enter() {
      // would be nice if it redrew properly without needing duplicates in the list
      this.phases = ['/', '/', '|', '|', '\\', '\\', '-', '-'];
      this.stars = [];
      this.timer = 15;

      // one tick per star move, 4 ticks = new star and timer countdown
      this.ticks = this.timer * this.phases.length;
    }
  }, {
    key: 'addStar',
    value: function addStar(x, y, length) {
      var _this = this;

      var minX = x - 1;
      var maxX = x + length + 1;
      var minY = y - 1;
      var maxY = y + 1;

      var inBadZone = true;
      var star = null;

      var distBetween = function distBetween(me, target) {
        var a = target.x - me.x;
        var b = target.y - me.y;
        return Math.sqrt(a * a + b * b);
      };

      var _loop = function () {
        var myX = ROT.RNG.getUniformInt(0, _constantsSettings2['default'].screen.width);
        var myY = ROT.RNG.getUniformInt(0, _constantsSettings2['default'].screen.height);
        var me = { x: myX, y: myY };

        if (_.filter(_this.stars, function (star) {
          return distBetween(me, star) < 4;
        }).length !== 0 || myX >= minX && myX <= maxX && myY >= minY && myY <= maxY) {
          return 'continue';
        }

        inBadZone = false;
        star = { x: myX, y: myY, phase: ROT.RNG.getUniformInt(0, _this.phases.length - 1) };
      };

      while (inBadZone) {
        var _ret = _loop();

        if (_ret === 'continue') continue;
      }

      this.stars.push(star);
    }
  }, {
    key: 'drawStars',
    value: function drawStars(display) {
      var _this2 = this;

      _.each(this.stars, function (star) {
        display.draw(star.x, star.y, _this2.phases[star.phase]);
        star.phase++;
        if (star.phase > _this2.phases.length - 1) {
          star.phase = 0;
        }
      });
    }
  }, {
    key: 'render',
    value: function render(display) {
      var _this3 = this;

      display.clear();
      var text = 'Respawning in ' + this.timer + ' seconds...';

      var _drawCenterText = this.drawCenterText(display, 11, text);

      var x = _drawCenterText.x;
      var y = _drawCenterText.y;

      if (this.ticks % this.phases.length === 0) {
        this.addStar(x, y, text.length);
        this.timer--;
      }

      this.ticks--;

      if (this.ticks <= 0) {
        _initGamestate2['default'].game.safeSwitchScreen(this, _newgame2['default']);
        return;
      }

      this.drawStars(display);
      setTimeout(function () {
        return _this3.render(display);
      }, 1000 / this.phases.length);
    }
  }]);

  return RespawnScreen;
})(_screen.Screen);

exports['default'] = RespawnScreen;
module.exports = exports['default'];

},{"../../constants/settings":"/home/seioyria/projects/Roguathia/src/js/rogue/constants/settings.js","../../init/gamestate":"/home/seioyria/projects/Roguathia/src/js/rogue/init/gamestate.js","../screen":"/home/seioyria/projects/Roguathia/src/js/rogue/display/screen.js","./newgame":"/home/seioyria/projects/Roguathia/src/js/rogue/display/screens/newgame.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/display/screens/vanquished.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _screen = require('../screen');

var _conduct = require('./conduct');

var SingleVanquishedScreen = (function (_SingleScrollingScreen) {
  _inherits(SingleVanquishedScreen, _SingleScrollingScreen);

  function SingleVanquishedScreen() {
    _classCallCheck(this, SingleVanquishedScreen);

    _get(Object.getPrototypeOf(SingleVanquishedScreen.prototype), 'constructor', this).apply(this, arguments);
  }

  // class SplitVanquishedScreen extends SplitScrollingScreen {}

  _createClass(SingleVanquishedScreen, null, [{
    key: 'enter',
    value: function enter() {
      _get(Object.getPrototypeOf(SingleVanquishedScreen), 'enter', this).call(this);
      var target = this.getMainPlayer();
      var killHash = target.conquest;
      var sortedKills = _(killHash).keys().map(function (mon) {
        return { name: mon, num: killHash[mon] };
      }).sortBy('name').value();
      this.scrollContent = _.map(sortedKills, function (kill) {
        return _.padLeft(kill.num, 4) + ' ' + kill.name;
      });
      var totalKills = _.reduce(sortedKills, function (prev, cur) {
        return prev + cur.num;
      }, 0);
      this.title = target.name + '\'s Conquest (' + sortedKills.length + ' types|' + totalKills + ' total)'; // shorten this for splitscreen
      if (!this.scrollContent.length) {
        this.scrollContent = ['No kills.'];
      }
      this.nextScreen = _conduct.SingleConductScreen;
    }
  }]);

  return SingleVanquishedScreen;
})(_screen.SingleScrollingScreen);

exports.SingleVanquishedScreen = SingleVanquishedScreen;

},{"../screen":"/home/seioyria/projects/Roguathia/src/js/rogue/display/screen.js","./conduct":"/home/seioyria/projects/Roguathia/src/js/rogue/display/screens/conduct.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/init/debug.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _gamestate = require('./gamestate');

var _gamestate2 = _interopRequireDefault(_gamestate);

exports['default'] = function () {
  document.body.addEventListener('keydown', function (e) {
    if (e.keyCode !== ROT.VK_SPACE) return;

    _gamestate2['default'].isPaused = !_gamestate2['default'].isPaused;

    if (_gamestate2['default'].isPaused) {
      _gamestate2['default'].game.engine.lock();
    } else {
      _gamestate2['default'].game.engine.unlock();
    }
  });

  document.body.addEventListener('keydown', function (e) {
    if (e.keyCode !== ROT.VK_R) return;

    _gamestate2['default'].renderAll = !_gamestate2['default'].renderAll;
  });
};

module.exports = exports['default'];

},{"./gamestate":"/home/seioyria/projects/Roguathia/src/js/rogue/init/gamestate.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/init/game-starter.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _game = require('./game');

var _game2 = _interopRequireDefault(_game);

var _gamestate = require('./gamestate');

var _gamestate2 = _interopRequireDefault(_gamestate);

var _displayScreensLoad = require('../display/screens/load');

var _debug = require('./debug');

var _debug2 = _interopRequireDefault(_debug);

exports['default'] = function () {
  Array.prototype.slice.call(document.getElementsByTagName('canvas')).forEach(function (item) {
    item.parentNode.removeChild(item);
  });

  _gamestate2['default'].reset();
  var game = _gamestate2['default'].game = new _game2['default']();
  document.body.appendChild(game.display.getContainer());
  game.switchScreen(_displayScreensLoad.LoadScreen);

  setTimeout(function () {
    game.setup();
    (0, _debug2['default'])();
  }, 300);
};

module.exports = exports['default'];

},{"../display/screens/load":"/home/seioyria/projects/Roguathia/src/js/rogue/display/screens/load.js","./debug":"/home/seioyria/projects/Roguathia/src/js/rogue/init/debug.js","./game":"/home/seioyria/projects/Roguathia/src/js/rogue/init/game.js","./gamestate":"/home/seioyria/projects/Roguathia/src/js/rogue/init/gamestate.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/init/game.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _constantsSettings = require('../constants/settings');

var _constantsSettings2 = _interopRequireDefault(_constantsSettings);

var _worldgenWorld = require('../worldgen/world');

var _worldgenWorld2 = _interopRequireDefault(_worldgenWorld);

var _gamestate = require('./gamestate');

var _gamestate2 = _interopRequireDefault(_gamestate);

var _displayScreensGame = require('../display/screens/game');

var _displayScreensDead = require('../display/screens/dead');

var _displayScreensDead2 = _interopRequireDefault(_displayScreensDead);

var _definitionsPlayer = require('../definitions/player');

var _definitionsPlayer2 = _interopRequireDefault(_definitionsPlayer);

var Game = (function () {
  function Game() {
    var _this = this;

    _classCallCheck(this, Game);

    this.display = new ROT.Display({
      fontSize: 14,
      fontStyle: 'bold',
      font: 'Courier New',
      width: _constantsSettings2['default'].screen.width,
      height: _constantsSettings2['default'].screen.height

    });
    this.currentScreen = null;

    var bindToScreen = function bindToScreen(event) {
      window.addEventListener(event, function (e) {
        if (_this.currentScreen === null) return;

        _this.currentScreen.handleInput(event, e);
      });
    };

    _.each(['keydown', 'keypress'], function (event) {
      return bindToScreen(event);
    });
  }

  _createClass(Game, [{
    key: 'refresh',
    value: function refresh() {
      this.display.clear();
      this.currentScreen.render(this.display);
    }
  }, {
    key: 'gameOver',
    value: function gameOver() {
      this.switchScreen(_displayScreensDead2['default']);
    }
  }, {
    key: 'safeSwitchScreen',
    value: function safeSwitchScreen(me, newScreen) {
      if (this.currentScreen !== me) return;
      this.switchScreen(newScreen);
    }
  }, {
    key: 'switchScreen',
    value: function switchScreen(screen) {
      if (this.currentScreen) {
        this.currentScreen.exit(this.display);
      }

      this.currentScreen = screen;

      if (this.currentScreen) {
        this.currentScreen.enter(this.display);
        this.refresh();
      }
    }
  }, {
    key: 'setup',
    value: function setup() {

      this.scheduler = new ROT.Scheduler.Speed();
      this.engine = new ROT.Engine(this.scheduler);

      if (false) {
        this.loadOldData();
        return;
      }

      this.startNewGame();
    }
  }, {
    key: 'loadOldData',
    value: function loadOldData() {}
  }, {
    key: 'startNewGame',
    value: function startNewGame() {
      var _this2 = this;

      _gamestate2['default'].world = new _worldgenWorld2['default']();
      _gamestate2['default'].world.generateWorld();
      var zeroStartStairs = _gamestate2['default'].world.stairs[0].up;

      _gamestate2['default'].players = [];
      var playerLocations = _gamestate2['default'].world.getValidTilesInRange(zeroStartStairs[0], zeroStartStairs[1], 0, 2, function (tile) {
        return tile.glyph.key === '.';
      });

      var startTile = _.sample(playerLocations);
      var player = new _definitionsPlayer2['default'](0, 0, 0);

      _gamestate2['default'].currentFloor = 0;
      _gamestate2['default'].world.moveEntity(player, startTile.x, startTile.y, 0);
      _gamestate2['default'].players.push(player);
      this.engine.start();

      setTimeout(function () {
        return _this2.switchScreen(_displayScreensGame.SingleGameScreen);
      }, 100);
    }
  }]);

  return Game;
})();

exports['default'] = Game;
module.exports = exports['default'];

},{"../constants/settings":"/home/seioyria/projects/Roguathia/src/js/rogue/constants/settings.js","../definitions/player":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/player.js","../display/screens/dead":"/home/seioyria/projects/Roguathia/src/js/rogue/display/screens/dead.js","../display/screens/game":"/home/seioyria/projects/Roguathia/src/js/rogue/display/screens/game.js","../worldgen/world":"/home/seioyria/projects/Roguathia/src/js/rogue/worldgen/world.js","./gamestate":"/home/seioyria/projects/Roguathia/src/js/rogue/init/gamestate.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/init/gamestate.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var GameState = (function () {
  function GameState() {
    _classCallCheck(this, GameState);

    this.reset();
  }

  _createClass(GameState, [{
    key: 'reset',
    value: function reset() {
      this.identification = {};
      this._idMap = {};
      this.messages = [];
    }
  }, {
    key: 'toJSON',
    value: function toJSON() {
      return JSON.stringify(_.omit(this, 'game'));
    }
  }]);

  return GameState;
})();

exports['default'] = new GameState();
module.exports = exports['default'];

},{}],"/home/seioyria/projects/Roguathia/src/js/rogue/init/init.js":[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _gameStarter = require('./game-starter');

var _gameStarter2 = _interopRequireDefault(_gameStarter);

// remove extra log line
BRAGI.transports.get('Console').property({ showMeta: false });

if (!ROT.isSupported()) {
  alert('rot.js isn\'t supported :(');
} else {
  (0, _gameStarter2['default'])();
}

},{"./game-starter":"/home/seioyria/projects/Roguathia/src/js/rogue/init/game-starter.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/lib/directional-probability.js":[function(require,module,exports){

// thank you based stackexchange http://codereview.stackexchange.com/a/97310/64362
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var INDICES = [1, 2, 3, 6, 9, 8, 7, 4];
var PROBABILITIES = [10000, 2000, 500, 50, 10, 50, 500, 2000];

exports["default"] = function (lastNumpadDirection) {
  var lastIndexDirection = INDICES.indexOf(lastNumpadDirection);
  var shifted = PROBABILITIES.slice(PROBABILITIES.length - lastIndexDirection).concat(PROBABILITIES.slice(0, PROBABILITIES.length - lastIndexDirection));
  var result = {};
  for (var i = 0, l = INDICES.length; i < l; i++) {
    result[INDICES[i]] = shifted[i];
  }
  return result;
};

module.exports = exports["default"];

},{}],"/home/seioyria/projects/Roguathia/src/js/rogue/lib/logger.js":[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports["default"] = function (group, message) {
  return BRAGI.log(group, message);
};

module.exports = exports["default"];

},{}],"/home/seioyria/projects/Roguathia/src/js/rogue/lib/number-range.js":[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var NumberRange = (function () {
  function NumberRange(min, cur, max) {
    _classCallCheck(this, NumberRange);

    this.min = min;
    this.max = max;
    this._set(cur);
  }

  _createClass(NumberRange, [{
    key: "atMin",
    value: function atMin() {
      return this.cur === this.min;
    }
  }, {
    key: "atMax",
    value: function atMax() {
      return this.cur === this.max;
    }
  }, {
    key: "percent",
    value: function percent() {
      return ~ ~(this.cur / this.max * 100);
    }
  }, {
    key: "gtPercent",
    value: function gtPercent(pct) {
      return this.percent() > pct;
    }
  }, {
    key: "ltPercent",
    value: function ltPercent(pct) {
      return this.percent() < pct;
    }
  }, {
    key: "ePercent",
    value: function ePercent(pct) {
      return this.percent() === pct;
    }
  }, {
    key: "gtePercent",
    value: function gtePercent(pct) {
      return this.percent() >= pct;
    }
  }, {
    key: "ltePercent",
    value: function ltePercent(pct) {
      return this.percent() <= pct;
    }
  }, {
    key: "gt",
    value: function gt(num) {
      return this.cur > num;
    }
  }, {
    key: "lt",
    value: function lt(num) {
      return this.cur < num;
    }
  }, {
    key: "e",
    value: function e(num) {
      return this.cur === num;
    }
  }, {
    key: "gte",
    value: function gte(num) {
      return this.cur >= num;
    }
  }, {
    key: "lte",
    value: function lte(num) {
      return this.cur <= num;
    }
  }, {
    key: "_set",
    value: function _set(num) {
      this.cur = Math.max(this.min, Math.min(this.max, num));
    }
  }, {
    key: "add",
    value: function add(num) {
      this._set(num + this.cur);
    }
  }, {
    key: "sub",
    value: function sub(num) {
      this.add(-num);
    }
  }]);

  return NumberRange;
})();

exports["default"] = NumberRange;
module.exports = exports["default"];

},{}],"/home/seioyria/projects/Roguathia/src/js/rogue/lib/valid-colors.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
var Colors = ['#00f', // blue
'#0f0', // green
'#f00', // red
'#0ff', // cyan
'#f0f', // magenta
'#ff0', // yellow

'#aaf', // lightblue
'#afa', // lightgreen
'#faa', // lightred
'#aaf', // lightcyan
'#faf', // lightmagenta
'#ffa' // lightyellow
];

exports.Colors = Colors;
var GetColor = function GetColor() {
  return _.sample(Colors);
};
exports.GetColor = GetColor;

},{}],"/home/seioyria/projects/Roguathia/src/js/rogue/lib/value-assign.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

exports['default'] = function (value, other) {
  if (_.isString(other) && _.contains(other, 'd')) {
    return +dice.roll(other);
  }
  return other;
};

module.exports = exports['default'];

},{}],"/home/seioyria/projects/Roguathia/src/js/rogue/worldgen/generator.js":[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Generator = (function () {
  function Generator() {
    _classCallCheck(this, Generator);
  }

  _createClass(Generator, null, [{
    key: "generate",
    value: function generate() {}
  }]);

  return Generator;
})();

exports["default"] = Generator;
module.exports = exports["default"];

},{}],"/home/seioyria/projects/Roguathia/src/js/rogue/worldgen/maptypes/dungeon.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _tiles = require('../tiles');

var Tiles = _interopRequireWildcard(_tiles);

var _generator = require('../generator');

var _generator2 = _interopRequireDefault(_generator);

var Dungeon = (function (_Generator) {
  _inherits(Dungeon, _Generator);

  function Dungeon() {
    _classCallCheck(this, Dungeon);

    _get(Object.getPrototypeOf(Dungeon.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Dungeon, null, [{
    key: 'generate',
    value: function generate(w, h, z) {
      var map = [];

      var placeTile = function placeTile(type, x, y) {
        map[x][y] = new type();
        map[x][y].x = x;
        map[x][y].y = y;
        map[x][y].z = z;
        return map[x][y];
      };

      // -3 to adjust for the UI components at the bottom
      var digger = new ROT.Map.Digger(w, h - 3, { roomWidth: [4, 8], roomHeight: [4, 7], corridorLength: [5, 13] });

      digger.create(function (x, y, value) {
        if (!map[x]) map[x] = [];

        var proto = Tiles.Void;
        if (!value) proto = Tiles.DungeonFloor;

        placeTile(proto, x, y);
      });

      // replace all corridors with corridor tiles
      _.each(digger._corridors, function (corridor) {
        var xStart = corridor._startX;
        var xEnd = corridor._endX;

        if (xStart > xEnd) {
          var _ref = [xEnd, xStart];
          xStart = _ref[0];
          xEnd = _ref[1];
        }

        var yStart = corridor._startY;
        var yEnd = corridor._endY;

        if (yStart > yEnd) {
          var _ref2 = [yEnd, yStart];
          yStart = _ref2[0];
          yEnd = _ref2[1];
        }

        for (var x = xStart; x <= xEnd; x++) {
          for (var y = yStart; y <= yEnd; y++) {
            placeTile(Tiles.Corridor, x, y);
          }
        }
      });

      // handle room outlines and doors
      _.each(digger.getRooms(), function (room) {

        // draw left and right walls
        for (var _i = room.getTop(); _i <= room.getBottom(); _i++) {

          var leftTile = map[room.getLeft() - 1][_i].glyph.key;
          var rightTile = map[room.getRight() + 1][_i].glyph.key;

          // these tiles take precedence, otherwise some walls look uggo
          if (!leftTile || leftTile === '-') {
            placeTile(Tiles.DungeonVerticalWall, room.getLeft() - 1, _i);
          }

          if (!rightTile || rightTile === '-') {
            placeTile(Tiles.DungeonVerticalWall, room.getRight() + 1, _i);
          }
        }

        // draw top and bottom walls
        for (var i = room.getLeft() - 1; i <= room.getRight() + 1; i++) {
          if (!map[i][room.getTop() - 1].glyph.key) {
            placeTile(Tiles.DungeonHorizontalWall, i, room.getTop() - 1);
          }

          if (!map[i][room.getBottom() + 1].glyph.key) {
            placeTile(Tiles.DungeonHorizontalWall, i, room.getBottom() + 1);
          }
        }

        // maybe draw some doors
        room.getDoors(function (x, y) {
          if (ROT.RNG.getPercentage() < 70) {
            placeTile(Tiles.DungeonFloor, x, y);
          } else {
            var door = placeTile(Tiles.Door, x, y);
            door.setProperCharacter(map[x - 1][y]);
          }
        });
      });

      return { map: map, validStartRooms: digger.getRooms(), mapName: 'The Dungeons of Doom' };
    }
  }]);

  return Dungeon;
})(_generator2['default']);

exports['default'] = Dungeon;
module.exports = exports['default'];

},{"../generator":"/home/seioyria/projects/Roguathia/src/js/rogue/worldgen/generator.js","../tiles":"/home/seioyria/projects/Roguathia/src/js/rogue/worldgen/tiles.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/worldgen/monster-spawner.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _contentMonstersMonsters = require('../content/monsters/monsters');

var Monsters = _interopRequireWildcard(_contentMonstersMonsters);

var _definitionsMonster = require('../definitions/monster');

var _definitionsMonster2 = _interopRequireDefault(_definitionsMonster);

var _initGamestate = require('../init/gamestate');

var _initGamestate2 = _interopRequireDefault(_initGamestate);

var _libLogger = require('../lib/logger');

var _libLogger2 = _interopRequireDefault(_libLogger);

var MonsterSpawner = (function () {
  function MonsterSpawner() {
    _classCallCheck(this, MonsterSpawner);
  }

  _createClass(MonsterSpawner, null, [{
    key: 'spawn',
    value: function spawn(basedOn) {
      var dungeonLevel = basedOn.z + 1;
      var targetLevel = basedOn.level;

      var lowestDifficulty = Math.floor((dungeonLevel + targetLevel) / 2);
      var highestDifficulty = 5 * dungeonLevel;

      var validMonsters = _(Monsters).values().filter(function (monster) {
        return monster.difficulty >= lowestDifficulty && monster.difficulty < highestDifficulty;
      }).value();
      var monsterHash = _.reduce(validMonsters, function (prev, cur) {
        prev[cur.stats.name] = cur.frequency;
        return prev;
      }, {});
      var chosenName = ROT.RNG.getWeightedValue(monsterHash);
      var chosenMonster = _.findWhere(validMonsters, { stats: { name: chosenName } });
      if (!chosenMonster) {
        (0, _libLogger2['default'])('MonsterSpawner', 'Monster could not be spawned: DLvl ' + dungeonLevel + ' TargetLevel ' + targetLevel + ' | difficulty range ' + lowestDifficulty + '-' + highestDifficulty);
        return;
      }
      var numMonsters = +dice.roll(chosenMonster.spawnPattern);

      for (var i = 0; i < numMonsters; i++) {
        var tile = _.sample(_initGamestate2['default'].world.getValidTilesInRange(basedOn.x, basedOn.y, basedOn.z, 50, function (tile) {
          return basedOn.distBetween(tile) > basedOn.getSight();
        }));
        var monster = new _definitionsMonster2['default'](tile.x, tile.y, tile.z, chosenMonster);
        monster.target = basedOn;
      }
    }
  }]);

  return MonsterSpawner;
})();

exports['default'] = MonsterSpawner;
module.exports = exports['default'];

},{"../content/monsters/monsters":"/home/seioyria/projects/Roguathia/src/js/rogue/content/monsters/monsters.js","../definitions/monster":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/monster.js","../init/gamestate":"/home/seioyria/projects/Roguathia/src/js/rogue/init/gamestate.js","../lib/logger":"/home/seioyria/projects/Roguathia/src/js/rogue/lib/logger.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/worldgen/tiles.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _definitionsEntity = require('../definitions/entity');

var _definitionsEntity2 = _interopRequireDefault(_definitionsEntity);

var _initGamestate = require('../init/gamestate');

var _initGamestate2 = _interopRequireDefault(_initGamestate);

var Tile = (function (_Entity) {
  _inherits(Tile, _Entity);

  function Tile(key, fg, bg) {
    _classCallCheck(this, Tile);

    _get(Object.getPrototypeOf(Tile.prototype), 'constructor', this).call(this, { key: key, fg: fg, bg: bg });
    this.density = 0;
    this.opacity = 0;
  }

  return Tile;
})(_definitionsEntity2['default']);

var Void = (function (_Tile) {
  _inherits(Void, _Tile);

  function Void() {
    _classCallCheck(this, Void);

    _get(Object.getPrototypeOf(Void.prototype), 'constructor', this).call(this);this.opacity = 1;
  }

  return Void;
})(Tile);

exports.Void = Void;

var DungeonFloor = (function (_Tile2) {
  _inherits(DungeonFloor, _Tile2);

  function DungeonFloor() {
    _classCallCheck(this, DungeonFloor);

    _get(Object.getPrototypeOf(DungeonFloor.prototype), 'constructor', this).call(this, '.');
  }

  return DungeonFloor;
})(Tile);

exports.DungeonFloor = DungeonFloor;

var DungeonHorizontalWall = (function (_Tile3) {
  _inherits(DungeonHorizontalWall, _Tile3);

  function DungeonHorizontalWall() {
    _classCallCheck(this, DungeonHorizontalWall);

    _get(Object.getPrototypeOf(DungeonHorizontalWall.prototype), 'constructor', this).call(this, '-');this.density = this.opacity = 1;
  }

  return DungeonHorizontalWall;
})(Tile);

exports.DungeonHorizontalWall = DungeonHorizontalWall;

var DungeonVerticalWall = (function (_Tile4) {
  _inherits(DungeonVerticalWall, _Tile4);

  function DungeonVerticalWall() {
    _classCallCheck(this, DungeonVerticalWall);

    _get(Object.getPrototypeOf(DungeonVerticalWall.prototype), 'constructor', this).call(this, '|');this.density = this.opacity = 1;
  }

  return DungeonVerticalWall;
})(Tile);

exports.DungeonVerticalWall = DungeonVerticalWall;

var Corridor = (function (_Tile5) {
  _inherits(Corridor, _Tile5);

  function Corridor() {
    _classCallCheck(this, Corridor);

    _get(Object.getPrototypeOf(Corridor.prototype), 'constructor', this).call(this, '#');
  }

  return Corridor;
})(Tile);

exports.Corridor = Corridor;

var Stairs = (function (_Tile6) {
  _inherits(Stairs, _Tile6);

  function Stairs() {
    _classCallCheck(this, Stairs);

    _get(Object.getPrototypeOf(Stairs.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(Stairs, [{
    key: 'canInteract',
    value: function canInteract(entity) {
      return this.distBetween(entity) === 0;
    }
  }]);

  return Stairs;
})(Tile);

var StairsDown = (function (_Stairs) {
  _inherits(StairsDown, _Stairs);

  function StairsDown() {
    _classCallCheck(this, StairsDown);

    _get(Object.getPrototypeOf(StairsDown.prototype), 'constructor', this).call(this, '>');
  }

  _createClass(StairsDown, [{
    key: 'canInteract',
    value: function canInteract(entity) {
      return _get(Object.getPrototypeOf(StairsDown.prototype), 'canInteract', this).call(this, entity) && this.z !== _initGamestate2['default'].world.depth - 1;
    }
  }, {
    key: 'interact',
    value: function interact(entity) {
      entity.descend();
      return entity.name + ' descended the stairs.';
    }
  }]);

  return StairsDown;
})(Stairs);

exports.StairsDown = StairsDown;

var StairsUp = (function (_Stairs2) {
  _inherits(StairsUp, _Stairs2);

  function StairsUp() {
    _classCallCheck(this, StairsUp);

    _get(Object.getPrototypeOf(StairsUp.prototype), 'constructor', this).call(this, '<');
  }

  _createClass(StairsUp, [{
    key: 'canInteract',
    value: function canInteract() {
      return false;
      // return super.canInteract(entity) && this.z !== 0;
    }
  }, {
    key: 'interact',
    value: function interact(entity) {
      entity.ascend();
      return entity.name + ' ascended the stairs.';
    }
  }]);

  return StairsUp;
})(Stairs);

exports.StairsUp = StairsUp;

var Door = (function (_Tile7) {
  _inherits(Door, _Tile7);

  function Door() {
    _classCallCheck(this, Door);

    var isClosed = !!Math.round(ROT.RNG.getUniform());
    var openChar = isClosed ? '-' : '+';
    _get(Object.getPrototypeOf(Door.prototype), 'constructor', this).call(this, openChar, 'gold');
    this._isAIPassable = true;

    this.opacity = ! ~ ~isClosed;
    this.density = ! ~ ~isClosed;
  }

  _createClass(Door, [{
    key: 'getOpenChar',
    value: function getOpenChar(basedOn) {
      var leftTileGlyph = basedOn.glyph.key;
      return leftTileGlyph === '-' ? '|' : '-';
    }
  }, {
    key: 'canInteract',
    value: function canInteract() {
      return this.density;
    }
  }, {
    key: 'setProperCharacter',
    value: function setProperCharacter() {
      var basedOn = arguments.length <= 0 || arguments[0] === undefined ? _initGamestate2['default'].world.getTile(this.x - 1, this.y, this.z) : arguments[0];

      var isOpen = this.density;
      var toggleChar = isOpen ? '+' : this.getOpenChar(basedOn);
      this.glyph.key = toggleChar;
    }
  }, {
    key: 'interact',
    value: function interact(entity) {
      this.opacity = !this.opacity;
      this.density = !this.density;
      this.setProperCharacter();

      return entity.name + ' ' + (this.density ? 'closed' : 'opened') + ' the door.';
    }
  }]);

  return Door;
})(Tile);

exports.Door = Door;

},{"../definitions/entity":"/home/seioyria/projects/Roguathia/src/js/rogue/definitions/entity.js","../init/gamestate":"/home/seioyria/projects/Roguathia/src/js/rogue/init/gamestate.js"}],"/home/seioyria/projects/Roguathia/src/js/rogue/worldgen/world.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _tiles = require('./tiles');

var Tiles = _interopRequireWildcard(_tiles);

var _maptypesDungeon = require('./maptypes/dungeon');

var _maptypesDungeon2 = _interopRequireDefault(_maptypesDungeon);

var World = (function () {
  function World() {
    _classCallCheck(this, World);

    this.tiles = [];

    this.stairs = [];

    this.entities = [];
    this.items = [];

    this.fov = [];
    this.explored = [];
  }

  _createClass(World, [{
    key: 'generateWorld',
    value: function generateWorld() {
      var width = arguments.length <= 0 || arguments[0] === undefined ? 70 : arguments[0];
      var height = arguments.length <= 1 || arguments[1] === undefined ? 70 : arguments[1];
      var depth = arguments.length <= 2 || arguments[2] === undefined ? 10 : arguments[2];

      this.width = width;
      this.height = height;
      this.depth = depth;

      this.setupExplored();
      this.setupFOV();

      for (var i = 0; i < depth; i++) {
        var _Dungeon$generate = _maptypesDungeon2['default'].generate(width, height, i);

        var map = _Dungeon$generate.map;
        var mapName = _Dungeon$generate.mapName;
        var validStartRooms = _Dungeon$generate.validStartRooms;

        this.tiles[i] = map;
        this.tiles[i].mapName = mapName;

        var _placeStairs = this.placeStairs(validStartRooms, i);

        var _placeStairs2 = _slicedToArray(_placeStairs, 2);

        var upStairs = _placeStairs2[0];
        var downStairs = _placeStairs2[1];

        this.stairs[i] = { up: [upStairs.x, upStairs.y], down: [downStairs.x, downStairs.y] };
      }
    }
  }, {
    key: 'getTile',
    value: function getTile(x, y, z) {
      if (!this.width || !this.height || !this.depth) {
        throw new Error('World not yet generated');
      }

      if (x < 0 || x >= this.width || y < 0 || y >= this.height || z < 0 || z >= this.depth) {
        return new Tiles.Void();
      }

      return this.tiles[z][x][y];
    }
  }, {
    key: 'setupExplored',
    value: function setupExplored() {
      for (var z = 0; z < this.depth; z++) {
        this.explored[z] = [];
        for (var x = 0; x < this.width; x++) {
          this.explored[z][x] = [];
          for (var y = 0; y < this.height; y++) {
            this.explored[z][x][y] = false;
          }
        }
      }
    }
  }, {
    key: 'setupFOV',
    value: function setupFOV() {
      var _this = this;

      var _loop = function (z) {
        _this.fov[z] = new ROT.FOV.RecursiveShadowcasting(function (x, y) {
          return !_this.getTile(x, y, z).isBlockingLight();
        });
      };

      for (var z = 0; z < this.depth; z++) {
        _loop(z);
      }
    }
  }, {
    key: 'isVoid',
    value: function isVoid(x, y, z) {
      var tile = this.getTile(x, y, z);
      return !tile || !this.getTile(x, y, z).glyph.key;
    }
  }, {
    key: 'setExplored',
    value: function setExplored(x, y, z) {
      var state = arguments.length <= 3 || arguments[3] === undefined ? true : arguments[3];

      if (this.isVoid(x, y, z)) return;
      this.explored[z][x][y] = state;
    }
  }, {
    key: 'isExplored',
    value: function isExplored(x, y, z) {
      return this.isVoid(x, y, z) ? false : this.explored[z][x][y];
    }
  }, {
    key: 'isTileEmpty',
    value: function isTileEmpty(x, y, z) {
      var tile = this.getTile(x, y, z);
      return tile && !tile.isDense() && !this.getEntity(x, y, z) && !this.isVoid(x, y, z);
    }
  }, {
    key: 'isTilePassable',
    value: function isTilePassable(x, y, z) {
      var inclAIPass = arguments.length <= 3 || arguments[3] === undefined ? true : arguments[3];

      var tile = this.getTile(x, y, z);
      var aiPass = inclAIPass ? tile._isAIPassable : true;
      return tile && aiPass || this.isTileEmpty(x, y, z);
    }
  }, {
    key: 'getWithoutInits',
    value: function getWithoutInits(x, y, z) {
      var list = arguments.length <= 3 || arguments[3] === undefined ? 'entities' : arguments[3];

      if (!this[list][z]) return null;
      if (!this[list][z][x]) return null;
      if (!this[list][z][x][y]) return null;

      return this[list][z][x][y];
    }
  }, {
    key: 'ensureLocation',
    value: function ensureLocation(x, y, z) {
      var list = arguments.length <= 3 || arguments[3] === undefined ? 'entities' : arguments[3];
      var setTo = arguments.length <= 4 || arguments[4] === undefined ? null : arguments[4];

      if (!this[list][z]) this[list][z] = [];
      if (!this[list][z][x]) this[list][z][x] = [];
      if (!this[list][z][x][y]) this[list][z][x][y] = setTo;
    }
  }, {
    key: 'getItemsAt',
    value: function getItemsAt(x, y, z) {
      return this.getWithoutInits(x, y, z, 'items');
    }
  }, {
    key: 'removeItem',
    value: function removeItem(item) {
      this.items[item.z][item.x][item.y] = _.without(this.items[item.z][item.x][item.y], item);
      item.x = item.y = item.z = undefined;
    }
  }, {
    key: 'moveItem',
    value: function moveItem(item, x, y, z) {
      this.ensureLocation(x, y, z, 'items', []);

      if (item.x && item.y && item.z) {
        this.removeItem(item);
      }

      item.x = x;
      item.y = y;
      item.z = z;
      this.items[z][x][y].push(item);
    }
  }, {
    key: 'moveEntity',
    value: function moveEntity(entity, x, y, z) {
      if (!this.isTileEmpty(x, y, z)) return false;

      this.ensureLocation(x, y, z);
      this.ensureLocation(entity.x, entity.y, entity.z);

      this.entities[entity.z][entity.x][entity.y] = null;

      entity.x = x;
      entity.y = y;
      entity.z = z;
      this.entities[z][x][y] = entity;
      return true;
    }
  }, {
    key: 'removeEntity',
    value: function removeEntity(entity) {
      this.entities[entity.z][entity.x][entity.y] = null;
    }
  }, {
    key: 'getEntity',
    value: function getEntity(x, y, z) {
      return this.getWithoutInits(x, y, z);
    }
  }, {
    key: 'placeEntityAtRandomLocation',
    value: function placeEntityAtRandomLocation(entity, z) {
      var tile = _(this.tiles[z]).flatten().filter(function (tile) {
        return tile.glyph.key;
      }).reject(function (tile) {
        return tile.isDense();
      }).sample();
      this.moveEntity(entity, tile.x, tile.y, z);
    }
  }, {
    key: 'placeStairs',
    value: function placeStairs(validRooms, z) {
      var _this2 = this;

      var rooms = _.sample(validRooms, 2);

      var stairsUp = new Tiles.StairsUp();
      var stairsDown = new Tiles.StairsDown();

      var getCoordsForRoom = function getCoordsForRoom(room) {
        return [Math.floor(ROT.RNG.getUniform() * (room._x2 - room._x1)) + room._x1, Math.floor(ROT.RNG.getUniform() * (room._y2 - room._y1)) + room._y1];
      };

      var setStairs = function setStairs(stairs, x, y) {
        stairs.x = x;
        stairs.y = y;
        stairs.z = z;

        _this2.tiles[z][x][y] = stairs;
      };

      var _getCoordsForRoom = getCoordsForRoom(rooms[0]);

      var _getCoordsForRoom2 = _slicedToArray(_getCoordsForRoom, 2);

      var firstX = _getCoordsForRoom2[0];
      var firstY = _getCoordsForRoom2[1];

      var _getCoordsForRoom3 = getCoordsForRoom(rooms[1]);

      var _getCoordsForRoom32 = _slicedToArray(_getCoordsForRoom3, 2);

      var secondX = _getCoordsForRoom32[0];
      var secondY = _getCoordsForRoom32[1];

      setStairs(stairsUp, firstX, firstY);
      setStairs(stairsDown, secondX, secondY);

      return [stairsUp, stairsDown];
    }
  }, {
    key: 'getAllTilesInRange',
    value: function getAllTilesInRange(x, y, z, radius) {
      var tiles = [];

      // line these tiles up with the numpad
      for (var newY = y + radius; newY >= y - radius; newY--) {
        for (var newX = x - radius; newX <= x + radius; newX++) {
          var tile = this.tiles[z][newX][newY];
          tiles.push(tile);
        }
      }

      return tiles;
    }
  }, {
    key: 'getValidTilesInRange',
    value: function getValidTilesInRange(x, y, z, radius) {
      var filter = arguments.length <= 4 || arguments[4] === undefined ? function () {
        return true;
      } : arguments[4];

      var tiles = [];

      var lowerX = Math.max(x - radius, 0);
      var upperX = Math.min(x + radius, this.width);
      var lowerY = Math.max(y - radius, 0);
      var upperY = Math.min(y + radius, this.height);

      for (var newX = lowerX; newX <= upperX; newX++) {
        for (var newY = lowerY; newY <= upperY; newY++) {
          if (!this.tiles[z][newX]) continue;
          var tile = this.tiles[z][newX][newY];
          if (!tile) continue;
          if (!this.isTileEmpty(newX, newY, z)) continue;
          tiles.push(tile);
        }
      }

      return _.filter(tiles, filter);
    }
  }, {
    key: 'getValidEntitiesInRange',
    value: function getValidEntitiesInRange(x, y, z, radius) {
      var filter = arguments.length <= 4 || arguments[4] === undefined ? function () {
        return true;
      } : arguments[4];

      var entities = [];

      var lowerX = Math.max(x - radius, 0);
      var upperX = Math.min(x + radius, this.width);
      var lowerY = Math.max(y - radius, 0);
      var upperY = Math.min(y + radius, this.height);

      for (var newX = lowerX; newX <= upperX; newX++) {
        for (var newY = lowerY; newY <= upperY; newY++) {
          this.ensureLocation(newX, newY, z);
          var entity = this.entities[z][newX][newY];
          if (!entity) continue;
          entities.push(entity);
        }
      }

      return _.filter(entities, filter);
    }
  }]);

  return World;
})();

exports['default'] = World;
module.exports = exports['default'];

},{"./maptypes/dungeon":"/home/seioyria/projects/Roguathia/src/js/rogue/worldgen/maptypes/dungeon.js","./tiles":"/home/seioyria/projects/Roguathia/src/js/rogue/worldgen/tiles.js"}]},{},["/home/seioyria/projects/Roguathia/src/js/init.js"])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL2luaXQuanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL3JvZ3VlL2NvbnN0YW50cy9mYWN0aW9ucy5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvY29uc3RhbnRzL2Zha2V0eXBlcy5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvY29uc3RhbnRzL3JhbmRvbS5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvY29uc3RhbnRzL3NldHRpbmdzLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9jb250ZW50L2F0dGFja3MvYXR0YWNrcy5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvY29udGVudC9iZWhhdmlvcnMvYmVoYXZpb3JzLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9jb250ZW50L2l0ZW1zL2JvZHlzLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9jb250ZW50L2l0ZW1zL2Nsb2Frcy5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvY29udGVudC9pdGVtcy9mZWV0cy5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvY29udGVudC9pdGVtcy9mb29kcy5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvY29udGVudC9pdGVtcy9oZWFkcy5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvY29udGVudC9pdGVtcy9wb3Rpb25zLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9jb250ZW50L2l0ZW1zL3Byb2plY3RpbGVzLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9jb250ZW50L2l0ZW1zL3JpbmdzLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9jb250ZW50L2l0ZW1zL3NwZWNpYWwuanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL3JvZ3VlL2NvbnRlbnQvaXRlbXMvc3BlbGxib29rcy5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvY29udGVudC9pdGVtcy93YW5kcy5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvY29udGVudC9pdGVtcy93ZWFwb25zLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9jb250ZW50L2l0ZW1zL3dyaXN0cy5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvY29udGVudC9tb25zdGVycy9tb25zdGVycy5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvY29udGVudC9wcm9mZXNzaW9ucy9fYWxsLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9jb250ZW50L3Byb2Zlc3Npb25zL21vbnN0ZXIuanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL3JvZ3VlL2NvbnRlbnQvcHJvZmVzc2lvbnMvcmFuZ2VyLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9jb250ZW50L3Byb2Zlc3Npb25zL3RvdXJpc3QuanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL3JvZ3VlL2NvbnRlbnQvcHJvZmVzc2lvbnMvd2l6YXJkLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9jb250ZW50L3JhY2VzL19hbGwuanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL3JvZ3VlL2NvbnRlbnQvcmFjZXMvY2FuaW5lLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9jb250ZW50L3JhY2VzL2VsZi5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvY29udGVudC9yYWNlcy9nbm9tZS5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvY29udGVudC9yYWNlcy9odW1hbi5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvY29udGVudC9yYWNlcy9pbnNlY3QuanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL3JvZ3VlL2NvbnRlbnQvcmFjZXMvbGl6YXJkLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9jb250ZW50L3JhY2VzL21hbnRpY29yZS5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvY29udGVudC9yYWNlcy9vcmMuanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL3JvZ3VlL2NvbnRlbnQvcmFjZXMvcHNpb25pYy5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvY29udGVudC9yYWNlcy9zYWxhbWFuZGVyLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9jb250ZW50L3JhY2VzL3NuYWtlLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9jb250ZW50L3JhY2VzL3NwaWRlci5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvY29udGVudC9yYWNlcy9zcG9yZS5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvZGVmaW5pdGlvbnMvYWJzdHJhY3QuanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL3JvZ3VlL2RlZmluaXRpb25zL2F0dGFjay5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvZGVmaW5pdGlvbnMvY2hhcmFjdGVyLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9kZWZpbml0aW9ucy9lbnRpdHkuanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL3JvZ3VlL2RlZmluaXRpb25zL2VxdWlwbWVudC5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvZGVmaW5pdGlvbnMvZ2x5cGguanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL3JvZ3VlL2RlZmluaXRpb25zL2l0ZW0uanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL3JvZ3VlL2RlZmluaXRpb25zL21vbnN0ZXIuanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL3JvZ3VlL2RlZmluaXRpb25zL3BsYXllci5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvZGVmaW5pdGlvbnMvcHJvZmVzc2lvbi5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvZGVmaW5pdGlvbnMvcmFjZS5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvZGlzcGxheS9tZXNzYWdlLWhhbmRsZXIuanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL3JvZ3VlL2Rpc3BsYXkvc2NyZWVuLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9kaXNwbGF5L3NjcmVlbnMvY29uZHVjdC5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvZGlzcGxheS9zY3JlZW5zL2RlYWQuanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL3JvZ3VlL2Rpc3BsYXkvc2NyZWVucy9nYW1lLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9kaXNwbGF5L3NjcmVlbnMvbG9hZC5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvZGlzcGxheS9zY3JlZW5zL25ld2dhbWUuanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL3JvZ3VlL2Rpc3BsYXkvc2NyZWVucy9yZXNwYXduLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9kaXNwbGF5L3NjcmVlbnMvdmFucXVpc2hlZC5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvaW5pdC9kZWJ1Zy5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvaW5pdC9nYW1lLXN0YXJ0ZXIuanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL3JvZ3VlL2luaXQvZ2FtZS5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvaW5pdC9nYW1lc3RhdGUuanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL3JvZ3VlL2luaXQvaW5pdC5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvbGliL2RpcmVjdGlvbmFsLXByb2JhYmlsaXR5LmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9saWIvbG9nZ2VyLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9saWIvbnVtYmVyLXJhbmdlLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9saWIvdmFsaWQtY29sb3JzLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS9saWIvdmFsdWUtYXNzaWduLmpzIiwiL2hvbWUvc2Vpb3lyaWEvcHJvamVjdHMvUm9ndWF0aGlhL3NyYy9qcy9yb2d1ZS93b3JsZGdlbi9nZW5lcmF0b3IuanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL3JvZ3VlL3dvcmxkZ2VuL21hcHR5cGVzL2R1bmdlb24uanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL3JvZ3VlL3dvcmxkZ2VuL21vbnN0ZXItc3Bhd25lci5qcyIsIi9ob21lL3NlaW95cmlhL3Byb2plY3RzL1JvZ3VhdGhpYS9zcmMvanMvcm9ndWUvd29ybGRnZW4vdGlsZXMuanMiLCIvaG9tZS9zZWlveXJpYS9wcm9qZWN0cy9Sb2d1YXRoaWEvc3JjL2pzL3JvZ3VlL3dvcmxkZ2VuL3dvcmxkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7UUNDTyxtQkFBbUI7Ozs7Ozs7O3FCQ0FYO0FBQ2IsU0FBTyxFQUFFLFNBQVM7QUFDbEIsUUFBTSxFQUFFLFFBQVE7O0FBRWhCLE9BQUssRUFBRSxPQUFPO0NBQ2Y7Ozs7Ozs7OztBQ0xNLElBQUksSUFBSSxHQUFHLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxZQUFZLEVBQUUsV0FBVyxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUM7OztBQUVsUyxJQUFJLE1BQU0sR0FBRyxDQUFDLE1BQU0sRUFBRSxZQUFZLEVBQUUsWUFBWSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxnQkFBZ0IsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7Ozs7Ozs7Ozs7OztpQ0NGalEsd0JBQXdCOztJQUFuQyxLQUFLOztpQ0FDTSx3QkFBd0I7O0lBQW5DLEtBQUs7O2lDQUNNLHdCQUF3Qjs7SUFBbkMsS0FBSzs7aUNBQ00sd0JBQXdCOztJQUFuQyxLQUFLOztpQ0FDTSx3QkFBd0I7O0lBQW5DLEtBQUs7O2lDQUNNLHdCQUF3Qjs7SUFBbkMsS0FBSzs7a0NBQ08seUJBQXlCOztJQUFyQyxNQUFNOztrQ0FDTSx5QkFBeUI7O0lBQXJDLE1BQU07O21DQUNPLDBCQUEwQjs7SUFBdkMsT0FBTzs7bUNBQ00sMEJBQTBCOztJQUF2QyxPQUFPOztzQ0FDUyw2QkFBNkI7O0lBQTdDLFVBQVU7O3VDQUNPLDhCQUE4Qjs7SUFBL0MsV0FBVzs7QUFFdkIsSUFBSSxTQUFTLEdBQUcsU0FBWixTQUFTLENBQUksSUFBSTtNQUFFLE9BQU8seURBQUcsRUFBRTtTQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsVUFBQyxJQUFJO1dBQUssQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDO0dBQUEsQ0FBQyxDQUFDLE1BQU0sRUFBRTtDQUFBLENBQUM7O0FBRTdHLElBQUksSUFBSSxHQUFHLFNBQVAsSUFBSSxDQUFJLElBQUksRUFBRSxPQUFPO1NBQUssS0FBSyxTQUFTLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBQyxDQUFFLElBQUksQ0FBQztDQUFBLENBQUM7O0FBQ3BFLElBQUksSUFBSSxHQUFHLFNBQVAsSUFBSSxDQUFJLElBQUksRUFBRSxPQUFPO1NBQUssS0FBSyxTQUFTLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBQyxDQUFFLElBQUksQ0FBQztDQUFBLENBQUM7O0FBQ3BFLElBQUksSUFBSSxHQUFHLFNBQVAsSUFBSSxDQUFJLElBQUksRUFBRSxPQUFPO1NBQUssS0FBSyxTQUFTLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBQyxDQUFFLElBQUksQ0FBQztDQUFBLENBQUM7O0FBQ3BFLElBQUksSUFBSSxHQUFHLFNBQVAsSUFBSSxDQUFJLElBQUksRUFBRSxPQUFPO1NBQUssS0FBSyxTQUFTLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBQyxDQUFFLElBQUksQ0FBQztDQUFBLENBQUM7O0FBQ3BFLElBQUksSUFBSSxHQUFHLFNBQVAsSUFBSSxDQUFJLElBQUksRUFBRSxPQUFPO1NBQUssS0FBSyxTQUFTLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBQyxDQUFFLElBQUksQ0FBQztDQUFBLENBQUM7O0FBQ3BFLElBQUksSUFBSSxHQUFHLFNBQVAsSUFBSSxDQUFJLElBQUksRUFBRSxPQUFPO1NBQUssS0FBSyxTQUFTLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBQyxDQUFFLElBQUksQ0FBQztDQUFBLENBQUM7O0FBQ3BFLElBQUksS0FBSyxHQUFHLFNBQVIsS0FBSyxDQUFJLElBQUksRUFBRSxPQUFPO1NBQUssS0FBSyxTQUFTLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBQyxDQUFFLElBQUksQ0FBQztDQUFBLENBQUM7O0FBQ3RFLElBQUksS0FBSyxHQUFHLFNBQVIsS0FBSyxDQUFJLElBQUksRUFBRSxPQUFPO1NBQUssS0FBSyxTQUFTLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBQyxDQUFFLElBQUksQ0FBQztDQUFBLENBQUM7O0FBQ3RFLElBQUksTUFBTSxHQUFHLFNBQVQsTUFBTSxDQUFJLElBQUksRUFBRSxPQUFPO1NBQUssS0FBSyxTQUFTLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBQyxDQUFFLElBQUksQ0FBQztDQUFBLENBQUM7O0FBQ3hFLElBQUksTUFBTSxHQUFHLFNBQVQsTUFBTSxDQUFJLElBQUksRUFBRSxPQUFPO1NBQUssS0FBSyxTQUFTLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBQyxDQUFFLElBQUksQ0FBQztDQUFBLENBQUM7O0FBQ3hFLElBQUksU0FBUyxHQUFHLFNBQVosU0FBUyxDQUFJLElBQUksRUFBRSxPQUFPO1NBQUssS0FBSyxTQUFTLENBQUMsVUFBVSxFQUFFLE9BQU8sRUFBQyxDQUFFLElBQUksQ0FBQztDQUFBLENBQUM7O0FBQzlFLElBQUksVUFBVSxHQUFHLFNB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OztBQUUvQyxXQUFJLElBQUksSUFBSSxHQUFHLE1BQU0sRUFBRSxJQUFJLElBQUksTUFBTSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQzdDLGFBQUksSUFBSSxJQUFJLEdBQUcsTUFBTSxFQUFFLElBQUksSUFBSSxNQUFNLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDN0MsY0FBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ25DLGNBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDMUMsY0FBRyxDQUFDLE1BQU0sRUFBRSxTQUFTO0FBQ3JCLGtCQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ3ZCO09BQ0Y7O0FBRUQsYUFBTyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQztLQUNuQzs7O1NBL09rQixLQUFLOzs7cUJBQUwsS0FBSyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJcbmltcG9ydCAnLi9yb2d1ZS9pbml0L2luaXQnOyIsIlxuZXhwb3J0IGRlZmF1bHQge1xuICBNT05TVEVSOiAnTW9uc3RlcicsXG4gIFBMQVlFUjogJ1BsYXllcicsXG4gIFxuICBNQUdJQzogJ01hZ2ljJ1xufTsiLCJcbmV4cG9ydCB2YXIgUmluZyA9IFsncGVhcmwnLCAnaXJvbicsICd0d2lzdGVkJywgJ3N0ZWVsJywgJ3dpcmUnLCAnZW5nYWdlbWVudCcsICdzaGlueScsICdicm9uemUnLCAnYnJhc3MnLCAnY29wcGVyJywgJ3NpbHZlcicsICdnb2xkJywgJ3dvb2RlbicsICdncmFuaXRlJywgJ29wYWwnLCAnY2xheScsICdjb3JhbCcsICdibGFjayBvbnl4JywgJ21vb25zdG9uZScsICd0aWdlciBleWUnLCAnamFkZScsICdhZ2F0ZScsICd0b3BheicsICdzYXBwaGlyZScsICdydWJ5JywgJ2RpYW1vbmQnLCAnaXZvcnknLCAnZW1lcmFsZCddO1xuXG5leHBvcnQgdmFyIFBvdGlvbiA9IFsncnVieScsICdkYXJrIGdyZWVuJywgJ3B1cnBsZS1yZWQnLCAnc21va3knLCAnYnJvd24nLCAncGluaycsICdjeWFuJywgJ3B1Y2UnLCAnY2xvdWR5JywgJ2Zpenp5JywgJ29yYW5nZScsICdza3kgYmx1ZScsICdtaWxreScsICdlZmZlcnZlc2NlbnQnLCAnZGFyaycsICd5ZWxsb3cnLCAnYnJpbGxpYW50IGJsdWUnLCAnc3dpcmx5JywgJ2JsYWNrJywgJ3doaXRlJywgJ2VtZXJhbGQnLCAnbWFnZW50YScsICdidWJibHknLCAnZ29sZGVuJywgJ211cmt5J107XG4iLCJcbmltcG9ydCAqIGFzIEZvb2RzIGZyb20gJy4uL2NvbnRlbnQvaXRlbXMvZm9vZHMnO1xuaW1wb3J0ICogYXMgRmVldHMgZnJvbSAnLi4vY29udGVudC9pdGVtcy9mZWV0cyc7XG5pbXBvcnQgKiBhcyBIZWFkcyBmcm9tICcuLi9jb250ZW50L2l0ZW1zL2hlYWRzJztcbmltcG9ydCAqIGFzIEJvZHlzIGZyb20gJy4uL2NvbnRlbnQvaXRlbXMvYm9keXMnO1xuaW1wb3J0ICogYXMgUmluZ3MgZnJvbSAnLi4vY29udGVudC9pdGVtcy9yaW5ncyc7XG5pbXBvcnQgKiBhcyBXYW5kcyBmcm9tICcuLi9jb250ZW50L2l0ZW1zL3dhbmRzJztcbmltcG9ydCAqIGFzIFdyaXN0cyBmcm9tICcuLi9jb250ZW50L2l0ZW1zL3dyaXN0cyc7XG5pbXBvcnQgKiBhcyBDbG9ha3MgZnJvbSAnLi4vY29udGVudC9pdGVtcy9jbG9ha3MnO1xuaW1wb3J0ICogYXMgV2VhcG9ucyBmcm9tICcuLi9jb250ZW50L2l0ZW1zL3dlYXBvbnMnO1xuaW1wb3J0ICogYXMgUG90aW9ucyBmcm9tICcuLi9jb250ZW50L2l0ZW1zL3BvdGlvbnMnO1xuaW1wb3J0ICogYXMgU3BlbGxib29rcyBmcm9tICcuLi9jb250ZW50L2l0ZW1zL3NwZWxsYm9va3MnO1xuaW1wb3J0ICogYXMgUHJvamVjdGlsZXMgZnJvbSAnLi4vY29udGVudC9pdGVtcy9wcm9qZWN0aWxlcyc7XG5cbmxldCBnZXRSYW5kb20gPSAoZnJvbSwgZXhjbHVkZSA9IFtdKSA9PiBfKGZyb20pLnZhbHVlcygpLmZpbHRlcigodHlwZSkgPT4gIV8uY29udGFpbnMoZXhjbHVkZSwgdHlwZS5uYW1lKSkuc2FtcGxlKCk7XG5cbmV4cG9ydCB2YXIgRm9vZCA9IChvcHRzLCBleGNsdWRlKSA9PiBuZXcgKGdldFJhbmRvbShGb29kcywgZXhjbHVkZSkpKG9wdHMpO1xuZXhwb3J0IHZhciBGZWV0ID0gKG9wdHMsIGV4Y2x1ZGUpID0+IG5ldyAoZ2V0UmFuZG9tKEZlZXRzLCBleGNsdWRlKSkob3B0cyk7XG5leHBvcnQgdmFyIEhlYWQgPSAob3B0cywgZXhjbHVkZSkgPT4gbmV3IChnZXRSYW5kb20oSGVhZHMsIGV4Y2x1ZGUpKShvcHRzKTtcbmV4cG9ydCB2YXIgQm9keSA9IChvcHRzLCBleGNsdWRlKSA9PiBuZXcgKGdldFJhbmRvbShCb2R5cywgZXhjbHVkZSkpKG9wdHMpO1xuZXhwb3J0IHZhciBSaW5nID0gKG9wdHMsIGV4Y2x1ZGUpID0+IG5ldyAoZ2V0UmFuZG9tKFJpbmdzLCBleGNsdWRlKSkob3B0cyk7XG5leHBvcnQgdmFyIFdhbmQgPSAob3B0cywgZXhjbHVkZSkgPT4gbmV3IChnZXRSYW5kb20oV2FuZHMsIGV4Y2x1ZGUpKShvcHRzKTtcbmV4cG9ydCB2YXIgV3Jpc3QgPSAob3B0cywgZXhjbHVkZSkgPT4gbmV3IChnZXRSYW5kb20oV3Jpc3RzLCBleGNsdWRlKSkob3B0cyk7XG5leHBvcnQgdmFyIENsb2FrID0gKG9wdHMsIGV4Y2x1ZGUpID0+IG5ldyAoZ2V0UmFuZG9tKENsb2FrcywgZXhjbHVkZSkpKG9wdHMpO1xuZXhwb3J0IHZhciBXZWFwb24gPSAob3B0cywgZXhjbHVkZSkgPT4gbmV3IChnZXRSYW5kb20oV2VhcG9ucywgZXhjbHVkZSkpKG9wdHMpO1xuZXhwb3J0IHZhciBQb3Rpb24gPSAob3B0cywgZXhjbHVkZSkgPT4gbmV3IChnZXRSYW5kb20oUG90aW9ucywgZXhjbHVkZSkpKG9wdHMpO1xuZXhwb3J0IHZhciBTcGVsbGJvb2sgPSAob3B0cywgZXhjbHVkZSkgPT4gbmV3IChnZXRSYW5kb20oU3BlbGxib29rcywgZXhjbHVkZSkpKG9wdHMpO1xuZXhwb3J0IHZhciBQcm9qZWN0aWxlID0gKG9wdHMsIGV4Y2x1ZGUpID0+IG5ldyAoZ2V0UmFuZG9tKFByb2plY3RpbGVzLCBleGNsdWRlKSkob3B0cyk7IiwiXG5leHBvcnQgZGVmYXVsdCB7XG4gIHNjcmVlbjoge1xuICAgIHdpZHRoOiA4MCxcbiAgICBoZWlnaHQ6IDI0XG4gIH0sXG4gIGdhbWU6IHtcbiAgICB0dXJuRGVsYXk6IDUwXG4gIH1cbn07IiwiXG5pbXBvcnQgKiBhcyBCZWhhdmlvcnMgZnJvbSAnLi4vYmVoYXZpb3JzL2JlaGF2aW9ycyc7XG5pbXBvcnQgeyBSZWFnZW50LCBBdHRhY2sgfSBmcm9tICcuLi8uLi9kZWZpbml0aW9ucy9hdHRhY2snO1xuaW1wb3J0IEdseXBoIGZyb20gJy4uLy4uL2RlZmluaXRpb25zL2dseXBoJztcblxuLy8gVE9ETyBtYWtlIHNvbWUgYXR0YWNrcyBpbmhlcml0IGZyb20gJ3NraWxsIGluY3JlYXNpbmcnIHdoZW4gcHJvZmljaWVuY2llcyBhcmUgaW1wbGVtZW50ZWRcbi8vIHByb2ZpY2llbmNpZXMgc2hvdWxkIGluY3JlYXNlIGRhbWFnZSBhbmQgdG8taGl0IGJ5IDFcbi8vIG1heWJlIHByb2ZpY2llbmN5IHNob3VsZCBhbHNvIGZhY3RvciBpbnRvIHZhbHVlXG5cbmNsYXNzIFJhbmdlZCBleHRlbmRzIFJlYWdlbnQge31cblxuY2xhc3MgVW5hcm1lZCBleHRlbmRzIEF0dGFjayB7fVxuXG5jbGFzcyBCaXRlIGV4dGVuZHMgQXR0YWNrIHt9XG5cbmNsYXNzIEJhc2ggZXh0ZW5kcyBBdHRhY2sge31cblxuY2xhc3MgU2xhc2ggZXh0ZW5kcyBBdHRhY2sge31cblxuY2xhc3MgU2hvdCBleHRlbmRzIEF0dGFjayB7XG4gIGluaXQoKSB7XG4gICAgdGhpcy5nbHlwaCA9IG5ldyBHbHlwaCgnKScsICcjMDBmJyk7XG4gIH1cbn1cblxuY2xhc3MgRWxlY3RyaWNUb3VjaCBleHRlbmRzIEF0dGFjayB7XG4gIGhpdFN0cmluZyhvd25lciwgdGFyZ2V0LCBkYW1hZ2UsIGV4dHJhKSB7XG4gICAgdmFyIHphcCA9IGBgO1xuICAgIGlmKGV4dHJhKSB7XG4gICAgICB6YXAgPSBgICR7dGFyZ2V0Lm5hbWV9IGdvdCB6YXBwZWQhYDtcbiAgICAgIHRhcmdldC5hZGRVbmlxdWVCZWhhdmlvcihCZWhhdmlvcnMuU3R1bm5lZCgpKTtcbiAgICB9XG4gICAgcmV0dXJuIGAke293bmVyLm5hbWV9IGhpdCAke3RhcmdldC5uYW1lfSBmb3IgJHtkYW1hZ2V9IGRhbWFnZSEke3phcH1gO1xuICB9XG4gIGhpdENhbGxiYWNrKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmNsYXNzIE1hZ2ljIGV4dGVuZHMgQXR0YWNrIHtcbiAgaW5pdCgpIHtcbiAgICB0aGlzLmdseXBoID0gbmV3IEdseXBoKCcpJywgJyNmMDAnKTtcbiAgfVxufVxuXG5jbGFzcyBGb3JjZSBleHRlbmRzIE1hZ2ljIHt9XG5cbmxldCBhdHRhY2tzID0ge307XG5fLmVhY2goW1VuYXJtZWQsIFJhbmdlZCwgQmFzaCwgQml0ZSwgU2xhc2gsIFNob3QsIEVsZWN0cmljVG91Y2gsIEZvcmNlXSwgKGF0dGFjaykgPT4gYXR0YWNrc1thdHRhY2submFtZV0gPSAociwgaCwgZCkgPT4gbmV3IGF0dGFjayhyLCBoLCBkKSk7XG5leHBvcnQgZGVmYXVsdCBhdHRhY2tzO1xuXG5cblxuIiwiXG5pbXBvcnQgR2FtZVN0YXRlIGZyb20gJy4uLy4uL2luaXQvZ2FtZXN0YXRlJztcbmltcG9ydCBNZXNzYWdlUXVldWUgZnJvbSAnLi4vLi4vZGlzcGxheS9tZXNzYWdlLWhhbmRsZXInO1xuaW1wb3J0IHsgR29sZCwgQ29ycHNlIH0gZnJvbSAnLi4vaXRlbXMvc3BlY2lhbCc7XG4vLyBiZWhhdmlvcnMgYXJlIGZ1bmN0aW9uYWxpdHkgdGhhdCBjYXNjYWRlLCBpZSwgYSBtb25zdGVyIGNvdWxkIGhhdmUgMTAgYmVoYXZpb3JzIHRoYXQgb3ZlcnJpZGUgZGllKClcblxuLy8gcHJpb3JpdGllcyBkZXRlcm1pbmUgdGhlIG9yZGVyaW5nIG9mIGJlaGF2aW9yIGV4ZWN1dGlvblxuY29uc3QgUFJJT1JJVElFUyA9IHtcbiAgQUxXQVlTOiAwLFxuICBTVFVOOiAxLFxuICBIRUFMOiAyLFxuICBERUZFTlNFOiAzLFxuICBJTlRFUkFDVDogNCxcbiAgTU9WRTogNSxcbiAgREVGRVI6IDEwXG59O1xuXG4vLyByZXRhcmdldCBhbmQgZmluZCBhIG5ldyBwbGF5ZXIgdG8gYXR0YWNrXG5sZXQgdGFyZ2V0TmV3UGxheWVyID0gKG1lKSA9PiB7XG4gIGlmKCFtZS50YXJnZXQgfHwgKG1lLnRhcmdldCAmJiBtZS50YXJnZXQuaHAuYXRNaW4oKSkpIHtcbiAgICBtZS50YXJnZXQgPSBfKEdhbWVTdGF0ZS5wbGF5ZXJzKS5yZWplY3QocGxheWVyID0+IHBsYXllci5ocC5hdE1pbigpKS5zYW1wbGUoKTtcbiAgfVxuXG4gIGlmKCFtZS50YXJnZXQgfHwgbWUudGFyZ2V0LnogIT09IG1lLnopIHJldHVybiBmYWxzZTsgLy8gdGhleSBjYW4gd2FpdCwgeW91IG1heSBjb21lIGJhY2tcblxuICByZXR1cm4gdHJ1ZTsgLy8gc3VjY2Vzc2Z1bCByZXRhcmdldFxufTtcblxuY2xhc3MgQmVoYXZpb3Ige1xuICBjb25zdHJ1Y3Rvcihwcmlvcml0eSkge1xuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgfVxufVxuXG5jbGFzcyBSZWdlbmVyYXRlc0hwQmVoYXZpb3IgZXh0ZW5kcyBCZWhhdmlvciB7XG4gIGNvbnN0cnVjdG9yKGFtb3VudCA9IDEpIHtcbiAgICBzdXBlcihQUklPUklUSUVTLkFMV0FZUyk7XG4gICAgdGhpcy5hbW91bnQgPSBhbW91bnQ7XG4gIH1cblxuICBhY3QobWUpIHtcbiAgICBpZihtZS5jdXJyZW50VHVybiAlIG1lLmdldFJlZ2VuSHAoKSA9PT0gMCkgbWUuaHAuYWRkKHRoaXMuYW1vdW50KTtcbiAgfVxufVxuXG5leHBvcnQgdmFyIFJlZ2VuZXJhdGVzSHAgPSAoKSA9PiBuZXcgUmVnZW5lcmF0ZXNIcEJlaGF2aW9yKCk7XG5cbmNsYXNzIFJlZ2VuZXJhdGVzTXBCZWhhdmlvciBleHRlbmRzIEJlaGF2aW9yIHtcbiAgY29uc3RydWN0b3IoYW1vdW50ID0gMSkge1xuICAgIHN1cGVyKFBSSU9SSVRJRVMuQUxXQVlTKTtcbiAgICB0aGlzLmFtb3VudCA9IGFtb3VudDtcbiAgfVxuXG4gIGFjdChtZSkge1xuICAgIGlmKG1lLmN1cnJlbnRUdXJuICUgbWUuZ2V0UmVnZW5NcCgpID09PSAwKSBtZS5tcC5hZGQodGhpcy5hbW91bnQpO1xuICB9XG59XG5cbmV4cG9ydCB2YXIgUmVnZW5lcmF0ZXNNcCA9ICgpID0+IG5ldyBSZWdlbmVyYXRlc01wQmVoYXZpb3IoKTtcblxuY2xhc3MgSGVhbHNCZWxvd1BlcmNlbnRCZWhhdmlvciBleHRlbmRzIEJlaGF2aW9yIHtcbiAgY29uc3RydWN0b3IocGVyY2VudCA9IDUwKSB7XG4gICAgc3VwZXIoUFJJT1JJVElFUy5IRUFMKTtcbiAgICB0aGlzLmhlYWxQZXJjZW50ID0gcGVyY2VudDtcbiAgfVxuICBhY3QobWUpIHtcbiAgICBpZihtZS5ocC5ndFBlcmNlbnQodGhpcy5oZWFsUGVyY2VudCkpIHJldHVybiB0cnVlO1xuICAgIGxldCBoZWFsSXRlbXMgPSBfLmZpbHRlcihtZS5pbnZlbnRvcnksIChpdGVtKSA9PiBpdGVtLmhlYWxSb2xsICYmICBpdGVtLmNhblVzZShtZSkpO1xuICAgIGlmKGhlYWxJdGVtcy5sZW5ndGggPT09IDApIHJldHVybiB0cnVlO1xuICAgIGxldCBoZWFsSXRlbSA9IF8uc2FtcGxlKGhlYWxJdGVtcyk7XG4gICAgaGVhbEl0ZW0udXNlKG1lKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IHZhciBIZWFsc0JlbG93UGVyY2VudCA9IChwZXJjZW50KSA9PiBuZXcgSGVhbHNCZWxvd1BlcmNlbnRCZWhhdmlvcihwZXJjZW50KTtcblxuLyogYmVpbmcgc3R1bm5lZCBzdWNrcyAqL1xuY2xhc3MgU3R1bm5lZEJlaGF2aW9yIGV4dGVuZHMgQmVoYXZpb3Ige1xuICBjb25zdHJ1Y3RvcihudW1UdXJucyA9IDEpIHtcbiAgICBzdXBlcihQUklPUklUSUVTLlNUVU4pO1xuICAgIHRoaXMuc3R1blR1cm5zID0gbnVtVHVybnM7XG4gIH1cbiAgYWN0KG1lKSB7XG4gICAgaWYodGhpcy5zdHVuVHVybnMgPD0gMCkge1xuICAgICAgbWUucmVtb3ZlQmVoYXZpb3IodGhpcyk7XG4gICAgICBNZXNzYWdlUXVldWUuYWRkKHsgbWVzc2FnZTogYCR7bWUubmFtZX0gaXMgbm8gbG9uZ2VyIHN0dW5uZWQuYCB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBcbiAgICBNZXNzYWdlUXVldWUuYWRkKHsgbWVzc2FnZTogYCR7bWUubmFtZX0gaXMgc3R1bm5lZCFgIH0pO1xuICAgIHRoaXMuc3R1blR1cm5zLS07XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCB2YXIgU3R1bm5lZCA9IChudW1UdXJucykgPT4gbmV3IFN0dW5uZWRCZWhhdmlvcihudW1UdXJucyk7XG5cbi8qIHJldHJpZXZlIGl0ZW1zIGZyb20gdGhlIGdyb3VuZCAqL1xuLy8gVE9ETyB3aGl0ZWxpc3QvYmxhY2tsaXN0XG5jbGFzcyBQaWNrVXBJdGVtc0JlaGF2aW9yIGV4dGVuZHMgQmVoYXZpb3Ige1xuICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoUFJJT1JJVElFUy5JTlRFUkFDVCk7IH1cbiAgYWN0KG1lKSB7XG4gICAgbGV0IGl0ZW1zID0gR2FtZVN0YXRlLndvcmxkLmdldEl0ZW1zQXQobWUueCwgbWUueSwgbWUueik7XG4gICAgXy5lYWNoKGl0ZW1zLCAoaXRlbSkgPT4ge1xuICAgICAgR2FtZVN0YXRlLndvcmxkLnJlbW92ZUl0ZW0oaXRlbSk7XG4gICAgICBtZS5hZGRUb0ludmVudG9yeShpdGVtKTtcbiAgICAgIE1lc3NhZ2VRdWV1ZS5hZGQoeyBtZXNzYWdlOiBgJHttZS5uYW1lfSBwaWNrZWQgdXAgJHtpdGVtLm5hbWV9LmAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHZhciBQaWNrVXBJdGVtcyA9ICgpID0+IG5ldyBQaWNrVXBJdGVtc0JlaGF2aW9yKCk7XG5cbmNsYXNzIERyb3BzSXRlbXNCZWhhdmlvciBleHRlbmRzIEJlaGF2aW9yIHtcbiAgY29uc3RydWN0b3IoKSB7IHN1cGVyKFBSSU9SSVRJRVMuREVGRVIpOyB9XG4gIGRpZShtZSkge1xuICAgIGxldCBpdGVtcyA9IG1lLmludmVudG9yeS5jb25jYXQoXyhtZS5lcXVpcG1lbnQpLnZhbHVlcygpLmZsYXR0ZW4oKS52YWx1ZSgpKTtcbiAgICBfLmVhY2goaXRlbXMsIChpdGVtKSA9PiB7XG4gICAgICBtZS5kcm9wSXRlbShpdGVtKTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgdmFyIERyb3BzSXRlbXMgPSAoKSA9PiBuZXcgRHJvcHNJdGVtc0JlaGF2aW9yKCk7XG5cbi8qIG1vbnN0ZXJzIGNhbiBhdHRhY2sgd2l0aCB0aGlzICovXG5jbGFzcyBBdHRhY2tzQmVoYXZpb3IgZXh0ZW5kcyBCZWhhdmlvciB7XG4gIGNvbnN0cnVjdG9yKCkgeyBzdXBlcihQUklPUklUSUVTLkRFRkVOU0UpOyB9XG4gIGFjdChtZSkge1xuICAgIHJldHVybiAhbWUudHJ5QXR0YWNrKCk7XG4gIH1cbn1cblxuZXhwb3J0IHZhciBBdHRhY2tzID0gKCkgPT4gbmV3IEF0dGFja3NCZWhhdmlvcigpO1xuXG4vKiBtb25zdGVycyBsZWF2ZSBhIGNvcnBzZSAqL1xuY2xhc3MgTGVhdmVzQ29ycHNlQmVoYXZpb3IgZXh0ZW5kcyBCZWhhdmlvciB7XG4gIGNvbnN0cnVjdG9yKGRyb3BQZXJjZW50ID0gMTAwKSB7IFxuICAgIHN1cGVyKFBSSU9SSVRJRVMuREVGRVIpO1xuICAgIHRoaXMuZHJvcFBlcmNlbnQgPSBkcm9wUGVyY2VudDtcbiAgfVxuICBkaWUobWUpIHtcbiAgICBpZihST1QuUk5HLmdldFBlcmNlbnRhZ2UoKSA+IHRoaXMuZHJvcFBlcmNlbnQpIHJldHVybjtcbiAgICBsZXQgY29ycHNlID0gbmV3IENvcnBzZSh7IG1vbnN0ZXJOYW1lOiBtZS5uYW1lIH0pO1xuICAgIEdhbWVTdGF0ZS53b3JsZC5tb3ZlSXRlbShjb3Jwc2UsIG1lLngsIG1lLnksIG1lLnopO1xuICB9XG59XG5cbmV4cG9ydCB2YXIgTGVhdmVzQ29ycHNlID0gKHBlcmNlbnQpID0+IG5ldyBMZWF2ZXNDb3Jwc2VCZWhhdmlvcihwZXJjZW50KTtcblxuLyogc29tZSB0aGluZ3MgZHJvcCBnb2xkICovXG5jbGFzcyBEcm9wc0dvbGRCZWhhdmlvciBleHRlbmRzIEJlaGF2aW9yIHtcbiAgY29uc3RydWN0b3IoZ29sZCkge1xuICAgIHN1cGVyKFBSSU9SSVRJRVMuREVGRVIpO1xuICAgIHRoaXMuZ29sZERyb3AgPSBnb2xkO1xuICB9XG4gIGRpZShtZSkge1xuICAgIGxldCBkcm9wcGVkR29sZCA9ICtkaWNlLnJvbGwodGhpcy5nb2xkRHJvcCk7XG4gICAgbGV0IGdvbGRJdGVtID0gbmV3IEdvbGQoZHJvcHBlZEdvbGQpO1xuICAgIEdhbWVTdGF0ZS53b3JsZC5tb3ZlSXRlbShnb2xkSXRlbSwgbWUueCwgbWUueSwgbWUueik7XG4gIH1cbn1cblxuZXhwb3J0IHZhciBEcm9wc0dvbGQgPSAoZ29sZCkgPT4gbmV3IERyb3BzR29sZEJlaGF2aW9yKGdvbGQpO1xuXG4vKiBleHBsb2RlcyB1cG9uIGRlYXRoLiBjYW4gYmUgcHJldHR5IGRhbmdlcm91cyAqL1xuY2xhc3MgRXhwbG9kZXNCZWhhdmlvciBleHRlbmRzIEJlaGF2aW9yIHtcbiAgY29uc3RydWN0b3Iocm9sbCA9ICcxZDQnLCBwZXJjZW50ID0gMTAwKSB7XG4gICAgc3VwZXIoUFJJT1JJVElFUy5ERUZFUik7XG4gICAgdGhpcy5yb2xsID0gcm9sbDtcbiAgICB0aGlzLnBlcmNlbnQgPSBwZXJjZW50O1xuICB9XG4gIFxuICBkaWUobWUpIHtcbiAgICBpZihST1QuUk5HLmdldFBlcmNlbnRhZ2UoKSA+IHRoaXMucGVyY2VudCkge1xuICAgICAgTWVzc2FnZVF1ZXVlLmFkZCh7IG1lc3NhZ2U6IGAke21lLm5hbWV9IGV4cGxvZGVzIGEgbGl0dGxlIGJpdC5gIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBNZXNzYWdlUXVldWUuYWRkKHsgbWVzc2FnZTogYCR7bWUubmFtZX0gdmlvbGVudGx5IGV4cGxvZGVzIWAgfSk7XG4gICAgXy5lYWNoKEdhbWVTdGF0ZS53b3JsZC5nZXRWYWxpZEVudGl0aWVzSW5SYW5nZShtZS54LCBtZS55LCBtZS56LCAxKSwgKGVudGl0eSkgPT4ge1xuICAgICAgaWYobWUgPT09IGVudGl0eSB8fCBlbnRpdHkuaHAuYXRNaW4oKSkgcmV0dXJuOyAvLyBpbmZpbml0ZSBsb29wIHByZXZlbnRpb25cbiAgICAgIGVudGl0eS50YWtlRGFtYWdlKCtkaWNlLnJvbGwodGhpcy5yb2xsKSwgbWUpO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB2YXIgRXhwbG9kZXMgPSAocm9sbCwgcGVyY2VudCkgPT4gbmV3IEV4cGxvZGVzQmVoYXZpb3Iocm9sbCwgcGVyY2VudCk7XG5cbi8qIGFsd2F5cyBzZWVrcyBhIHRhcmdldCAqL1xuY2xhc3MgQmxvb2R0aGlyc3R5QmVoYXZpb3IgZXh0ZW5kcyBCZWhhdmlvciB7XG4gIGNvbnN0cnVjdG9yKCkgeyBzdXBlcihQUklPUklUSUVTLk1PVkUpOyB9XG4gIGFjdChtZSkge1xuICAgIGlmKCF0YXJnZXROZXdQbGF5ZXIobWUpKSByZXR1cm47XG4gICAgbWUuc3RlcFRvd2FyZHMobWUudGFyZ2V0KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmV4cG9ydCB2YXIgQmxvb2R0aGlyc3R5ID0gKCkgPT4gbmV3IEJsb29kdGhpcnN0eUJlaGF2aW9yKCk7XG5cbi8qIHNlZWtzIGEgdGFyZ2V0IGlmIHRoZXkncmUgd2l0aGluIHZpc2lvbiByYW5nZSAqL1xuY2xhc3MgU2Vla3NUYXJnZXRJblNpZ2h0QmVoYXZpb3IgZXh0ZW5kcyBCZWhhdmlvciB7XG4gIGNvbnN0cnVjdG9yKCkgeyBzdXBlcihQUklPUklUSUVTLk1PVkUpOyB9XG4gIGFjdChtZSkge1xuICAgIGxldCBwb3NzaWJsZVRhcmdldHMgPSBbXTtcbiAgICBcbiAgICBHYW1lU3RhdGUud29ybGQuZm92W21lLnpdLmNvbXB1dGUoXG4gICAgICBtZS54LCBtZS55LCBtZS5nZXRTaWdodCgpLCBcbiAgICAgICh4LCB5KSA9PiB7XG4gICAgICAgIGxldCBlbnRpdHkgPSBHYW1lU3RhdGUud29ybGQuZ2V0RW50aXR5KHgsIHksIG1lLnopO1xuICAgICAgICBpZighZW50aXR5IHx8ICFtZS5jYW5BdHRhY2soZW50aXR5KSkgcmV0dXJuO1xuICAgICAgICBwb3NzaWJsZVRhcmdldHMucHVzaChlbnRpdHkpO1xuICAgICAgfVxuICAgICk7XG4gICAgXG4gICAgaWYobWUudGFyZ2V0ICYmIF8uY29udGFpbnMocG9zc2libGVUYXJnZXRzLCBtZS50YXJnZXQpKSB7XG4gICAgICBtZS5zdGVwVG93YXJkcyhtZS50YXJnZXQpO1xuICAgICAgXG4gICAgfSBlbHNlIGlmKHBvc3NpYmxlVGFyZ2V0cy5sZW5ndGggPiAwKSB7XG4gICAgICBtZS50YXJnZXQgPSBfLnNhbXBsZShwb3NzaWJsZVRhcmdldHMpO1xuICAgICAgbWUuc3RlcFRvd2FyZHMobWUudGFyZ2V0KTtcbiAgICAgIFxuICAgIH0gZWxzZSB7XG4gICAgICBtZS5zdGVwUmFuZG9tbHkoKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5leHBvcnQgdmFyIFNlZWtzVGFyZ2V0SW5TaWdodCA9ICgpID0+IG5ldyBTZWVrc1RhcmdldEluU2lnaHRCZWhhdmlvcigpO1xuXG4vKiB3YW5kZXJzIGFyb3VuZCBhaW1sZXNzbHkgKi9cbmNsYXNzIFdhbmRlcnNCZWhhdmlvciBleHRlbmRzIEJlaGF2aW9yIHtcbiAgY29uc3RydWN0b3IoKSB7IHN1cGVyKFBSSU9SSVRJRVMuTU9WRSk7IH1cbiAgYWN0KG1lKSB7XG4gICAgbWUuc3RlcFJhbmRvbWx5KCk7XG4gICAgXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5leHBvcnQgdmFyIFdhbmRlcnMgPSAoKSA9PiBuZXcgV2FuZGVyc0JlaGF2aW9yKCk7XG5cbi8qIGludGVyYWN0cyB3aXRoIGV2ZXJ5dGhpbmcgKi9cbmNsYXNzIEludGVyYWN0c0JlaGF2aW9yIGV4dGVuZHMgQmVoYXZpb3Ige1xuICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoUFJJT1JJVElFUy5JTlRFUkFDVCk7IH1cbiAgYWN0KG1lKSB7XG4gICAgdmFyIHRpbGVzID0gR2FtZVN0YXRlLndvcmxkLmdldEFsbFRpbGVzSW5SYW5nZShtZS54LCBtZS55LCBtZS56LCAxKTtcbiAgICBcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCB0aWxlID0gdGlsZXNbaV07XG4gICAgICBcbiAgICAgIGlmKHRpbGUuY2FuSW50ZXJhY3QgJiYgdGlsZS5pbnRlcmFjdCAmJiB0aWxlLmNhbkludGVyYWN0KG1lKSkge1xuICAgICAgICBsZXQgbXNnID0gdGlsZS5pbnRlcmFjdChtZSk7XG4gICAgICAgIE1lc3NhZ2VRdWV1ZS5hZGQoeyBtZXNzYWdlOiBtc2cgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbmV4cG9ydCB2YXIgSW50ZXJhY3RzID0gKCkgPT4gbmV3IEludGVyYWN0c0JlaGF2aW9yKCk7XG5cbi8qIGJyZWFrcyBkb3duIGRvb3JzIHRoYXQgaXQgZmluZHMgKi9cbmNsYXNzIEJyZWFrc0Rvb3JzQmVoYXZpb3IgZXh0ZW5kcyBCZWhhdmlvciB7XG4gIGNvbnN0cnVjdG9yKCkgeyBzdXBlcihQUklPUklUSUVTLklOVEVSQUNUKTsgfVxuICBhY3QoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5leHBvcnQgdmFyIEJyZWFrc0Rvb3JzID0gKCkgPT4gbmV3IEJyZWFrc0Rvb3JzQmVoYXZpb3IoKTtcblxuLyogb3BlbnMgZG9vcnMgdGhhdCBpdCBmaW5kcyAqL1xuY2xhc3MgT3BlbnNEb29yc0JlaGF2aW9yIGV4dGVuZHMgQmVoYXZpb3Ige1xuICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoUFJJT1JJVElFUy5JTlRFUkFDVCk7IH1cbiAgYWN0KG1lKSB7XG4gICAgbGV0IGRvb3JzID0gR2FtZVN0YXRlLndvcmxkLmdldFZhbGlkVGlsZXNJblJhbmdlKG1lLngsIG1lLnksIG1lLnosIDEsICh0aWxlKSA9PiB0aWxlLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdEb29yJyAmJiB0aWxlLmRlbnNpdHkpO1xuICAgIGlmKGRvb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBkb29yID0gZG9vcnNbMF07XG4gICAgICBkb29yLmludGVyYWN0KG1lKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbmV4cG9ydCB2YXIgT3BlbnNEb29ycyA9ICgpID0+IG5ldyBPcGVuc0Rvb3JzQmVoYXZpb3IoKTsiLCJcbmltcG9ydCB7IEJvZHkgfSBmcm9tICcuLi8uLi9kZWZpbml0aW9ucy9lcXVpcG1lbnQnO1xuXG5leHBvcnQgY2xhc3MgVFNoaXJ0IGV4dGVuZHMgQm9keSB7XG59XG5UU2hpcnQucmFyaXR5ID0gMTAwO1xuXG5leHBvcnQgY2xhc3MgTGVhdGhlckphY2tldCBleHRlbmRzIEJvZHkge1xuICBhYygpIHtcbiAgICByZXR1cm4gdGhpcy5idWMgKiAtMTtcbiAgfVxufVxuTGVhdGhlckphY2tldC5yYXJpdHkgPSA1OyIsIlxuaW1wb3J0IHsgQ2xvYWsgfSBmcm9tICcuLi8uLi9kZWZpbml0aW9ucy9lcXVpcG1lbnQnO1xuXG5leHBvcnQgY2xhc3MgT3JkaW5hcnkgZXh0ZW5kcyBDbG9hayB7XG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBzdXBlcihvcHRzKTtcbiAgICB0aGlzLnJlYWxOYW1lID0gdGhpcy5mYWtlTmFtZSA9ICdvcmRpbmFyeSBjbG9hayc7XG4gIH1cbn1cbk9yZGluYXJ5LnJhcml0eSA9IDEwMDtcblxuZXhwb3J0IGNsYXNzIFByb3RlY3Rpb24gZXh0ZW5kcyBDbG9hayB7XG4gIGFjKCkge1xuICAgIHJldHVybiB0aGlzLmJ1YyAqIC0yO1xuICB9XG59XG5Qcm90ZWN0aW9uLnJhcml0eSA9IDU7IiwiXG5pbXBvcnQgeyBGZWV0IH0gZnJvbSAnLi4vLi4vZGVmaW5pdGlvbnMvZXF1aXBtZW50JztcblxuZXhwb3J0IGNsYXNzIE9yZGluYXJ5IGV4dGVuZHMgRmVldCB7XG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBzdXBlcihvcHRzKTtcbiAgICB0aGlzLnJlYWxOYW1lID0gdGhpcy5mYWtlTmFtZSA9ICdvcmRpbmFyeSBjbG9hayc7XG4gIH1cbn1cbk9yZGluYXJ5LnJhcml0eSA9IDEwMDtcblxuZXhwb3J0IGNsYXNzIFByb3RlY3RpdmUgZXh0ZW5kcyBGZWV0IHtcbiAgYWMoKSB7XG4gICAgcmV0dXJuIHRoaXMuYnVjICogLTE7XG4gIH1cbn1cblByb3RlY3RpdmUucmFyaXR5ID0gNTsiLCJcbmltcG9ydCB7IENvbWVzdGlibGUgfSBmcm9tICcuLi8uLi9kZWZpbml0aW9ucy9lcXVpcG1lbnQnO1xuXG5leHBvcnQgY2xhc3MgUmF0aW9uIGV4dGVuZHMgQ29tZXN0aWJsZSB7XG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBzdXBlcihvcHRzKTtcbiAgICB0aGlzLm5hbWUgPSAncmF0aW9uJztcbiAgfVxufVxuUmF0aW9uLnJhcml0eSA9IDUwOyIsIlxuaW1wb3J0IHsgSGVhZCB9IGZyb20gJy4uLy4uL2RlZmluaXRpb25zL2VxdWlwbWVudCc7XG5cbmV4cG9ydCBjbGFzcyBPcmRpbmFyeSBleHRlbmRzIEhlYWQge1xuICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgc3VwZXIob3B0cyk7XG4gICAgdGhpcy5yZWFsTmFtZSA9IHRoaXMuZmFrZU5hbWUgPSAnb3JkaW5hcnkgaGF0JztcbiAgfVxufVxuT3JkaW5hcnkucmFyaXR5ID0gMjU7XG5cbmV4cG9ydCBjbGFzcyBQcm90ZWN0aXZlIGV4dGVuZHMgSGVhZCB7XG4gIGFjKCkge1xuICAgIHJldHVybiB0aGlzLmJ1YyAqIC0xO1xuICB9XG59XG5Qcm90ZWN0aXZlLnJhcml0eSA9IDU7IiwiXG5pbXBvcnQgeyBQb3Rpb24gfSBmcm9tICcuLi8uLi9kZWZpbml0aW9ucy9lcXVpcG1lbnQnO1xuXG5leHBvcnQgY2xhc3MgSGVhbGluZyBleHRlbmRzIFBvdGlvbiB7XG4gIGNvbnN0cnVjdG9yKG9wdHMgPSB7IGNoYXJnZXM6IDEgfSkge1xuICAgIF8uZXh0ZW5kKG9wdHMsIHsgaGVhbFJvbGw6ICc0ZDQnLCBhdXRvUmVtb3ZlOiB0cnVlIH0pO1xuICAgIHN1cGVyKG9wdHMpO1xuICB9XG59XG5IZWFsaW5nLnJhcml0eSA9IDUwOyIsIlxuaW1wb3J0IHsgV2VhcG9uIH0gZnJvbSAnLi4vLi4vZGVmaW5pdGlvbnMvZXF1aXBtZW50JztcbmltcG9ydCBBdHRhY2tzIGZyb20gJy4uL2F0dGFja3MvYXR0YWNrcyc7XG5cbmV4cG9ydCBjbGFzcyBEYXJ0IGV4dGVuZHMgV2VhcG9uIHtcbiAgY29uc3RydWN0b3Iob3B0cyA9IHsgY2hhcmdlczogJzFkNCcgfSkge1xuICAgIF8uZXh0ZW5kKG9wdHMsIHtcbiAgICAgIGF1dG9SZW1vdmU6IHRydWUsXG4gICAgICBnbHlwaDogeyBrZXk6ICcpJywgZmc6ICcjMDBmJyB9LFxuICAgICAgYXR0YWNrczogW0F0dGFja3MuU2hvdCh7IHJvbGw6ICcxZDMnLCB0b0hpdDogJzBkMCcsIHJhbmdlOiAzIH0pXVxuICAgIH0pO1xuICAgIHN1cGVyKG9wdHMpO1xuICB9XG59XG5EYXJ0LnJhcml0eSA9IDUwO1xuXG5leHBvcnQgY2xhc3MgQXJyb3cgZXh0ZW5kcyBXZWFwb24ge1xuICBjb25zdHJ1Y3RvcihvcHRzID0geyBjaGFyZ2VzOiAnMWQ0JyB9KSB7XG4gICAgXy5leHRlbmQob3B0cywge1xuICAgICAgYXV0b1JlbW92ZTogdHJ1ZSxcbiAgICAgIGdseXBoOiB7IGtleTogJyknLCBmZzogJyNmMGYnIH0sXG4gICAgICBhdHRhY2tzOiBbQXR0YWNrcy5TaG90KHsgcm9sbDogJzFkNicsIHRvSGl0OiAnMGQwJywgcmFuZ2U6IDYgfSldXG4gICAgfSk7XG4gICAgc3VwZXIob3B0cyk7XG4gIH1cbn1cbkFycm93LnJhcml0eSA9IDI1OyIsIlxuaW1wb3J0IHsgUmluZyB9IGZyb20gJy4uLy4uL2RlZmluaXRpb25zL2VxdWlwbWVudCc7XG5cbmV4cG9ydCBjbGFzcyBQcm90ZWN0aW9uIGV4dGVuZHMgUmluZyB7XG4gIGFjKCkge1xuICAgIHJldHVybiB0aGlzLmJ1YyAqIC0xO1xuICB9XG59XG5Qcm90ZWN0aW9uLnJhcml0eSA9IDU7XG5cbmV4cG9ydCBjbGFzcyBTdHJlbmd0aCBleHRlbmRzIFJpbmcge1xuICBzdHIoKSB7XG4gICAgcmV0dXJuIHRoaXMuYnVjO1xuICB9XG59XG5TdHJlbmd0aC5yYXJpdHkgPSAxNTtcblxuZXhwb3J0IGNsYXNzIENvbnN0aXR1dGlvbiBleHRlbmRzIFJpbmcge1xuICBjb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYnVjO1xuICB9XG59XG5Db25zdGl0dXRpb24ucmFyaXR5ID0gNTtcblxuZXhwb3J0IGNsYXNzIERleHRlcml0eSBleHRlbmRzIFJpbmcge1xuICBkZXgoKSB7XG4gICAgcmV0dXJuIHRoaXMuYnVjO1xuICB9XG59XG5EZXh0ZXJpdHkucmFyaXR5ID0gMTU7XG5cbmV4cG9ydCBjbGFzcyBJbnRlbGxpZ2VuY2UgZXh0ZW5kcyBSaW5nIHtcbiAgaW50KCkge1xuICAgIHJldHVybiB0aGlzLmJ1YztcbiAgfVxufVxuSW50ZWxsaWdlbmNlLnJhcml0eSA9IDIwO1xuXG5leHBvcnQgY2xhc3MgV2lzZG9tIGV4dGVuZHMgUmluZyB7XG4gIHdpcygpIHtcbiAgICByZXR1cm4gdGhpcy5idWM7XG4gIH1cbn1cbldpc2RvbS5yYXJpdHkgPSAyNTtcblxuZXhwb3J0IGNsYXNzIENoYXJpc21hIGV4dGVuZHMgUmluZyB7XG4gIGNoYSgpIHtcbiAgICByZXR1cm4gdGhpcy5idWM7XG4gIH1cbn1cbkNoYXJpc21hLnJhcml0eSA9IDI7XG5cbmV4cG9ydCBjbGFzcyBMdWNrIGV4dGVuZHMgUmluZyB7XG4gIGx1aygpIHtcbiAgICByZXR1cm4gdGhpcy5idWM7XG4gIH1cbn1cbkx1Y2sucmFyaXR5ID0gMTtcblxuZXhwb3J0IGNsYXNzIFNwZWVkIGV4dGVuZHMgUmluZyB7XG4gIHNwZWVkKCkge1xuICAgIHJldHVybiB0aGlzLmJ1YztcbiAgfVxufVxuU3BlZWQucmFyaXR5ID0gMjA7XG5cbmV4cG9ydCBjbGFzcyBTaWdodCBleHRlbmRzIFJpbmcge1xuICBzaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5idWM7XG4gIH1cbn1cblNpZ2h0LnJhcml0eSA9IDQwO1xuXG5leHBvcnQgY2xhc3MgQWNjdXJhY3kgZXh0ZW5kcyBSaW5nIHtcbiAgdG9IaXQoKSB7XG4gICAgcmV0dXJuIGAwZDAgKyR7dGhpcy5idWN9YDtcbiAgfVxufVxuQWNjdXJhY3kucmFyaXR5ID0gNTA7XG5cbmV4cG9ydCBjbGFzcyBCb251c0RhbWFnZSBleHRlbmRzIFJpbmcge1xuICBib251c0RhbWFnZSgpIHtcbiAgICByZXR1cm4gYDBkMCArJHt0aGlzLmJ1Y31gO1xuICB9XG59XG5Cb251c0RhbWFnZS5yYXJpdHkgPSAzMDsiLCJcbmltcG9ydCB7IFNwZWNpYWwsIENvbWVzdGlibGUgfSBmcm9tICcuLi8uLi9kZWZpbml0aW9ucy9lcXVpcG1lbnQnO1xuXG5leHBvcnQgY2xhc3MgR29sZCBleHRlbmRzIFNwZWNpYWwge1xuICBjb25zdHJ1Y3RvcihudW0pIHtcbiAgICBsZXQgb3B0cyA9IHtcbiAgICAgIGdseXBoOiB7IGtleTogJyQnLCBmZzogJ3llbGxvdycgfVxuICAgIH07XG4gICAgc3VwZXIob3B0cyk7XG4gICAgdGhpcy5nb2xkVmFsdWUgPSBudW07XG4gICAgdGhpcy5uYW1lID0gYCR7dGhpcy5nb2xkVmFsdWV9IGdvbGRgO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb3Jwc2UgZXh0ZW5kcyBDb21lc3RpYmxlIHtcbiAgY29uc3RydWN0b3Iob3B0cyA9IHsgbW9uc3Rlck5hbWU6ICd1bmtub3duJyB9KSB7XG4gICAgc3VwZXIob3B0cyk7XG4gICAgdGhpcy5uYW1lID0gYGNvcnBzZSBvZiAke29wdHMubW9uc3Rlck5hbWV9YDtcbiAgfVxufSIsIlxuaW1wb3J0IHsgU3BlbGxib29rIH0gZnJvbSAnLi4vLi4vZGVmaW5pdGlvbnMvZXF1aXBtZW50JztcbmltcG9ydCBBdHRhY2tzIGZyb20gJy4uL2F0dGFja3MvYXR0YWNrcyc7XG5cbmV4cG9ydCBjbGFzcyBGb3JjZUJvbHQgZXh0ZW5kcyBTcGVsbGJvb2sge1xuICBjb25zdHJ1Y3RvcihvcHRzID0ge30pIHtcbiAgICBfLmV4dGVuZChvcHRzLCB7XG4gICAgICBtYW5hQ29zdDogMixcbiAgICAgIGF0dGFja3M6IFtBdHRhY2tzLkZvcmNlKHsgcm9sbDogJzJkNicsIHJhbmdlOiA0IH0pXVxuICAgIH0pO1xuICAgIHN1cGVyKG9wdHMpO1xuICB9XG59XG5Gb3JjZUJvbHQucmFyaXR5ID0gMjU7IiwiXG5pbXBvcnQgeyBXYW5kIH0gZnJvbSAnLi4vLi4vZGVmaW5pdGlvbnMvZXF1aXBtZW50JztcbmltcG9ydCBBdHRhY2tzIGZyb20gJy4uL2F0dGFja3MvYXR0YWNrcyc7XG5cbmV4cG9ydCBjbGFzcyBTdHJpa2luZyBleHRlbmRzIFdhbmQge1xuICBjb25zdHJ1Y3RvcihvcHRzID0ge30pIHtcbiAgICBfLmV4dGVuZChvcHRzLCB7XG4gICAgICBjaGFyZ2VzOiAnMmQ1JyxcbiAgICAgIGF0dGFja3M6IFtBdHRhY2tzLkZvcmNlKHsgcm9sbDogJzJkNicsIHJhbmdlOiA0IH0pXVxuICAgIH0pO1xuICAgIHN1cGVyKG9wdHMpO1xuICB9XG59XG5TdHJpa2luZy5yYXJpdHkgPSAyNTsiLCJcbi8vIGV4dGVuZGluZyBXZWFwb24gbWVhbnMgYW4gaXRlbSBpcyBub3QgZXF1aXBwYWJsZSBidXQgaXMgYSB3ZWFwb24uXG4vLyBldGVuZGluZyBIYW5kcyBtZWFucyBhbiBpdGVtIGlzIGVxdWlwcGFibGUgaW4gdGhlIGhhbmRzIHNsb3RcbmltcG9ydCB7IEhhbmRzIH0gZnJvbSAnLi4vLi4vZGVmaW5pdGlvbnMvZXF1aXBtZW50JztcbmltcG9ydCBBdHRhY2tzIGZyb20gJy4uL2F0dGFja3MvYXR0YWNrcyc7XG5cbmV4cG9ydCBjbGFzcyBCb3cgZXh0ZW5kcyBIYW5kcyB7XG4gIGNvbnN0cnVjdG9yKG9wdHMgPSB7fSkge1xuICAgIF8uZXh0ZW5kKG9wdHMsIHtcbiAgICAgIGdseXBoOiB7IGZnOiAnI2YwMCcgfSxcbiAgICAgIGF0dGFja3M6IFtBdHRhY2tzLlJhbmdlZCh7IHJvbGw6ICcxZDInIH0pXSwgLy8gaWYgaXQgY2FuJ3Qgc2hvb3QgYXJyb3dzLCBpdCdsbCBiYXNoIGZvciAxZDJcbiAgICAgIHNsb3RzVGFrZW46IDIsXG4gICAgICByYW5nZToge1xuICAgICAgICBhbW1vOiBbJ2Fycm93JywgJ2RhcnQnXSxcbiAgICAgICAgZGFtYWdlQm9vc3Q6ICcxZDInXG4gICAgICB9XG4gICAgfSk7XG4gICAgc3VwZXIob3B0cyk7XG4gIH1cbn1cbkJvdy5yYXJpdHkgPSAyNTtcblxuZXhwb3J0IGNsYXNzIFF1YXJ0ZXJzdGFmZiBleHRlbmRzIEhhbmRzIHtcbiAgY29uc3RydWN0b3Iob3B0cyA9IHt9KSB7XG4gICAgXy5leHRlbmQob3B0cywge1xuICAgICAgZ2x5cGg6IHsgZmc6ICcjNDkzMTFjJyB9LFxuICAgICAgYXR0YWNrczogW0F0dGFja3MuQmFzaCh7IHJvbGw6ICcxZDYnIH0pXSxcbiAgICAgIHNsb3RzVGFrZW46IDJcbiAgICB9KTtcbiAgICBzdXBlcihvcHRzKTtcbiAgfVxufVxuUXVhcnRlcnN0YWZmLnJhcml0eSA9IDI1O1xuXG5leHBvcnQgY2xhc3MgRGFnZ2VyIGV4dGVuZHMgSGFuZHMge1xuICBjb25zdHJ1Y3RvcihvcHRzID0ge30pIHtcbiAgICBfLmV4dGVuZChvcHRzLCB7XG4gICAgICBnbHlwaDogeyBmZzogJyNjY2MnIH0sXG4gICAgICBhdHRhY2tzOiBbQXR0YWNrcy5TbGFzaCh7IHJvbGw6ICcxZDQnIH0pXVxuICAgIH0pO1xuICAgIHN1cGVyKG9wdHMpO1xuICB9XG59XG5EYWdnZXIucmFyaXR5ID0gMjU7IiwiXG5pbXBvcnQgeyBXcmlzdCB9IGZyb20gJy4uLy4uL2RlZmluaXRpb25zL2VxdWlwbWVudCc7XG5cbmV4cG9ydCBjbGFzcyBMZWF0aGVyIGV4dGVuZHMgV3Jpc3Qge1xufVxuTGVhdGhlci5yYXJpdHkgPSAxMDA7IiwiXG5pbXBvcnQgKiBhcyBCZWhhdmlvcnMgZnJvbSAnLi4vYmVoYXZpb3JzL2JlaGF2aW9ycyc7XG5pbXBvcnQgQXR0YWNrcyBmcm9tICcuLi9hdHRhY2tzL2F0dGFja3MnO1xuaW1wb3J0ICogYXMgRm9vZHMgZnJvbSAnLi4vaXRlbXMvZm9vZHMnO1xuXG5leHBvcnQgdmFyIGdyaWRCdWcgPSAgICAgICAgICB7IGRpZmZpY3VsdHk6IDEsIGdseXBoOiB7IGtleTogJ3gnLCBmZzogJ3B1cnBsZScgfSwgc3Bhd25QYXR0ZXJuOiAnMWQyJywgZnJlcXVlbmN5OiAxMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogeyBhYzogLTEsIHNwZWVkOiAxNTAsIGxldmVsOiAxLCBzdHI6IDUsIGRleDogMywgY29uOiAwLCBraWxsWHA6ICc0ZDEnLCBzcGF3bkhwOiAnMWQ0ICsgMicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0czogeyBuYW1lOiAnZ3JpZCBidWcnLCByYWNlOiAnSW5zZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlaGF2aW9yczogW0JlaGF2aW9ycy5TZWVrc1RhcmdldEluU2lnaHQoKSwgQmVoYXZpb3JzLkF0dGFja3MoKV0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNrczogW0F0dGFja3MuRWxlY3RyaWNUb3VjaCh7IHJvbGw6ICcxZDMgKyAxJyB9KV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH07XG5leHBvcnQgdmFyIG5ld3QgPSAgICAgICAgICAgICB7IGRpZmZpY3VsdHk6IDEsIGdseXBoOiB7IGtleTogJzonLCBmZzogJ3llbGxvdycgfSwgc3Bhd25QYXR0ZXJuOiAnMWQxJywgZnJlcXVlbmN5OiAxMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogeyBhYzogLTIsIHNwZWVkOiA1MCwgbGV2ZWw6IDEsIHN0cjogMiwgZGV4OiAxLCBjb246IDEsIGtpbGxYcDogJzFkMScsIHNwYXduSHA6ICcxZDQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHM6IHsgbmFtZTogJ25ld3QnLCByYWNlOiAnU2FsYW1hbmRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWhhdmlvcnM6IFtCZWhhdmlvcnMuTGVhdmVzQ29ycHNlKCksIEJlaGF2aW9ycy5TZWVrc1RhcmdldEluU2lnaHQoKSwgQmVoYXZpb3JzLkF0dGFja3MoKV0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNrczogW0F0dGFja3MuQml0ZSh7IHJvbGw6ICcxZDMgKyAxJyB9KV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH07XG5leHBvcnQgdmFyIGdhc1Nwb3JlID0gICAgICAgICB7IGRpZmZpY3VsdHk6IDIsIGdseXBoOiB7IGtleTogJ2UnLCBmZzogJ2dyYXknIH0sIHNwYXduUGF0dGVybjogJzFkMScsICBmcmVxdWVuY3k6IDUwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHsgYWM6IDAsIHNwZWVkOiAyNSwgbGV2ZWw6IDIsIHN0cjogMCwgZGV4OiAwLCBjb246IDAsIGtpbGxYcDogJzEyZDEnLCBzcGF3bkhwOiAnMmQ0JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzOiB7IG5hbWU6ICdnYXMgc3BvcmUnLCByYWNlOiAnU3BvcmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVoYXZpb3JzOiBbQmVoYXZpb3JzLkV4cGxvZGVzKCc0ZDgnKSwgQmVoYXZpb3JzLldhbmRlcnMoKV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH07XG5leHBvcnQgdmFyIGphY2thbCA9ICAgICAgICAgICB7IGRpZmZpY3VsdHk6IDIsIGdseXBoOiB7IGtleTogJ2QnLCBmZzogJ2Jyb3duJyB9LCBzcGF3blBhdHRlcm46ICcxZDMgKyAxJywgIGZyZXF1ZW5jeTogNzUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRpbmdFcXVpcG1lbnQ6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgcHJvYmFiaWxpdHk6IDIwLCBpbml0OiAoKSA9PiBuZXcgRm9vZHMuUmF0aW9uKHsgY2hhcmdlczogJzFkMicgfSkgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogeyBhYzogLTMsIHNwZWVkOiAxMjUsIGxldmVsOiAxLCBzdHI6ICcxZDQgKyAyJywgZGV4OiAnMmQzICsgNCcsIGNvbjogNCwga2lsbFhwOiAnMmQzICsgMycsIHNwYXduSHA6ICczZDMgKyA1JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzOiB7IG5hbWU6ICdqYWNrYWwnLCByYWNlOiAnQ2FuaW5lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlaGF2aW9yczogW0JlaGF2aW9ycy5MZWF2ZXNDb3Jwc2UoKSwgQmVoYXZpb3JzLkRyb3BzR29sZCgnMWQxMCcpLCBCZWhhdmlvcnMuQmxvb2R0aGlyc3R5KCksIEJlaGF2aW9ycy5BdHRhY2tzKCksIEJlaGF2aW9ycy5Ecm9wc0l0ZW1zKCldLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFja3M6IFtBdHRhY2tzLkJpdGUoeyByb2xsOiAnMWQyICsgMScsIHRvSGl0OiAnMWQyJyB9KV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH07XG5leHBvcnQgdmFyIGdpYW50QW50ID0gICAgICAgICB7IGRpZmZpY3VsdHk6IDQsIGdseXBoOiB7IGtleTogJ2EnLCBmZzogJ2Jyb3duJyB9LCBzcGF3blBhdHRlcm46ICcxZDQgKyAyJywgIGZyZXF1ZW5jeTogMjAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogeyBhYzogLTIsIHNwZWVkOiAxNTAsIGxldmVsOiAzLCBzdHI6ICcxZDMgKyAzJywgZGV4OiAnMWQzICsgMicsIGNvbjogNCwga2lsbFhwOiAnMmQ0ICsgNScsIHNwYXduSHA6ICcxZDggKyA1JyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzOiB7IG5hbWU6ICdnaWFudCBhbnQnLCByYWNlOiAnSW5zZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlaGF2aW9yczogW0JlaGF2aW9ycy5MZWF2ZXNDb3Jwc2UoKSwgQmVoYXZpb3JzLkRyb3BzR29sZCgnMmQ0JyksIEJlaGF2aW9ycy5CbG9vZHRoaXJzdHkoKSwgQmVoYXZpb3JzLkF0dGFja3MoKV0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNrczogW0F0dGFja3MuQml0ZSh7IHJvbGw6ICcxZDQgKyAxJyB9KV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH07IiwiLy8gdG9kbyBtYXliZSBtYWtlIHByb2Zlc3Npb25zIGhhdmUgdGhlaXIgb3duIHhwL2xldmVsdXAgc3R1ZmY/IHRoYXQgd2F5IGl0J3Mgbm90IGFsd2F5cyAxLzEgdGhpZWYsIDIvMiBtYWdlLCBldGMuIC0tIGNsYXNzZXMgY291bGQgZ3JvdyBhdCB0aGVpciBvd24gcmF0ZXMgdGhlbiwgbWFraW5nIHNvbWUgaW5oZXJlbnRseSBtb3JlIGRpZmZpY3VsdCB0aGFuIG90aGVycy5cblxuaW1wb3J0IE1vbnN0ZXIgZnJvbSAnLi9tb25zdGVyJztcbmltcG9ydCBUb3VyaXN0IGZyb20gJy4vdG91cmlzdCc7XG5pbXBvcnQgUmFuZ2VyIGZyb20gJy4vcmFuZ2VyJztcbmltcG9ydCBXaXphcmQgZnJvbSAnLi93aXphcmQnO1xuXG5leHBvcnQgZGVmYXVsdCB7IE1vbnN0ZXIsIFRvdXJpc3QsIFJhbmdlciwgV2l6YXJkIH07IiwiXG5pbXBvcnQgUHJvZmVzc2lvbiBmcm9tICcuLi8uLi9kZWZpbml0aW9ucy9wcm9mZXNzaW9uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9uc3RlciBleHRlbmRzIFByb2Zlc3Npb24ge30iLCJcbmltcG9ydCBQcm9mZXNzaW9uIGZyb20gJy4uLy4uL2RlZmluaXRpb25zL3Byb2Zlc3Npb24nO1xuXG5pbXBvcnQgKiBhcyBGb29kcyBmcm9tICcuLi9pdGVtcy9mb29kcyc7XG5pbXBvcnQgKiBhcyBXZWFwb25zIGZyb20gJy4uL2l0ZW1zL3dlYXBvbnMnO1xuaW1wb3J0ICogYXMgUG90aW9ucyBmcm9tICcuLi9pdGVtcy9wb3Rpb25zJztcbmltcG9ydCAqIGFzIFByb2plY3RpbGVzIGZyb20gJy4uL2l0ZW1zL3Byb2plY3RpbGVzJztcblxubGV0IHJhbmdlckNmZyA9IHtcbiAgaHAgIDogJzJkOCArIDQnLFxuICBtcCAgOiAnMGQwJyxcbiAgc3RyIDogJzJkMycsXG4gIGNvbiA6ICcxZDUnLFxuICBpbnQgOiAnMWQzJyxcbiAgZGV4IDogJzJkNScsXG4gIHdpcyA6ICcwZDAnLFxuICBjaGEgOiAnMWQxJyxcbiAgdGl0bGVzOiBbJ1RlbmRlcmZvb3QnLCwgJ0xvb2tvdXQnLCwsICdUcmFpbGJsYXplcicsLCwgJ1JlY29ubm9pdGVyZXgnLCwsICdTY291dCcsLCwgJ0FyYmFsZXN0ZXInLCwsICdBcmNoZXInLCwsICdTaGFycHNob290ZXInLCwsICdNYXJrc3JleCddLFxuICBzdGFydGluZ0l0ZW1zOiBbXG4gICAgeyBjaG9pY2VzOiB7IGxlc3M6IDUsIG1vcmU6IDEgfSxcbiAgICAgIGNob2ljZXNJbml0OiB7XG4gICAgICAgIGxlc3M6ICgpID0+IG5ldyBQcm9qZWN0aWxlcy5BcnJvdyh7IGNoYXJnZXM6ICcxZDEwICsgNScsIGJ1Y05hbWU6ICd1bmN1cnNlZCcgfSksXG4gICAgICAgIG1vcmU6ICgpID0+IG5ldyBQcm9qZWN0aWxlcy5BcnJvdyh7IGNoYXJnZXM6ICcyZDEwICsgMTAnLCBidWNOYW1lOiAndW5jdXJzZWQnIH0pXG4gICAgICB9XG4gICAgfSxcbiAgICB7IGluaXQ6ICgpID0+IG5ldyBXZWFwb25zLkJvdyh7IGJ1Y05hbWU6ICd1bmN1cnNlZCcgfSkgfSxcbiAgICB7IGluaXQ6ICgpID0+IG5ldyBGb29kcy5SYXRpb24oeyBjaGFyZ2VzOiAnMWQzJywgYnVjTmFtZTogJ3VuY3Vyc2VkJyB9KSB9LFxuICAgIHsgaW5pdDogKCkgPT4gbmV3IFBvdGlvbnMuSGVhbGluZyh7IGNoYXJnZXM6ICcxZDInLCBidWNOYW1lOiAndW5jdXJzZWQnLCBzdGFydElkZW50aWZpZWQ6IHRydWUgfSkgfVxuICBdXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYW5nZXIgZXh0ZW5kcyBQcm9mZXNzaW9uIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIocmFuZ2VyQ2ZnKTtcbiAgfVxufSIsIlxuaW1wb3J0IFByb2Zlc3Npb24gZnJvbSAnLi4vLi4vZGVmaW5pdGlvbnMvcHJvZmVzc2lvbic7XG5cbmltcG9ydCB7IEdvbGQgfSBmcm9tICcuLi9pdGVtcy9zcGVjaWFsJztcbmltcG9ydCAqIGFzIEZvb2RzIGZyb20gJy4uL2l0ZW1zL2Zvb2RzJztcbmltcG9ydCAqIGFzIFBvdGlvbnMgZnJvbSAnLi4vaXRlbXMvcG90aW9ucyc7XG5pbXBvcnQgKiBhcyBQcm9qZWN0aWxlcyBmcm9tICcuLi9pdGVtcy9wcm9qZWN0aWxlcyc7XG5cbmxldCB0b3VyaXN0Q2ZnID0ge1xuICBocCAgOiAnMWQ1ICsgNScsXG4gIG1wICA6ICcxZDIgKyAxJyxcbiAgc3RyIDogJzFkMycsXG4gIGNvbiA6ICcxZDInLFxuICBpbnQgOiAnMWQzIC0gMycsXG4gIGRleCA6ICcxZDInLFxuICB3aXMgOiAnMWQyIC0gMycsXG4gIGNoYSA6ICcxZDMgKyAxJyxcbiAgbHVrIDogJzFkMyAtIDEnLFxuICB0aXRsZXM6IFsnUmFtYmxlcicsLCAnU2lnaHRzZWVyJywsLCAnRXhjdXJzaW9uaXN0JywsLCAnUGVyaWdyaW5hdG9yJywsLCAnVHJhdmVsZXInLCwsICdKb3VybmV5ZXInLCwsICdWb3lhZ2VyJywsLCAnRXhwbG9yZXInLCwsICdBZHZlbnR1cmVyJ10sXG4gIHN0YXJ0aW5nSXRlbXM6IFtcbiAgICB7IGluaXQ6ICgpID0+IG5ldyBHb2xkKCtkaWNlLnJvbGwoJzFkMTAwMCcpKSB9LFxuICAgIHsgY2hvaWNlczogeyBsZXNzOiA1LCBtb3JlOiAxIH0sXG4gICAgICBjaG9pY2VzSW5pdDoge1xuICAgICAgICBsZXNzOiAoKSA9PiBuZXcgUHJvamVjdGlsZXMuRGFydCh7IGNoYXJnZXM6ICcxZDUgKyA1JywgYnVjTmFtZTogJ3VuY3Vyc2VkJyB9KSxcbiAgICAgICAgbW9yZTogKCkgPT4gbmV3IFByb2plY3RpbGVzLkRhcnQoeyBjaGFyZ2VzOiAnNWQxMCArIDEwJywgYnVjTmFtZTogJ3VuY3Vyc2VkJyB9KVxuICAgICAgfVxuICAgIH0sXG4gICAgeyBpbml0OiAoKSA9PiBuZXcgRm9vZHMuUmF0aW9uKHsgY2hhcmdlczogJzFkNSArIDUnLCBidWNOYW1lOiAndW5jdXJzZWQnIH0pIH0sXG4gICAgeyBpbml0OiAoKSA9PiBuZXcgUG90aW9ucy5IZWFsaW5nKHsgY2hhcmdlczogJzFkMyArIDEnLCBidWNOYW1lOiAnYmxlc3NlZCcsIHN0YXJ0SWRlbnRpZmllZDogdHJ1ZSB9KSB9XG4gIF1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvdXJpc3QgZXh0ZW5kcyBQcm9mZXNzaW9uIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIodG91cmlzdENmZyk7XG4gIH1cbn0iLCJcbmltcG9ydCBQcm9mZXNzaW9uIGZyb20gJy4uLy4uL2RlZmluaXRpb25zL3Byb2Zlc3Npb24nO1xuXG5pbXBvcnQgRmFjdGlvbnMgZnJvbSAnLi4vLi4vY29uc3RhbnRzL2ZhY3Rpb25zJztcblxuaW1wb3J0ICogYXMgRm9vZHMgZnJvbSAnLi4vaXRlbXMvZm9vZHMnO1xuaW1wb3J0ICogYXMgV2VhcG9ucyBmcm9tICcuLi9pdGVtcy93ZWFwb25zJztcbmltcG9ydCAqIGFzIFBvdGlvbnMgZnJvbSAnLi4vaXRlbXMvcG90aW9ucyc7XG5pbXBvcnQgKiBhcyBTcGVsbGJvb2tzIGZyb20gJy4uL2l0ZW1zL3NwZWxsYm9va3MnO1xuaW1wb3J0ICogYXMgUmFuZG9tIGZyb20gJy4uLy4uL2NvbnN0YW50cy9yYW5kb20nO1xuXG5sZXQgd2l6YXJkQ2ZnID0ge1xuICBocCAgOiAnMWQ0ICsgMScsXG4gIG1wICA6ICcxZDUgKyA1JyxcbiAgc3RyIDogJzFkMiAtIDQnLFxuICBjb24gOiAnMWQyIC0gMScsXG4gIGludCA6ICcyZDMgKyAxJyxcbiAgZGV4IDogJzFkMiAtIDQnLFxuICB3aXMgOiAnMWQyJyxcbiAgY2hhIDogJzFkMyAtIDEnLFxuICByZWdlbkhwOiAyMCxcbiAgcmVnZW5NcDogLTMsXG4gIHRpdGxlczogWydFdm9rZXInLCwgJ0Nvbmp1cmVyJywsLCAnVGhhdW1hdHVyZ2UnLCwsICdNYWdpY2lhbicsLCwgJ0VuY2hhbnRyZXgnLCwsICdTb3JjZXJleCcsLCwgJ05lY3JvbWFuY2VyJywsLCAnV2l6YXJkJywsLCAnTWFnZSddLFxuICBhZGRGYWN0aW9uczogW0ZhY3Rpb25zLk1BR0lDXSxcbiAgc3RhcnRpbmdJdGVtczogW1xuICAgIHsgaW5pdDogKCkgPT4gUmFuZG9tLlJpbmcoeyBidWNOYW1lOiAndW5jdXJzZWQnIH0pIH0sXG4gICAgeyBpbml0OiAoKSA9PiBuZXcgU3BlbGxib29rcy5Gb3JjZUJvbHQoeyBidWNOYW1lOiAnYmxlc3NlZCcgfSkgfSxcbiAgICB7IGluaXQ6ICgpID0+IG5ldyBXZWFwb25zLlF1YXJ0ZXJzdGFmZih7IGJ1Y05hbWU6ICd1bmN1cnNlZCcgfSkgfSxcbiAgICB7IGluaXQ6ICgpID0+IG5ldyBGb29kcy5SYXRpb24oeyBjaGFyZ2VzOiAnMWQyJywgYnVjTmFtZTogJ3VuY3Vyc2VkJyB9KSB9LFxuICAgIHsgaW5pdDogKCkgPT4gbmV3IFBvdGlvbnMuSGVhbGluZyh7IGNoYXJnZXM6ICcxZDInLCBidWNOYW1lOiAndW5jdXJzZWQnIH0pIH1cbiAgXVxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2l6YXJkIGV4dGVuZHMgUHJvZmVzc2lvbiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHdpemFyZENmZyk7XG4gIH1cbn0iLCJcbmltcG9ydCBDYW5pbmUgZnJvbSAnLi9jYW5pbmUnO1xuaW1wb3J0IEVsZiBmcm9tICcuL2VsZic7XG5pbXBvcnQgR25vbWUgZnJvbSAnLi9nbm9tZSc7XG5pbXBvcnQgSHVtYW4gZnJvbSAnLi9odW1hbic7XG5pbXBvcnQgSW5zZWN0IGZyb20gJy4vaW5zZWN0JztcbmltcG9ydCBMaXphcmQgZnJvbSAnLi9saXphcmQnO1xuaW1wb3J0IE1hbnRpY29yZSBmcm9tICcuL21hbnRpY29yZSc7XG5pbXBvcnQgT3JjIGZyb20gJy4vb3JjJztcbmltcG9ydCBQc2lvbmljIGZyb20gJy4vcHNpb25pYyc7XG5pbXBvcnQgU2FsYW1hbmRlciBmcm9tICcuL3NhbGFtYW5kZXInO1xuaW1wb3J0IFNuYWtlIGZyb20gJy4vc25ha2UnO1xuaW1wb3J0IFNwaWRlciBmcm9tICcuL3NwaWRlcic7XG5pbXBvcnQgU3BvcmUgZnJvbSAnLi9zcG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IHsgQ2FuaW5lLCBFbGYsIEdub21lLCBIdW1hbiwgSW5zZWN0LCBMaXphcmQsIE1hbnRpY29yZSwgT3JjLCBQc2lvbmljLCBTYWxhbWFuZGVyLCBTbmFrZSwgU3BpZGVyLCBTcG9yZSB9OyIsIlxuaW1wb3J0IFJhY2UgZnJvbSAnLi4vLi4vZGVmaW5pdGlvbnMvcmFjZSc7XG5cbmNvbnN0IG9wdHMgPSB7IHN0YXRzOiB7IGRleDogMiwgc3RyOiAyLCBjb246IDEsIGludDogLTEsIHdpczogLTEgfSB9O1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FuaW5lIGV4dGVuZHMgUmFjZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKG9wdHMpO1xuICB9XG59IiwiXG5pbXBvcnQgUmFjZSBmcm9tICcuLi8uLi9kZWZpbml0aW9ucy9yYWNlJztcblxuY29uc3Qgb3B0cyA9IHsgc3RhdHM6IHsgaW50OiAyLCBkZXg6IDIsIHdpczogMSwgc2lnaHQ6IDEgfSB9O1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWxmIGV4dGVuZHMgUmFjZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKG9wdHMpO1xuICB9XG59IiwiXG5pbXBvcnQgUmFjZSBmcm9tICcuLi8uLi9kZWZpbml0aW9ucy9yYWNlJztcblxuY29uc3Qgb3B0cyA9IHsgc3RhdHM6IHsgc3RyOiAtMiwgY29uOiAtMiwgZGV4OiAtMSwgaW50OiAzLCB3aXM6IDMsIGNoYTogLTEsIHNpZ2h0OiAxIH0gfTtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdub21lIGV4dGVuZHMgUmFjZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKG9wdHMpO1xuICB9XG59IiwiXG5pbXBvcnQgUmFjZSBmcm9tICcuLi8uLi9kZWZpbml0aW9ucy9yYWNlJztcblxuY29uc3Qgb3B0cyA9IHsgc3RhdHM6IHsgc3RyOiAxLCBjb246IDEsIGRleDogMSwgaW50OiAxLCB3aXM6IDEsIGNoYTogMSwgbHVrOiAxLCBzaWdodDogLTEgfSB9O1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSHVtYW4gZXh0ZW5kcyBSYWNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIob3B0cyk7XG4gIH1cbn0iLCJcbmltcG9ydCBSYWNlIGZyb20gJy4uLy4uL2RlZmluaXRpb25zL3JhY2UnO1xuXG5jb25zdCBvcHRzID0geyBzdGF0czogeyBkZXg6IC0yLCBzdHI6IC0yLCBjb246IC0yIH0gfTtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEluc2VjdCBleHRlbmRzIFJhY2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihvcHRzKTtcbiAgfVxufSIsIlxuaW1wb3J0IFJhY2UgZnJvbSAnLi4vLi4vZGVmaW5pdGlvbnMvcmFjZSc7XG5cbmNvbnN0IG9wdHMgPSB7IHNsb3RzOiB7IGhhbmRzOiAzIH0sIHN0YXRzOiB7IGRleDogMiB9IH07XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaXphcmQgZXh0ZW5kcyBSYWNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIob3B0cyk7XG4gIH1cbn0iLCJcbmltcG9ydCBSYWNlIGZyb20gJy4uLy4uL2RlZmluaXRpb25zL3JhY2UnO1xuXG5jb25zdCBvcHRzID0geyBzbG90czogeyBoYW5kczogMCwgYm9keTogMywgZmVldDogMCwgaGVhZHM6IDMsIG5lY2s6IDMsIHJpbmc6IDAsIGNsb2FrOiAwLCB3cmlzdDogMCB9IH07XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYW50aWNvcmUgZXh0ZW5kcyBSYWNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIob3B0cyk7XG4gIH1cbn0iLCJcbmltcG9ydCBSYWNlIGZyb20gJy4uLy4uL2RlZmluaXRpb25zL3JhY2UnO1xuXG5jb25zdCBvcHRzID0geyBzdGF0czogeyBkZXg6IC0xLCBzdHI6IDMsIGNvbjogMywgaW50OiAtMywgd2lzOiAtMiwgc2lnaHQ6IDEgfSB9O1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3JjIGV4dGVuZHMgUmFjZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKG9wdHMpO1xuICB9XG59IiwiXG5pbXBvcnQgUmFjZSBmcm9tICcuLi8uLi9kZWZpbml0aW9ucy9yYWNlJztcblxuY29uc3Qgb3B0cyA9IHsgc3RhdHM6IHsgZGV4OiAtNSwgc3RyOiAtNSwgY29uOiAtMywgaW50OiA1LCB3aXM6IDUgfSB9O1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHNpb25pYyBleHRlbmRzIFJhY2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihvcHRzKTtcbiAgfVxuICBjYW5FcXVpcChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0uZ2V0VHlwZSgpICE9PSAnaGFuZHMnICYmIHN1cGVyLmNhbkVxdWlwKGl0ZW0pO1xuICB9XG59XG4iLCJcbmltcG9ydCBSYWNlIGZyb20gJy4uLy4uL2RlZmluaXRpb25zL3JhY2UnO1xuXG5jb25zdCBvcHRzID0geyBzdGF0czogeyBjb246IDEsIGludDogMSB9IH07XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTYWxhbWFuZGVyIGV4dGVuZHMgUmFjZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKG9wdHMpO1xuICB9XG59IiwiXG5pbXBvcnQgUmFjZSBmcm9tICcuLi8uLi9kZWZpbml0aW9ucy9yYWNlJztcblxuY29uc3Qgb3B0cyA9IHsgc2xvdHM6IHsgaGFuZHM6IDAsIGJvZHk6IDEsIGZlZXQ6IDAsIGhlYWRzOiAxLCBuZWNrOiAxLCByaW5nOiAxLCBjbG9hazogMCwgd3Jpc3Q6IDAgfSB9O1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU25ha2UgZXh0ZW5kcyBSYWNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIob3B0cyk7XG4gIH1cbn0iLCJcbmltcG9ydCBSYWNlIGZyb20gJy4uLy4uL2RlZmluaXRpb25zL3JhY2UnO1xuXG5jb25zdCBvcHRzID0geyBzbG90czogeyBoYW5kczogMCwgYm9keTogMSwgZmVldDogOCwgaGVhZHM6IDEsIG5lY2s6IDEsIHJpbmc6IDAsIGNsb2FrOiAwLCB3cmlzdDogMCB9IH07XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTcGlkZXIgZXh0ZW5kcyBSYWNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIob3B0cyk7XG4gIH1cbn1cbiIsIlxuaW1wb3J0IFJhY2UgZnJvbSAnLi4vLi4vZGVmaW5pdGlvbnMvcmFjZSc7XG5cbmNvbnN0IG9wdHMgPSB7IH07XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTcG9yZSBleHRlbmRzIFJhY2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihvcHRzKTtcbiAgfVxufSIsIlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWJzdHJhY3Qge1xuICBkaXN0QmV0d2Vlbih0YXJnZXQpIHtcbiAgICBsZXQgYSA9IHRhcmdldC54IC0gdGhpcy54O1xuICAgIGxldCBiID0gdGFyZ2V0LnkgLSB0aGlzLnk7XG4gICAgcmV0dXJuIE1hdGguc3FydChhKmEgKyBiKmIpO1xuICB9XG59IiwiXG5pbXBvcnQgR2FtZVN0YXRlIGZyb20gJy4uL2luaXQvZ2FtZXN0YXRlJztcbmltcG9ydCBNZXNzYWdlUXVldWUgZnJvbSAnLi4vZGlzcGxheS9tZXNzYWdlLWhhbmRsZXInO1xuaW1wb3J0IEFic3RyYWN0IGZyb20gJy4vYWJzdHJhY3QnO1xuXG5leHBvcnQgY2xhc3MgQXR0YWNrIGV4dGVuZHMgQWJzdHJhY3Qge1xuICBcbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIHN1cGVyKCk7XG4gICAgXy5leHRlbmQodGhpcywgeyByb2xsOiAnMWQ0JywgdG9IaXQ6ICcwZDAnLCByYW5nZTogMSwgY2hhbmNlOiAxMDAgfSwgb3B0cyk7XG4gICAgaWYodGhpcy5pbml0KSB0aGlzLmluaXQoKTtcbiAgfVxuICBcbiAgdmFsdWUoKSB7XG4gICAgcmV0dXJuIGRpY2Uuc3RhdGlzdGljcyh0aGlzLnJvbGwpLm1lYW4gKyBkaWNlLnN0YXRpc3RpY3ModGhpcy50b0hpdCkgKyB0aGlzLnJhbmdlICogMztcbiAgfVxuICBcbiAgaW5SYW5nZShvd25lciwgdGFyZ2V0KSB7IFxuICAgIHJldHVybiBvd25lci5kaXN0QmV0d2Vlbih0YXJnZXQpIDw9IHRoaXMucmFuZ2U7XG4gIH1cbiAgXG4gIHBvc3NpYmxlVGFyZ2V0cyhvd25lcikge1xuICAgIGxldCBwb3NzaWJsZVRhcmdldHMgPSBbXTtcbiAgICBHYW1lU3RhdGUud29ybGQuZm92W293bmVyLnpdLmNvbXB1dGUoXG4gICAgICBvd25lci54LCBvd25lci55LCB0aGlzLnJhbmdlLCBcbiAgICAgICh4LCB5KSA9PiB7XG4gICAgICAgIGxldCBlbnRpdHkgPSBHYW1lU3RhdGUud29ybGQuZ2V0RW50aXR5KHgsIHksIG93bmVyLnopO1xuICAgICAgICBpZighZW50aXR5IHx8ICFvd25lci5jYW5BdHRhY2soZW50aXR5KSkgcmV0dXJuO1xuICAgICAgICBwb3NzaWJsZVRhcmdldHMucHVzaChlbnRpdHkpO1xuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHBvc3NpYmxlVGFyZ2V0cztcbiAgfVxuICBcbiAgY2FuVXNlKG93bmVyKSB7IFxuICAgIGlmKFJPVC5STkcuZ2V0UGVyY2VudGFnZSgpID4gdGhpcy5jaGFuY2UpIHJldHVybjtcbiAgICByZXR1cm4gdGhpcy5wb3NzaWJsZVRhcmdldHMob3duZXIpLmxlbmd0aCA+IDA7IFxuICB9XG4gIFxuICBjYW5IaXQob3duZXIsIHRhcmdldCwgYXR0YWNrTnVtKSB7XG4gICAgaWYob3duZXIuaHAuYXRNaW4oKSkgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBoaXRSb2xsID0gK2RpY2Uucm9sbChgMWQkezIwICsgYXR0YWNrTnVtfWApOyAvLyBzdWJzZXF1ZW50IGF0dGFja3MgYXJlIGxlc3MgbGlrZWx5IHRvIGhpdFxuICAgIGxldCB0YXJnZXRBQyA9IHRhcmdldC5nZXRBQygpO1xuICAgIGxldCBteVRvSGl0Qm9udXMgPSAoK2RpY2Uucm9sbCh0aGlzLnRvSGl0KSAtIG93bmVyLmdldFRvSGl0KCkgLSAodGhpcy5faXRlbVJlZiA/IHRoaXMuX2l0ZW1SZWYuYnVjLTEgOiAwKSk7IC8vIGN1cnNlZDogLTIsIHVuY3Vyc2VkOiAwLCBibGVzc2VkOiArMVxuICAgIGxldCB0YXJnZXRBQ1JvbGwgPSAwO1xuXG4gICAgaWYodGFyZ2V0QUMgPj0gMCkge1xuICAgICAgdGFyZ2V0QUNSb2xsID0gdGFyZ2V0QUMgKyBvd25lci5sZXZlbCAtIG15VG9IaXRCb251cztcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0QUNSb2xsID0gMTAgKyBST1QuUk5HLmdldFVuaWZvcm1JbnQodGFyZ2V0QUMsIC0xKSArIG93bmVyLmxldmVsIC0gbXlUb0hpdEJvbnVzO1xuICAgIH1cbiAgICByZXR1cm4gaGl0Um9sbCA8IHRhcmdldEFDUm9sbDtcbiAgfVxuICBcbiAgYW5pbWF0ZShvd25lciwgdGFyZ2V0LCBjYWxsYmFjaykge1xuICAgIGlmKCF0aGlzLmdseXBoKSByZXR1cm4gY2FsbGJhY2soKTtcbiAgICBcbiAgICB2YXIgZW5naW5lID0gR2FtZVN0YXRlLmdhbWUuZW5naW5lO1xuICAgIGVuZ2luZS5sb2NrKCk7XG4gICAgXG4gICAgbGV0IGNhblBhc3MgPSAoeCwgeSkgPT4ge1xuICAgICAgbGV0IGVudGl0eSA9IEdhbWVTdGF0ZS53b3JsZC5nZXRFbnRpdHkoeCwgeSwgb3duZXIueik7XG4gICAgICBsZXQgaXNBdHRhY2thYmxlID0gZW50aXR5ICYmIG93bmVyLmNhbkF0dGFjayhlbnRpdHkpO1xuICAgICAgbGV0IGlzTWUgPSBvd25lci54ID09PSB4ICYmIG93bmVyLnkgPT09IHk7XG4gICAgICByZXR1cm4gR2FtZVN0YXRlLndvcmxkLmlzVGlsZVBhc3NhYmxlKHgsIHksIG93bmVyLnosIGZhbHNlKSB8fCBpc01lIHx8IGlzQXR0YWNrYWJsZTtcbiAgICB9O1xuICAgIGxldCBhc3RhciA9IG5ldyBST1QuUGF0aC5BU3Rhcih0YXJnZXQueCwgdGFyZ2V0LnksIGNhblBhc3MsIHsgdG9wb2xvZ3k6IDggfSk7XG5cbiAgICBsZXQgcGF0aCA9IFtdO1xuICAgIGxldCBwYXRoQ2FsbGJhY2sgPSBmdW5jdGlvbih4LCB5KSB7XG4gICAgICBwYXRoLnB1c2goeyB4LCB5IH0pO1xuICAgIH07XG4gICAgXG4gICAgYXN0YXIuY29tcHV0ZShvd25lci54LCBvd25lci55LCBwYXRoQ2FsbGJhY2spO1xuXG4gICAgcGF0aC5zaGlmdCgpO1xuICAgIFxuICAgIGxldCBwcm9qZWN0aWxlID0gbmV3IFByb2plY3RpbGUodGhpcy5nbHlwaCk7XG4gICAgcHJvamVjdGlsZS56ID0gb3duZXIuejtcbiAgICBwcm9qZWN0aWxlLnggPSBwYXRoWzBdLng7XG4gICAgcHJvamVjdGlsZS55ID0gcGF0aFswXS55O1xuICAgIFxuICAgIGxldCBtb3ZlVG8gPSAoeCwgeSkgPT4ge1xuICAgICAgR2FtZVN0YXRlLndvcmxkLm1vdmVFbnRpdHkocHJvamVjdGlsZSwgeCwgeSwgcHJvamVjdGlsZS56KTtcbiAgICAgIEdhbWVTdGF0ZS5nYW1lLnJlZnJlc2goKTtcbiAgICB9O1xuICAgIFxuICAgIGxldCBmaW5hbGl6ZSA9ICgpID0+IHtcbiAgICAgIEdhbWVTdGF0ZS53b3JsZC5yZW1vdmVFbnRpdHkocHJvamVjdGlsZSk7XG4gICAgICBjYWxsYmFjaygpO1xuICAgICAgR2FtZVN0YXRlLmdhbWUucmVmcmVzaCgpO1xuICAgICAgZW5naW5lLnVubG9jaygpO1xuICAgIH07XG4gICAgXG4gICAgbW92ZVRvKHByb2plY3RpbGUueCwgcHJvamVjdGlsZS55KTtcbiAgICBcbiAgICBfLmVhY2gocGF0aCwgKHN0ZXAsIGkpID0+IHtcbiAgICAgIGxldCBjdXJTdGVwID0gc3RlcDtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBtb3ZlVG8oY3VyU3RlcC54LCBjdXJTdGVwLnkpO1xuICAgICAgICBpZihpID09PSBwYXRoLmxlbmd0aCAtIDEpIGZpbmFsaXplKCk7XG4gICAgICB9LCBpKjUwKTtcbiAgICB9KTtcbiAgfVxuICBcbiAgdXNlKG93bmVyLCB0YXJnZXQsIGF0dGFja051bSkge1xuICAgIHRoaXMudHJ5SGl0KG93bmVyLCB0YXJnZXQsIGF0dGFja051bSk7XG4gIH1cbiAgXG4gIHRyeUhpdChvd25lciwgdGFyZ2V0LCBhdHRhY2tOdW0pIHtcbiAgICBpZighdGFyZ2V0KSByZXR1cm47XG4gICAgaWYodGhpcy5faXRlbVJlZikgdGhpcy5faXRlbVJlZi51c2Uob3duZXIsIHRhcmdldCk7XG4gICAgaWYoIXRoaXMuY2FuSGl0KG93bmVyLCB0YXJnZXQsIGF0dGFja051bSkpIHtcbiAgICAgIGxldCBleHRyYSA9IHRoaXMubWlzc0NhbGxiYWNrKG93bmVyLCB0YXJnZXQpO1xuICAgICAgTWVzc2FnZVF1ZXVlLmFkZCh7IG1lc3NhZ2U6IHRoaXMubWlzc1N0cmluZyhvd25lciwgdGFyZ2V0LCBleHRyYSkgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuYW5pbWF0ZShvd25lciwgdGFyZ2V0LCAoKSA9PiB0aGlzLmhpdChvd25lciwgdGFyZ2V0KSk7XG4gIH1cbiAgXG4gIGNhbGNEYW1hZ2Uob3duZXIpIHtcbiAgICBsZXQgZGFtYWdlQm9vc3QgPSAwO1xuICAgIGlmKHRoaXMuX2l0ZW1SZWYpIHtcbiAgICAgIGRhbWFnZUJvb3N0ICs9IHRoaXMuX2l0ZW1SZWYuZW5jaGFudG1lbnQ7XG4gICAgICBpZih0aGlzLl9pdGVtUmVmLl90ZW1wQXR0YWNrQm9vc3QpIGRhbWFnZUJvb3N0ICs9ICtkaWNlLnJvbGwodGhpcy5faXRlbVJlZi5fdGVtcEF0dGFja0Jvb3N0KTtcbiAgICB9XG4gICAgcmV0dXJuICtkaWNlLnJvbGwodGhpcy5yb2xsKSArIG93bmVyLmNhbGNTdGF0Qm9udXMoJ3N0cicpICsgZGFtYWdlQm9vc3Q7XG4gIH1cbiAgXG4gIGhpdChvd25lciwgdGFyZ2V0KSB7XG4gICAgbGV0IGRhbWFnZSA9IHRoaXMuY2FsY0RhbWFnZShvd25lciwgdGFyZ2V0KTtcbiAgICBpZihkYW1hZ2UgPD0gMCkge1xuICAgICAgbGV0IGV4dHJhID0gdGhpcy5ibG9ja0NhbGxiYWNrKG93bmVyLCB0YXJnZXQpO1xuICAgICAgTWVzc2FnZVF1ZXVlLmFkZCh7IG1lc3NhZ2U6IHRoaXMuYmxvY2tTdHJpbmcob3duZXIsIHRhcmdldCwgZXh0cmEpIH0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgZXh0cmEgPSB0aGlzLmhpdENhbGxiYWNrKG93bmVyLCB0YXJnZXQsIGRhbWFnZSk7XG4gICAgTWVzc2FnZVF1ZXVlLmFkZCh7IG1lc3NhZ2U6IHRoaXMuaGl0U3RyaW5nKG93bmVyLCB0YXJnZXQsIGRhbWFnZSwgZXh0cmEpIH0pO1xuICAgIHRhcmdldC50YWtlRGFtYWdlKGRhbWFnZSwgb3duZXIpO1xuICB9XG4gIFxuICBoaXRTdHJpbmcob3duZXIsIHRhcmdldCwgZGFtYWdlKSB7IHJldHVybiBgJHtvd25lci5uYW1lfSBoaXQgJHt0YXJnZXQubmFtZX0gZm9yICR7ZGFtYWdlfSBkYW1hZ2UhYDsgfVxuICBoaXRDYWxsYmFjaygpIHt9XG4gIFxuICBibG9ja1N0cmluZyhvd25lciwgdGFyZ2V0KSB7IHJldHVybiBgJHt0YXJnZXQubmFtZX0gYmxvY2tlZCAke293bmVyLm5hbWV9J3MgYXR0YWNrIWA7IH1cbiAgYmxvY2tDYWxsYmFjaygpIHt9XG4gIFxuICBtaXNzU3RyaW5nKG93bmVyLCB0YXJnZXQpIHsgcmV0dXJuIGAke293bmVyLm5hbWV9IG1pc3NlZCAke3RhcmdldC5uYW1lfSFgOyB9XG4gIG1pc3NDYWxsYmFjaygpIHt9XG4gIFxuICB0b0pTT04oKSB7XG4gICAgbGV0IG1lID0gXy5vbWl0KHRoaXMsIFsnX2l0ZW1SZWYnXSk7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG1lKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVhZ2VudCBleHRlbmRzIEF0dGFjayB7XG4gIFxuICBpc1ZhbGlkUmFuZ2VkQXR0YWNrKG93bmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZW1SZWYgJiYgdGhpcy5faXRlbVJlZi5jYW5Vc2Uob3duZXIpICYmIHRoaXMuX2l0ZW1SZWYuaGFzVmFsaWRBbW1vKG93bmVyKTtcbiAgfVxuICBcbiAgdXNlKG93bmVyLCB0YXJnZXQsIGF0dGFja051bSkge1xuICAgIGlmKHRoaXMuaXNWYWxpZFJhbmdlZEF0dGFjayhvd25lcikpIHJldHVybiB0aGlzLl9pdGVtUmVmLnVzZShvd25lcik7XG4gICAgcmV0dXJuIHN1cGVyLnVzZShvd25lciwgdGFyZ2V0LCBhdHRhY2tOdW0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9qZWN0aWxlIHtcbiAgY29uc3RydWN0b3IoZ2x5cGgpIHtcbiAgICB0aGlzLmdseXBoID0gZ2x5cGg7XG4gIH1cbn0iLCJcbmltcG9ydCBFbnRpdHkgZnJvbSAnLi9lbnRpdHknO1xuaW1wb3J0IE51bWJlclJhbmdlIGZyb20gJy4uL2xpYi9udW1iZXItcmFuZ2UnO1xuaW1wb3J0IFByb2Zlc3Npb25zIGZyb20gJy4uL2NvbnRlbnQvcHJvZmVzc2lvbnMvX2FsbCc7XG5pbXBvcnQgUmFjZXMgZnJvbSAnLi4vY29udGVudC9yYWNlcy9fYWxsJztcbmltcG9ydCAqIGFzIEJlaGF2aW9ycyBmcm9tICcuLi9jb250ZW50L2JlaGF2aW9ycy9iZWhhdmlvcnMnO1xuaW1wb3J0IEdhbWVTdGF0ZSBmcm9tICcuLi9pbml0L2dhbWVzdGF0ZSc7XG5pbXBvcnQgQXR0YWNrcyBmcm9tICcuLi9jb250ZW50L2F0dGFja3MvYXR0YWNrcyc7XG5pbXBvcnQgTWVzc2FnZVF1ZXVlIGZyb20gJy4uL2Rpc3BsYXkvbWVzc2FnZS1oYW5kbGVyJztcblxuaW1wb3J0IGxvYWRWYWx1ZSBmcm9tICcuLi9saWIvdmFsdWUtYXNzaWduJztcbmltcG9ydCBjYWxjIGZyb20gJy4uL2xpYi9kaXJlY3Rpb25hbC1wcm9iYWJpbGl0eSc7XG5cbmxldCBkZWZhdWx0QXR0cmlidXRlcyA9IHtcbiAgYWM6ICAwLFxuICBzdHI6IDgsXG4gIGNvbjogOCxcbiAgZGV4OiA4LFxuICBpbnQ6IDgsXG4gIHdpczogOCxcbiAgY2hhOiA4LFxuICBsdWs6IDAsXG4gIGdvbGQ6IDAsXG4gIGxldmVsOiAxLFxuICBhbGlnbjogMCwgXG4gIHNwZWVkOiAxMDAsIFxuICBzaWdodDogNyxcbiAga2lsbFhwOiAnMGQwJyxcbiAgc3Bhd25IcDogJzE1ZDEnLFxuICBzcGF3bk1wOiAnMGQwJyxcbiAgcmVnZW5IcDogMjAsXG4gIHJlZ2VuTXA6IDEwXG59O1xuXG5sZXQgZGVmYXVsdFN0YXRzID0geyBcbiAgZ2VuZGVyOiAnTm9uZScsIFxuICBuYW1lOiAnRHVkbGV5JyxcbiAgcmFjZTogJ0h1bWFuJyxcbiAgYXR0YWNrczogW10sXG4gIGJlaGF2aW9yczogW10sXG4gIHByb2Zlc3Npb246ICdXaXphcmQnIFxufTtcblxubGV0IGRlZmF1bHRCZWhhdmlvcnMgPSBbQmVoYXZpb3JzLlJlZ2VuZXJhdGVzSHAoKSwgQmVoYXZpb3JzLlJlZ2VuZXJhdGVzTXAoKV07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoYXJhY3RlciBleHRlbmRzIEVudGl0eSB7XG4gIFxuICBjb25zdHJ1Y3RvcihnbHlwaCwgeCwgeSwgeiwgb3B0cyA9IHsgc3RhdHM6IHt9LCBhdHRyaWJ1dGVzOiB7fSB9KSB7XG4gICAgc3VwZXIoZ2x5cGgsIHgsIHksIHopO1xuICAgIFxuICAgIHRoaXMuZmFjdGlvbnMgPSBbXTtcbiAgICB0aGlzLmFudGlGYWN0aW9ucyA9IFtdO1xuICAgIFxuICAgIHRoaXMuY3VycmVudFR1cm4gPSAwO1xuICAgIFxuICAgIF8uZXh0ZW5kKHRoaXMsIGRlZmF1bHRBdHRyaWJ1dGVzLCBvcHRzLmF0dHJpYnV0ZXMsIGxvYWRWYWx1ZSk7XG4gICAgXy5leHRlbmQodGhpcywgZGVmYXVsdFN0YXRzLCBvcHRzLnN0YXRzKTtcblxuICAgIHRoaXMuYmVoYXZpb3JzLnB1c2goLi4uZGVmYXVsdEJlaGF2aW9ycyk7XG4gICAgXG4gICAgdGhpcy5zb3J0QmVoYXZpb3JzKCk7XG4gICAgXG4gICAgdGhpcy5wcm9mZXNzaW9uSW5zdCA9IG5ldyBQcm9mZXNzaW9uc1t0aGlzLnByb2Zlc3Npb25dKCk7XG4gICAgbGV0IFtwcm9mSHAsIHByb2ZNcF0gPSBbdGhpcy5wcm9mZXNzaW9uSW5zdC5ocCwgdGhpcy5wcm9mZXNzaW9uSW5zdC5tcF07XG4gICAgdGhpcy5ocCA9IG5ldyBOdW1iZXJSYW5nZSgwLCB0aGlzLnNwYXduSHArcHJvZkhwLCB0aGlzLnNwYXduSHArcHJvZkhwKTtcbiAgICB0aGlzLm1wID0gbmV3IE51bWJlclJhbmdlKDAsIHRoaXMuc3Bhd25NcCtwcm9mTXAsIHRoaXMuc3Bhd25NcCtwcm9mTXApO1xuICAgIHRoaXMueHAgPSBuZXcgTnVtYmVyUmFuZ2UoMCwgMCwgdGhpcy5jYWxjTGV2ZWxYcCh0aGlzLmxldmVsKSk7XG4gICAgdGhpcy5mYWN0aW9ucy5wdXNoKC4uLnRoaXMucHJvZmVzc2lvbkluc3QuYWRkRmFjdGlvbnMpO1xuICAgIFxuICAgIHRoaXMucmFjZUluc3QgPSBuZXcgUmFjZXNbdGhpcy5yYWNlXSgpO1xuICAgIHRoaXMuZmFjdGlvbnMucHVzaCguLi50aGlzLnJhY2VJbnN0LmFkZEZhY3Rpb25zKTtcbiAgICBcbiAgICB0aGlzLmludmVudG9yeSA9IFtdO1xuICAgIHRoaXMuZXF1aXBtZW50ID0ge307XG4gICAgXG4gICAgR2FtZVN0YXRlLndvcmxkLm1vdmVFbnRpdHkodGhpcywgdGhpcy54LCB0aGlzLnksIHRoaXMueik7XG4gICAgXG4gICAgdGhpcy5sb2FkU3RhcnRpbmdFcXVpcG1lbnQoKTtcbiAgICAgXG4gICAgdGhpcy5nYW1lID0gR2FtZVN0YXRlLmdhbWU7XG4gICAgdGhpcy5nYW1lLnNjaGVkdWxlci5hZGQodGhpcywgdHJ1ZSk7XG4gIH1cbiAgXG4gIGhlYWwocm9sbCwgaXRlbSkge1xuICAgIGxldCB2YWx1ZSA9ICtkaWNlLnJvbGwocm9sbCk7XG4gICAgTWVzc2FnZVF1ZXVlLmFkZCh7IG1lc3NhZ2U6IGAke3RoaXMubmFtZX0gdXNlZCAke2l0ZW0ubmFtZX0gYW5kIHJlZ2FpbmVkICR7dmFsdWV9IGhlYWx0aCFgIH0pO1xuICAgIHRoaXMuaHAuYWRkKHZhbHVlKTtcbiAgfVxuICBcbiAgdHJ5VG9TdGFjayhpdGVtKSB7XG4gICAgaWYoIWl0ZW0uY2hhcmdlcykgcmV0dXJuO1xuICAgIGxldCBkaWRTdGFjayA9IGZhbHNlO1xuICAgIF8uZWFjaCh0aGlzLmludmVudG9yeSwgKHRlc3RJdGVtKSA9PiB7XG4gICAgICBpZih0ZXN0SXRlbS5nZXRUeXBlKCkgIT09IGl0ZW0uZ2V0VHlwZSgpKSByZXR1cm47XG4gICAgICBpZih0ZXN0SXRlbS5idWMgIT09IGl0ZW0uYnVjIHx8IHRlc3RJdGVtLmVuY2hhbnRtZW50ICE9PSBpdGVtLmVuY2hhbnRtZW50KSByZXR1cm47XG4gICAgICB0ZXN0SXRlbS5jaGFyZ2VzICs9IGl0ZW0uY2hhcmdlcztcbiAgICAgIGRpZFN0YWNrID0gdHJ1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gZGlkU3RhY2s7XG4gIH1cbiAgXG4gIGxvYWRTdGFydGluZ0VxdWlwbWVudChsaXN0ID0gdGhpcy5wcm9mZXNzaW9uSW5zdC5zdGFydGluZ0l0ZW1zKSB7XG4gICAgaWYoIWxpc3QpIHJldHVybjtcbiAgICBfLmVhY2gobGlzdCwgKGl0ZW0pID0+IHtcbiAgICAgIGlmKGl0ZW0ucHJvYmFiaWxpdHkgJiYgUk9ULlJORy5nZXRQZXJjZW50YWdlKCkgPiBpdGVtLnByb2JhYmlsaXR5KSByZXR1cm47XG4gICAgICBcbiAgICAgIGxldCBpbnN0ID0gbnVsbDtcbiAgICAgIGlmKGl0ZW0uY2hvaWNlcykge1xuICAgICAgICBsZXQgY2hvaWNlID0gUk9ULlJORy5nZXRXZWlnaHRlZFZhbHVlKGl0ZW0uY2hvaWNlcyk7XG4gICAgICAgIGluc3QgPSBpdGVtLmNob2ljZXNJbml0W2Nob2ljZV0oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluc3QgPSBpdGVtLmluaXQoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdGhpcy5hZGRUb0ludmVudG9yeShpbnN0KTtcbiAgICB9KTtcbiAgfVxuICBcbiAgZHJvcEl0ZW0oaXRlbSkge1xuICAgIEdhbWVTdGF0ZS53b3JsZC5tb3ZlSXRlbShpdGVtLCB0aGlzLngsIHRoaXMueSwgdGhpcy56KTtcbiAgfVxuICBcbiAgYWRkVG9JbnZlbnRvcnkoaXRlbSkge1xuICAgIGlmKGl0ZW0uZ29sZFZhbHVlKSB7XG4gICAgICB0aGlzLmdvbGQgKz0gaXRlbS5nb2xkVmFsdWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmKHRoaXMudHJ5VG9TdGFjayhpdGVtKSkgcmV0dXJuO1xuICAgIGlmKHRoaXMudHJ5RXF1aXAoaXRlbSkpIHJldHVybjtcbiAgICB0aGlzLmludmVudG9yeS5wdXNoKGl0ZW0pO1xuICB9XG4gIFxuICByZW1vdmVGcm9tSW52ZW50b3J5KGl0ZW0pIHtcbiAgICB0aGlzLmludmVudG9yeSA9IF8ud2l0aG91dCh0aGlzLmludmVudG9yeSwgaXRlbSk7XG4gIH1cbiAgXG4gIGlzRXF1aXBwZWQoaXRlbSkge1xuICAgIGxldCBzbG90ID0gaXRlbS5nZXRQYXJlbnRUeXBlKCk7IFxuICAgIHJldHVybiBfLmNvbnRhaW5zKHRoaXMuZXF1aXBtZW50W3Nsb3RdLCBpdGVtKTtcbiAgfVxuICBcbiAgc2xvdHNUYWtlbihzbG90KSB7XG4gICAgaWYoIXRoaXMuZXF1aXBtZW50W3Nsb3RdKSByZXR1cm4gMDtcbiAgICByZXR1cm4gXy5yZWR1Y2UodGhpcy5lcXVpcG1lbnRbc2xvdF0sICgocHJldiwgaXRlbSkgPT4gcHJldiArIGl0ZW0uc2xvdHNUYWtlbiksIDApO1xuICB9XG4gIFxuICBjYW5FcXVpcChpdGVtKSB7XG4gICAgcmV0dXJuIHRoaXMucmFjZUluc3QuY2FuRXF1aXAodGhpcywgaXRlbSk7XG4gIH1cbiAgXG4gIGVxdWlwKGl0ZW0pIHtcbiAgICBsZXQgc2xvdCA9IGl0ZW0uZ2V0UGFyZW50VHlwZSgpO1xuICAgIGlmKCF0aGlzLmVxdWlwbWVudFtzbG90XSkgdGhpcy5lcXVpcG1lbnRbc2xvdF0gPSBbXTtcbiAgICB0aGlzLmVxdWlwbWVudFtzbG90XS5wdXNoKGl0ZW0pO1xuICB9XG4gIFxuICBnZXRXb3JzZUl0ZW1zVGhhbihpdGVtKSB7XG4gICAgbGV0IHNsb3QgPSBpdGVtLmdldFBhcmVudFR5cGUoKTtcbiAgICByZXR1cm4gXyh0aGlzLmVxdWlwbWVudFtzbG90XSkuZmlsdGVyKChlcXVpcCkgPT4gZXF1aXAudmFsdWUoKSA8IGl0ZW0udmFsdWUoKSAmJiBpdGVtLmJ1Y05hbWUgIT09ICdjdXJzZWQnKTtcbiAgfVxuICBcbiAgc2hvdWxkRXF1aXAoaXRlbSkge1xuICAgIGxldCBzbG90ID0gaXRlbS5nZXRQYXJlbnRUeXBlKCk7XG4gICAgaWYodGhpcy5yYWNlSW5zdC5zbG90c1tzbG90XSA+IDAgJiYgdGhpcy5jYW5FcXVpcChpdGVtKSkgcmV0dXJuIHRydWU7XG4gICAgbGV0IGxvd2VySXRlbXMgPSB0aGlzLmdldFdvcnNlSXRlbXNUaGFuKGl0ZW0pO1xuICAgIHJldHVybiBsb3dlckl0ZW1zLmxlbmd0aCA8IGl0ZW0uc2xvdHNUYWtlbjtcbiAgfVxuICBcbiAgdHJ5RXF1aXAoaXRlbSkge1xuICAgIGlmKCF0aGlzLmNhbkVxdWlwKGl0ZW0pIHx8ICF0aGlzLnNob3VsZEVxdWlwKGl0ZW0pKSByZXR1cm4gZmFsc2U7XG4gICAgbGV0IHdvcnNlSXRlbXMgPSB0aGlzLmdldFdvcnNlSXRlbXNUaGFuKGl0ZW0pO1xuICAgIGlmKHdvcnNlSXRlbXMubGVuZ3RoIDwgaXRlbS5zbG90c1Rha2VuKSByZXR1cm4gZmFsc2U7IC8vIGN1cnNlZCBpdGVtc1xuICAgIFxuICAgIGxldCBzbG90ID0gaXRlbS5nZXRQYXJlbnRUeXBlKCk7XG4gICAgaWYod29yc2VJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IobGV0IGk9MDsgaTxpdGVtLnNsb3RzVGFrZW47IGkrKykge1xuICAgICAgICB0aGlzLmVxdWlwbWVudFtzbG90XSA9IF8ud2l0aG91dCh0aGlzLmVxdWlwbWVudFtzbG90XSwgd29yc2VJdGVtc1tpXSk7XG4gICAgICAgIHRoaXMuaW52ZW50b3J5LnB1c2god29yc2VJdGVtc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZXF1aXAoaXRlbSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgXG4gIGhhc0ZhY3Rpb24oZmFjdGlvbikge1xuICAgIHJldHVybiBfLmNvbnRhaW5zKHRoaXMuZmFjdGlvbnMsIGZhY3Rpb24pO1xuICB9XG4gIFxuICBkb0JlaGF2aW9yKGFjdGlvbiwgYXJncyA9IFtdKSB7XG4gICAgYXJncy51bnNoaWZ0KHRoaXMpO1xuICAgIF8uZWFjaCh0aGlzLmJlaGF2aW9ycywgKGJlaGF2aW9yKSA9PiB7IGlmKGJlaGF2aW9yW2FjdGlvbl0pIHJldHVybiBiZWhhdmlvclthY3Rpb25dLmFwcGx5KGJlaGF2aW9yLCBhcmdzKTsgfSk7IC8vIHJldHVybmluZyBmYWxzZSBmcm9tIGFueSBiZWhhdmlvciB3aWxsIGNhbmNlbCBzdWJzZXF1ZW50IG9uZXNcbiAgfVxuICBcbiAgc29ydEJlaGF2aW9ycygpIHtcbiAgICB0aGlzLmJlaGF2aW9ycyA9IF8uc29ydEJ5KHRoaXMuYmVoYXZpb3JzLCAncHJpb3JpdHknKTtcbiAgfVxuICBcbiAgYWRkQmVoYXZpb3IoYmVoYXZpb3IpIHtcbiAgICB0aGlzLmJlaGF2aW9ycy5wdXNoKGJlaGF2aW9yKTtcbiAgICB0aGlzLnNvcnRCZWhhdmlvcnMoKTtcbiAgfVxuICBcbiAgaGFzQmVoYXZpb3IoYmVoYXZpb3IpIHtcbiAgICByZXR1cm4gXy5jb250YWlucyhfLnBsdWNrKHRoaXMuYmVoYXZpb3JzLCAnY29uc3RydWN0b3IubmFtZScpLCBiZWhhdmlvcik7XG4gIH1cbiAgXG4gIGFkZFVuaXF1ZUJlaGF2aW9yKGJlaGF2aW9yKSB7XG4gICAgaWYodGhpcy5oYXNCZWhhdmlvcihiZWhhdmlvci5jb25zdHJ1Y3Rvci5uYW1lKSkgcmV0dXJuO1xuICAgIHRoaXMuYWRkQmVoYXZpb3IoYmVoYXZpb3IpO1xuICB9XG4gIFxuICByZW1vdmVCZWhhdmlvcihiZWhhdmlvcikge1xuICAgIHRoaXMuYmVoYXZpb3JzID0gXy53aXRob3V0KHRoaXMuYmVoYXZpb3JzLCBiZWhhdmlvcik7XG4gIH1cbiAgXG4gIHRha2VEYW1hZ2UoZGFtYWdlLCBhdHRhY2tlcikge1xuICAgIHRoaXMuaHAuc3ViKGRhbWFnZSk7XG4gICAgaWYodGhpcy5ocC5hdE1pbigpKSB7XG4gICAgICB0aGlzLmRpZShhdHRhY2tlcik7XG4gICAgfVxuICB9XG4gIFxuICBkaWUoa2lsbGVyKSB7XG4gICAgdGhpcy5kb0JlaGF2aW9yKCdkaWUnKTtcbiAgICBNZXNzYWdlUXVldWUuYWRkKHsgbWVzc2FnZTogYCR7dGhpcy5uYW1lfSB3YXMga2lsbGVkIGJ5ICR7a2lsbGVyLm5hbWV9IWAgfSk7XG4gICAga2lsbGVyLmtpbGwodGhpcyk7XG4gICAgXG4gICAgdGhpcy5raWxsZXJOYW1lID0ga2lsbGVyLm5hbWU7XG4gICAgXG4gICAgdGhpcy5nYW1lLnNjaGVkdWxlci5yZW1vdmUodGhpcyk7XG4gICAgR2FtZVN0YXRlLndvcmxkLnJlbW92ZUVudGl0eSh0aGlzKTtcbiAgfVxuICBcbiAga2lsbChkZWFkKSB7XG4gICAgdGhpcy5nYWluWHAoZGVhZC5raWxsWHApO1xuICAgIHRoaXMuZG9CZWhhdmlvcigna2lsbCcpO1xuICB9XG4gIFxuICBzdGVwUmFuZG9tbHkoKSB7XG4gICAgdmFyIHRpbGVzID0gR2FtZVN0YXRlLndvcmxkLmdldEFsbFRpbGVzSW5SYW5nZSh0aGlzLngsIHRoaXMueSwgdGhpcy56LCAxKTtcbiAgICB2YXIgdmFsaWRUaWxlcyA9IF8ubWFwKHRpbGVzLCAodGlsZSwgaSkgPT4gR2FtZVN0YXRlLndvcmxkLmlzVGlsZUVtcHR5KHRpbGUueCwgdGlsZS55LCB0aWxlLnopID8gaSsxIDogbnVsbCk7IC8vIDEtOSBpbnN0ZWFkIG9mIDAtOFxuICAgIHZhciBkaXJlY3Rpb24gPSBfKHZhbGlkVGlsZXMpLmNvbXBhY3QoKS5zYW1wbGUoKSAtIDE7IC8vIGFkanVzdG1lbnQgZm9yIGFycmF5XG4gICAgdmFyIG5ld1RpbGUgPSB0aWxlc1tkaXJlY3Rpb25dOyAvLyBkZWZhdWx0IHRvIGEgcmFuZG9tIHRpbGVcbiAgICBcbiAgICBpZih0aGlzLmxhc3REaXJlY3Rpb24pIHtcbiAgICAgIGxldCBwcm9icyA9IGNhbGModGhpcy5sYXN0RGlyZWN0aW9uICsgMSk7IC8vIGFkanVzdCBmb3IgYXJyYXlcbiAgICAgIGxldCBjaG9pY2VzID0gXyh2YWxpZFRpbGVzKS5tYXAodGlsZUluZGV4ID0+IHRpbGVJbmRleCA/IFt0aWxlSW5kZXgsIHByb2JzW3RpbGVJbmRleF1dIDogbnVsbCkuY29tcGFjdCgpLnppcE9iamVjdCgpLnZhbHVlKCk7XG4gICAgICBkaXJlY3Rpb24gPSBwYXJzZUludChST1QuUk5HLmdldFdlaWdodGVkVmFsdWUoY2hvaWNlcykpIC0gMTtcbiAgICAgIG5ld1RpbGUgPSB0aWxlc1tkaXJlY3Rpb25dO1xuICAgIH1cbiAgICBcbiAgICBpZighbmV3VGlsZSkgcmV0dXJuOyAvLyBzdXJyb3VuZGVkXG4gICAgdGhpcy5tb3ZlKG5ld1RpbGUpO1xuICAgIHRoaXMubGFzdERpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgfVxuICBcbiAgc3RlcFRvd2FyZHModGFyZ2V0KSB7XG4gICAgbGV0IHBhdGggPSBbXTtcbiAgICBsZXQgYWRkUGF0aCA9ICh4LCB5KSA9PiBwYXRoLnB1c2goeyB4LCB5IH0pO1xuICAgIHRhcmdldC5fcGF0aC5jb21wdXRlKHRoaXMueCwgdGhpcy55LCBhZGRQYXRoKTtcbiAgICBcbiAgICBwYXRoLnNoaWZ0KCk7XG4gICAgbGV0IHN0ZXAgPSBwYXRoLnNoaWZ0KCk7XG4gICAgaWYoIXN0ZXApIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICBsZXQgYmxvY2tpbmdFbnRpdHlJbmZvID0gKHBhdGgpID0+IHtcbiAgICAgIGxldCBlbnRpdHkgPSBudWxsO1xuICAgICAgbGV0IHN0ZXAgPSBudWxsO1xuICAgICAgXy5lYWNoKHBhdGgsIChzdGVwLCBpKSA9PiB7XG4gICAgICAgIGxldCB0ZXN0RW50aXR5ID0gR2FtZVN0YXRlLndvcmxkLmdldEVudGl0eShzdGVwLngsIHN0ZXAueSwgdGhpcy56KTtcbiAgICAgICAgaWYodGVzdEVudGl0eSAmJiAhdGhpcy5jYW5BdHRhY2sodGVzdEVudGl0eSkpIHtcbiAgICAgICAgICBlbnRpdHkgPSB0ZXN0RW50aXR5O1xuICAgICAgICAgIHN0ZXAgPSBpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4geyBlbnRpdHksIHN0ZXAgfTtcbiAgICB9O1xuICAgIFxuICAgIGxldCBtYWluQmxvY2tpbmdJbmZvID0gYmxvY2tpbmdFbnRpdHlJbmZvKHBhdGgpO1xuICAgIFxuICAgIC8vIHRoZSBtYWluIHBhdGggaXMgYmxvY2tlZFxuICAgIGlmKG1haW5CbG9ja2luZ0luZm8uZW50aXR5KSB7XG4gICAgICBsZXQgYWx0UGF0aCA9IHRoaXMuZ2V0QWx0ZXJuYXRlUGF0aFRvKHRhcmdldCk7XG4gICAgICBcbiAgICAgIC8vIG5vIGFsdGVybmF0ZSBwYXRoIGNvdWxkIGJlIGdlbmVyYXRlZFxuICAgICAgaWYoIWFsdFBhdGgpIHtcbiAgICAgICAgdGhpcy5tb3ZlVG8oc3RlcC54LCBzdGVwLnkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgbGV0IGFsdEJsb2NraW5nSW5mbyA9IGJsb2NraW5nRW50aXR5SW5mbyhhbHRQYXRoKTtcblxuICAgICAgLy8gYm90aCBhcmUgYmxvY2tlZCwgdGFrZSB0aGUgc2hvcnRlc3QgcGF0aFxuICAgICAgaWYobWFpbkJsb2NraW5nSW5mby5lbnRpdHkgJiYgYWx0QmxvY2tpbmdJbmZvLmVudGl0eSkge1xuICAgICAgICBsZXQgbmV3UGF0aCA9IF8ubWluKFtwYXRoLCBhbHRQYXRoXSwgKHRlc3RQYXRoKSA9PiB0ZXN0UGF0aC5sZW5ndGgpO1xuICAgICAgICBsZXQgbmV3U3RlcCA9IG5ld1BhdGguc2hpZnQoKTtcbiAgICAgICAgdGhpcy5tb3ZlVG8obmV3U3RlcC54LCBuZXdTdGVwLnkpO1xuICAgICAgICBcbiAgICAgIC8vIHRoZSBhbHQgcGF0aCBpc24ndCBibG9ja2VkLCB0YWtlIHRoYXRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBuZXdTdGVwID0gYWx0UGF0aC5zaGlmdCgpO1xuICAgICAgICB0aGlzLm1vdmVUbyhuZXdTdGVwLngsIG5ld1N0ZXAueSk7XG4gICAgICB9XG4gICAgICBcbiAgICAvLyBubyBibG9ja2Vycywga2VlcCBtb3Zpbmcgb25cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tb3ZlVG8oc3RlcC54LCBzdGVwLnkpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBcbiAgZ2V0QWx0ZXJuYXRlUGF0aFRvKHRhcmdldCkge1xuICAgIGxldCBjYW5QYXNzID0gKHgsIHkpID0+IHtcbiAgICAgIGxldCBlbnRpdHkgPSBHYW1lU3RhdGUud29ybGQuZ2V0RW50aXR5KHgsIHksIHRoaXMueik7XG4gICAgICBsZXQgaXNBdHRhY2thYmxlID0gZW50aXR5ICYmIHRoaXMuY2FuQXR0YWNrKGVudGl0eSk7XG4gICAgICBsZXQgaXNNZSA9IHRoaXMueCA9PT0geCAmJiB0aGlzLnkgPT09IHk7XG4gICAgICByZXR1cm4gR2FtZVN0YXRlLndvcmxkLmlzVGlsZVBhc3NhYmxlKHgsIHksIHRoaXMueikgfHwgaXNNZSB8fCBpc0F0dGFja2FibGU7XG4gICAgfTtcbiAgICBsZXQgYXN0YXIgPSBuZXcgUk9ULlBhdGguQVN0YXIodGFyZ2V0LngsIHRhcmdldC55LCBjYW5QYXNzKTtcbiAgICBcbiAgICBsZXQgcGF0aCA9IFtdO1xuICAgIGFzdGFyLmNvbXB1dGUodGhpcy54LCB0aGlzLnksICh4LCB5KSA9PiBwYXRoLnB1c2goeyB4LCB5IH0pKTtcbiAgICBcbiAgICBwYXRoLnNoaWZ0KCk7XG4gICAgbGV0IHN0ZXAgPSBwYXRoLnNoaWZ0KCk7XG4gICAgaWYoIXN0ZXApIHJldHVybiBudWxsO1xuICAgIHJldHVybiBwYXRoO1xuICB9XG4gIFxuICBjYW5BdHRhY2soZW50aXR5KSB7XG4gICAgcmV0dXJuIF8uaW50ZXJzZWN0aW9uKGVudGl0eS5mYWN0aW9ucywgdGhpcy5hbnRpRmFjdGlvbnMpLmxlbmd0aCA+IDA7XG4gIH1cbiAgXG4gIGRvQXR0YWNrKGF0dGFjaywgaGl0TnVtKSB7XG4gICAgbGV0IHRhcmdldCA9IGF0dGFjay5wb3NzaWJsZVRhcmdldHModGhpcylbMF07XG4gICAgaWYoIXRhcmdldCkgcmV0dXJuOyAvLyBwb3NzaWJseSBhIG11bHRpLXNob3QgYXR0YWNrIHRoYXQgaGFzIGtpbGxlZCBlYXJseVxuICAgIGF0dGFjay51c2UodGhpcywgdGFyZ2V0LCBoaXROdW0pO1xuICB9XG4gIFxuICB0cnlBdHRhY2soKSB7XG4gICAgbGV0IGF0dGFja3MgPSB0aGlzLmdldEF0dGFja3MoKTtcbiAgICBpZihhdHRhY2tzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIF8uZWFjaChhdHRhY2tzLCB0aGlzLmRvQXR0YWNrLCB0aGlzKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBcbiAgYWN0KCkge1xuICAgIHRoaXMuY3VycmVudFR1cm4rKztcbiAgICB0aGlzLmRvQmVoYXZpb3IoJ2FjdCcpO1xuICB9XG4gIFxuICBtb3ZlVG8oeCwgeSkge1xuICAgIHJldHVybiBHYW1lU3RhdGUud29ybGQubW92ZUVudGl0eSh0aGlzLCB4LCB5LCB0aGlzLnopO1xuICB9XG4gIFxuICBtb3ZlKG5ld1RpbGUpIHtcbiAgICByZXR1cm4gR2FtZVN0YXRlLndvcmxkLm1vdmVFbnRpdHkodGhpcywgbmV3VGlsZS54LCBuZXdUaWxlLnksIG5ld1RpbGUueik7XG4gIH1cbiAgXG4gIGNhbGNMZXZlbFhwKGxldmVsKSB7XG4gICAgcmV0dXJuIDEwICogTWF0aC5wb3coMiwgbGV2ZWwpO1xuICB9XG4gIFxuICBjYWxjTGV2ZWxIcEJvbnVzKCkge1xuICAgIHJldHVybiArZGljZS5yb2xsKHRoaXMucHJvZmVzc2lvbkluc3QuY29uZmlnLmhwKSArIHRoaXMuY2FsY1N0YXRCb251cygnY29uJyk7XG4gIH1cbiAgXG4gIGNhbGNMZXZlbE1wQm9udXMoKSB7XG4gICAgcmV0dXJuICtkaWNlLnJvbGwodGhpcy5wcm9mZXNzaW9uSW5zdC5jb25maWcubXApICsgdGhpcy5jYWxjU3RhdEJvbnVzKCdpbnQnKTtcbiAgfVxuICBcbiAgZ2FpblhwKG51bWJlcikge1xuICAgIHRoaXMueHAuYWRkKG51bWJlcik7XG4gICAgaWYodGhpcy54cC5hdE1heCgpKSB7XG4gICAgICB0aGlzLmxldmVsdXAoKTtcbiAgICB9XG4gIH1cbiAgXG4gIGdldEFsaWduKCkge1xuICAgIGlmKHRoaXMuYWxpZ24gPD0gLTEwMCkgcmV0dXJuICdFdmlsJztcbiAgICBpZih0aGlzLmFsaWduID49IDEwMCkgcmV0dXJuICdHb29kJztcbiAgICByZXR1cm4gJ05ldXRyYWwnO1xuICB9XG4gIFxuICBsZXZlbHVwKCkge1xuICAgIHRoaXMucHJvZmVzc2lvbkluc3QubGV2ZWx1cCgpO1xuICAgIHRoaXMubGV2ZWwgKz0gMTtcbiAgICB0aGlzLmhwLm1heCArPSB0aGlzLmNhbGNMZXZlbEhwQm9udXMoKTtcbiAgICB0aGlzLm1wLm1heCArPSB0aGlzLmNhbGNMZXZlbE1wQm9udXMoKTtcbiAgICB0aGlzLnhwLm1heCA9IHRoaXMuY2FsY0xldmVsWHAodGhpcy5sZXZlbCk7XG4gICAgXG4gICAgLy8gcmVzZXRzXG4gICAgdGhpcy54cC5jdXIgPSAwO1xuICAgIHRoaXMuaHAuY3VyID0gdGhpcy5ocC5tYXg7XG4gICAgdGhpcy5tcC5jdXIgPSB0aGlzLm1wLm1heDtcbiAgICBcbiAgICBNZXNzYWdlUXVldWUuYWRkKHsgbWVzc2FnZTogYCR7dGhpcy5uYW1lfSBoYXMgcmVhY2hlZCBleHBlcmllbmNlIGxldmVsICR7dGhpcy5sZXZlbH0hYCB9KTtcbiAgfVxuICBcbiAgcm9sbE9yQWRkKHZhbCkge1xuICAgIHZhbCA9IF8uaXNTdHJpbmcodmFsKSA/ICtkaWNlLnJvbGwodmFsKSA6IHZhbDtcbiAgICByZXR1cm4gIXZhbCB8fCBfLmlzTmFOKHZhbCkgPyAwIDogdmFsO1xuICB9XG4gIFxuICBnZXRBdHRhY2tzKCkge1xuICAgIGxldCBiYXNlQXR0YWNrcyA9IHRoaXMuYXR0YWNrcyB8fCBbXTtcbiAgICBsZXQgcmFjaWFsQXR0YWNrcyA9IGJhc2VBdHRhY2tzLmNvbmNhdCh0aGlzLnJhY2VJbnN0LmF0dGFja3MpO1xuICAgIGxldCBhdHRhY2tzID0gcmFjaWFsQXR0YWNrcy5jb25jYXQoXyh0aGlzLmVxdWlwbWVudCkudmFsdWVzKCkuZmxhdHRlbigpLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5jYW5Vc2UodGhpcykgJiYgaXRlbS5hdHRhY2tzKS5wbHVjaygnYXR0YWNrcycpLmZsYXR0ZW4oKS52YWx1ZSgpKTtcbiAgICBpZihhdHRhY2tzLmxlbmd0aCA9PT0gMCkgYXR0YWNrcyA9IFtBdHRhY2tzLlVuYXJtZWQoKV07XG4gICAgbGV0IGludmVudG9yeUF0dGFja3MgPSBfKHRoaXMuaW52ZW50b3J5KS5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uY2FuVXNlKHRoaXMpICYmIGl0ZW0uYXR0YWNrcykucGx1Y2soJ2F0dGFja3MnKS5mbGF0dGVuKCkudmFsdWUoKTtcbiAgICBcbiAgICAvLyBhbGwgbWVsZWUgYXR0YWNrcyBhcmUgdmFsaWQsIGJ1dCBvbmx5IG9uZSByYW5nZWQgaW52ZW50b3J5IGF0dGFjayBjYW4gYmUgdXNlZFxuICAgIGlmKF8uc29tZShhdHRhY2tzLCAoYXRrKSA9PiBhdGsuY2FuVXNlKHRoaXMpKSkgcmV0dXJuIGF0dGFja3M7XG4gICAgcmV0dXJuIF8uY29tcGFjdChbXyhpbnZlbnRvcnlBdHRhY2tzKS5maWx0ZXIoKGF0aykgPT4gYXRrLmNhblVzZSh0aGlzKSkuc2FtcGxlKCldKTtcbiAgfVxuICBcbiAgZ2V0U3RhdChzdGF0KSB7XG4gICAgcmV0dXJuIHRoaXMucm9sbE9yQWRkKHRoaXNbc3RhdF0pICsgdGhpcy5yb2xsT3JBZGQodGhpcy5wcm9mZXNzaW9uSW5zdFtzdGF0XSkgKyB0aGlzLnJvbGxPckFkZCh0aGlzLnJhY2VJbnN0W3N0YXRdKTtcbiAgfVxuXG4gIGdldFN0YXRXaXRoTWluKHN0YXQsIG1pbiA9IDApIHtcbiAgICByZXR1cm4gTWF0aC5tYXgobWluLCB0aGlzLmdldFN0YXQoc3RhdCkpO1xuICB9XG5cbiAgZ2V0UmVnZW5IcCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdGF0V2l0aE1pbigncmVnZW5IcCcpO1xuICB9XG5cbiAgZ2V0UmVnZW5NcCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdGF0V2l0aE1pbigncmVnZW5NcCcpO1xuICB9XG4gIFxuICBnZXRCb251c0RhbWFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdGF0KCdib251c0RhbWFnZScpO1xuICB9XG4gIFxuICBnZXRUb0hpdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdGF0KCd0b0hpdCcpO1xuICB9XG4gIFxuICBnZXRTaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdGF0V2l0aE1pbignc2lnaHQnKTtcbiAgfVxuICBcbiAgZ2V0U3BlZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RhdFdpdGhNaW4oJ3NwZWVkJyk7XG4gIH1cbiAgXG4gIGdldEFDKCkge1xuICAgIHJldHVybiAxMCArIHRoaXMuZ2V0U3RhdCgnYWMnKSAtIHRoaXMuY2FsY1N0YXRCb251cygnZGV4Jyk7XG4gIH1cbiAgXG4gIGdldFN0cigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdGF0V2l0aE1pbignc3RyJyk7XG4gIH1cbiAgXG4gIGdldERleCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdGF0V2l0aE1pbignZGV4Jyk7XG4gIH1cbiAgXG4gIGdldENvbigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdGF0V2l0aE1pbignY29uJyk7XG4gIH1cbiAgXG4gIGdldEludCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdGF0V2l0aE1pbignaW50Jyk7XG4gIH1cbiAgXG4gIGdldFdpcygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdGF0V2l0aE1pbignd2lzJyk7XG4gIH1cbiAgXG4gIGdldENoYSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdGF0V2l0aE1pbignY2hhJyk7XG4gIH1cbiAgXG4gIGdldEx1aygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdGF0V2l0aE1pbignbHVrJyk7XG4gIH1cbiAgXG4gIC8vIC0yID0gNC81LCAtMSA9IDYvNywgMCA9IDgsICsxID0gOS8xMCwgKzIgPSAxMC8xMSAoZXRjKVxuICBjYWxjU3RhdEJvbnVzKHN0YXQpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzW2BnZXQke18uY2FwaXRhbGl6ZShzdGF0KX1gXSgpIC8gMikgLSA0O1xuICB9XG4gIFxuICB0b0pTT04oKSB7XG4gICAgbGV0IG1lID0gXy5vbWl0KHRoaXMsIFsnZ2FtZScsICdfcGF0aCddKTtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobWUpO1xuICB9XG59IiwiXG5pbXBvcnQgR2x5cGggZnJvbSAnLi9nbHlwaCc7XG5pbXBvcnQgQWJzdHJhY3QgZnJvbSAnLi9hYnN0cmFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVudGl0eSBleHRlbmRzIEFic3RyYWN0IHtcbiAgY29uc3RydWN0b3IoZ2x5cGhPcHRzLCB4ID0gMCwgeSA9IDAsIHogPSAwKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmRlbnNpdHkgPSAxO1xuICAgIHRoaXMub3BhY2l0eSA9IDA7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMueiA9IHo7XG4gICAgdGhpcy5zZXRHbHlwaChnbHlwaE9wdHMpO1xuICB9XG4gIFxuICBzZXRHbHlwaChnbHlwaE9wdHMpIHtcbiAgICB0aGlzLmdseXBoID0gbmV3IEdseXBoKGdseXBoT3B0cy5rZXksIGdseXBoT3B0cy5mZywgZ2x5cGhPcHRzLmJnKTtcbiAgfVxuICBcbiAgaXNEZW5zZSgpIHtcbiAgICByZXR1cm4gdGhpcy5kZW5zaXR5O1xuICB9XG4gIFxuICBpc0Jsb2NraW5nTGlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMub3BhY2l0eTtcbiAgfVxufSIsIlxuaW1wb3J0IHsgSXRlbSB9IGZyb20gJy4vaXRlbSc7XG5pbXBvcnQgKiBhcyBGYWtlcyBmcm9tICcuLi9jb25zdGFudHMvZmFrZXR5cGVzJztcblxuY2xhc3MgRXF1aXBtZW50IGV4dGVuZHMgSXRlbSB7XG4gIGdldCBuYW1lKCkge1xuICAgIGxldCBuYW1lID0gdGhpcy5pc0lkZW50aWZpZWQoKSA/IHRoaXMucmVhbE5hbWUgOiB0aGlzLmZha2VOYW1lO1xuICAgIGxldCBlbmNoYW50ID0gdGhpcy5lbmNoYW50bWVudCA/IGArJHt0aGlzLmVuY2hhbnRtZW50fSAke25hbWV9YCA6IG5hbWU7XG4gICAgbGV0IGJ1YyA9IHRoaXMuYnVjTmFtZSAhPT0gJ3VuY3Vyc2VkJyA/IGAke3RoaXMuYnVjTmFtZX0gJHtlbmNoYW50fWAgOiBlbmNoYW50O1xuICAgIHJldHVybiBidWM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNwZWNpYWwgZXh0ZW5kcyBJdGVtIHt9XG5cbmV4cG9ydCBjbGFzcyBDb21lc3RpYmxlIGV4dGVuZHMgSXRlbSB7XG4gIGNvbnN0cnVjdG9yKG9wdHMgPSB7fSkge1xuICAgIG9wdHMuc3ltYm9sID0gJyUnO1xuICAgIHN1cGVyKG9wdHMpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBcm1vciBleHRlbmRzIEVxdWlwbWVudCB7fVxuXG5leHBvcnQgY2xhc3MgV2VhcG9uIGV4dGVuZHMgRXF1aXBtZW50IHtcbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIHN1cGVyKG9wdHMpO1xuICAgIHRoaXMucmVhbE5hbWUgPSB0aGlzLmZha2VOYW1lID0gdGhpcy5nZXRUeXBlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJvZHkgZXh0ZW5kcyBBcm1vciB7XG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBvcHRzLnN5bWJvbCA9ICdbJztcbiAgICBzdXBlcihvcHRzKTtcbiAgICB0aGlzLnJlYWxOYW1lID0gdGhpcy5mYWtlTmFtZSA9IGAke3RoaXMuZ2V0Q2Fub25OYW1lKCl9IGFybW9yYDtcbiAgfVxufVxuQm9keS5yYXJpdHkgPSAxMDtcblxuZXhwb3J0IGNsYXNzIFJpbmcgZXh0ZW5kcyBBcm1vciB7XG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBvcHRzLmJ1Y1Byb2IgPSB7IGN1cnNlZDogNywgYmxlc3NlZDogMiwgdW5jdXJzZWQ6IDkxIH07XG4gICAgb3B0cy5zeW1ib2wgPSAnPSc7XG4gICAgc3VwZXIob3B0cyk7XG4gICAgdGhpcy5yZWFsTmFtZSA9IGByaW5nIG9mICR7dGhpcy5nZXRDYW5vbk5hbWUoKX1gO1xuICAgIHRoaXMuZmFrZU5hbWUgPSBgJHt0aGlzLnBpY2tGYWtlTmFtZShGYWtlcy5SaW5nKX0gcmluZ2A7XG4gIH1cbn1cblJpbmcucmFyaXR5ID0gMztcblxuZXhwb3J0IGNsYXNzIEhhbmRzIGV4dGVuZHMgV2VhcG9uIHtcbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIG9wdHMuc3ltYm9sID0gJyknO1xuICAgIHN1cGVyKG9wdHMpO1xuICAgIHRoaXMucmVhbE5hbWUgPSB0aGlzLmZha2VOYW1lID0gYCR7dGhpcy5nZXRDYW5vbk5hbWUoKX1gO1xuICB9XG59XG5IYW5kcy5yYXJpdHkgPSAxMDtcblxuZXhwb3J0IGNsYXNzIFdyaXN0IGV4dGVuZHMgQXJtb3Ige1xuICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgb3B0cy5zeW1ib2wgPSAnWyc7XG4gICAgc3VwZXIob3B0cyk7XG4gICAgdGhpcy5yZWFsTmFtZSA9IHRoaXMuZmFrZU5hbWUgPSBgJHt0aGlzLmdldENhbm9uTmFtZSgpfSBnbG92ZXNgO1xuICB9XG59XG5XcmlzdC5yYXJpdHkgPSAxMDtcblxuZXhwb3J0IGNsYXNzIEZlZXQgZXh0ZW5kcyBBcm1vciB7XG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBvcHRzLnN5bWJvbCA9ICdbJztcbiAgICBzdXBlcihvcHRzKTtcbiAgICB0aGlzLnJlYWxOYW1lID0gdGhpcy5mYWtlTmFtZSA9IGAke3RoaXMuZ2V0Q2Fub25OYW1lKCl9IGJvb3RzYDtcbiAgICB0aGlzLnNsb3RzVGFrZW4gPSAyO1xuICB9XG59XG5GZWV0LnJhcml0eSA9IDEwO1xuXG5leHBvcnQgY2xhc3MgSGVhZCBleHRlbmRzIEFybW9yIHtcbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIG9wdHMuc3ltYm9sID0gJ1snO1xuICAgIHN1cGVyKG9wdHMpO1xuICAgIHRoaXMucmVhbE5hbWUgPSB0aGlzLmZha2VOYW1lID0gYCR7dGhpcy5nZXRDYW5vbk5hbWUoKX0gaGVsbWA7XG4gIH1cbn1cbkhlYWQucmFyaXR5ID0gMTA7XG5cbmV4cG9ydCBjbGFzcyBDbG9hayBleHRlbmRzIEFybW9yIHtcbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIG9wdHMuc3ltYm9sID0gJ1snO1xuICAgIHN1cGVyKG9wdHMpO1xuICAgIHRoaXMucmVhbE5hbWUgPSB0aGlzLmZha2VOYW1lID0gYHJpbmcgb2YgJHt0aGlzLmdldENhbm9uTmFtZSgpfWA7XG4gIH1cbn1cbkNsb2FrLnJhcml0eSA9IDU7XG5cbmV4cG9ydCBjbGFzcyBOZWNrIGV4dGVuZHMgQXJtb3Ige1xuICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgb3B0cy5zeW1ib2wgPSAnXCInO1xuICAgIHN1cGVyKG9wdHMpO1xuICAgIHRoaXMucmVhbE5hbWUgPSB0aGlzLmZha2VOYW1lID0gYGFtdWxldCBvZiAke3RoaXMuZ2V0Q2Fub25OYW1lKCl9YDtcbiAgfVxufVxuTmVjay5yYXJpdHkgPSAzO1xuXG5leHBvcnQgY2xhc3MgR2VtIGV4dGVuZHMgSXRlbSB7XG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBvcHRzLnN5bWJvbCA9ICcqJztcbiAgICBzdXBlcihvcHRzKTtcbiAgICB0aGlzLnJlYWxOYW1lID0gdGhpcy5mYWtlTmFtZSA9IGBhbXVsZXQgb2YgJHt0aGlzLmdldENhbm9uTmFtZSgpfWA7XG4gIH1cbn1cbkdlbS5yYXJpdHkgPSAyNTtcblxuZXhwb3J0IGNsYXNzIFNjcm9sbCBleHRlbmRzIEl0ZW0ge1xuICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgb3B0cy5zeW1ib2wgPSAnPyc7XG4gICAgc3VwZXIob3B0cyk7XG4gICAgdGhpcy5yZWFsTmFtZSA9IHRoaXMuZmFrZU5hbWUgPSBgJHt0aGlzLmdldENhbm9uTmFtZSgpfWA7XG4gIH1cbn1cblNjcm9sbC5yYXJpdHkgPSAxNTtcblxuZXhwb3J0IGNsYXNzIFdhbmQgZXh0ZW5kcyBJdGVtIHtcbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIG9wdHMuc3ltYm9sID0gJy8nO1xuICAgIHN1cGVyKG9wdHMpO1xuICAgIHRoaXMucmVhbE5hbWUgPSB0aGlzLmZha2VOYW1lID0gYHdhbmQgb2YgJHt0aGlzLmdldENhbm9uTmFtZSgpfWA7XG4gIH1cbn1cbldhbmQucmFyaXR5ID0gMjtcblxuZXhwb3J0IGNsYXNzIFNwZWxsYm9vayBleHRlbmRzIFdlYXBvbiB7XG4gIGNvbnN0cnVjdG9yKG9wdHMgPSB7fSkge1xuICAgIG9wdHMubWFuYUNvc3QgPSBvcHRzLm1hbmFDb3N0IHx8IDM7XG4gICAgb3B0cy5zeW1ib2wgPSAnKyc7XG4gICAgc3VwZXIob3B0cyk7XG4gIH1cbn1cblNwZWxsYm9vay5yYXJpdHkgPSAxO1xuXG5leHBvcnQgY2xhc3MgUG90aW9uIGV4dGVuZHMgRXF1aXBtZW50IHtcbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIG9wdHMuc3ltYm9sID0gJyEnO1xuICAgIHN1cGVyKG9wdHMpO1xuICAgIHRoaXMucmVhbE5hbWUgPSBgcG90aW9uIG9mICR7dGhpcy5nZXRDYW5vbk5hbWUoKX1gO1xuICAgIHRoaXMuZmFrZU5hbWUgPSBgJHt0aGlzLnBpY2tGYWtlTmFtZShGYWtlcy5Qb3Rpb24pfSBwb3Rpb25gO1xuICB9XG59XG5Qb3Rpb24ucmFyaXR5ID0gMTU7IiwiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHbHlwaCB7XG4gIGNvbnN0cnVjdG9yKGtleSwgZmcsIGJnKSB7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdGhpcy5mZyA9IGZnO1xuICAgIHRoaXMuYmcgPSBiZztcbiAgfVxufSIsImltcG9ydCBHbHlwaCBmcm9tICcuL2dseXBoJztcbmltcG9ydCB7IEdldENvbG9yIH0gZnJvbSAnLi4vbGliL3ZhbGlkLWNvbG9ycyc7XG5pbXBvcnQgR2FtZVN0YXRlIGZyb20gJy4uL2luaXQvZ2FtZXN0YXRlJztcblxuZXhwb3J0IGNsYXNzIEl0ZW0ge1xuICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgb3B0cy5nbHlwaCA9IF8uZXh0ZW5kKHsgZmc6IEdldENvbG9yKCksIGtleTogb3B0cy5zeW1ib2wgfSwgb3B0cy5nbHlwaCk7XG4gICAgXy5leHRlbmQodGhpcywgb3B0cyk7XG4gICAgdGhpcy5lbmNoYW50bWVudCA9IHRoaXMuZW5jaGFudG1lbnQgfHwgMDtcbiAgICB0aGlzLnNsb3RzVGFrZW4gPSB0aGlzLnNsb3RzVGFrZW4gfHwgMTtcbiAgICBpZih0aGlzLmF0dGFja3MpIHtcbiAgICAgIF8uZWFjaCh0aGlzLmF0dGFja3MsIChhdHRhY2spID0+IGF0dGFjay5faXRlbVJlZiA9IHRoaXMpO1xuICAgIH1cbiAgICBpZih0aGlzLnJhbmdlKSB7XG4gICAgICB0aGlzLnJhbmdlID0gXy5leHRlbmQoeyBudW1TaG90czogMSwgZGFtYWdlQm9vc3Q6ICcwZDAnLCBhbW1vOiBbXSB9LCB0aGlzLnJhbmdlKTtcbiAgICB9XG4gICAgaWYodGhpcy5jaGFyZ2VzKSB0aGlzLmNoYXJnZXMgPSArZGljZS5yb2xsKHRoaXMuY2hhcmdlcyk7XG4gICAgaWYodGhpcy5zdGFydElkZW50aWZpZWQpIHRoaXMuaWRlbnRpZnkoKTtcbiAgICB0aGlzLmdseXBoID0gbmV3IEdseXBoKG9wdHMuZ2x5cGgua2V5LCBvcHRzLmdseXBoLmZnKTtcbiAgICB0aGlzLmdlbmVyYXRlQlVDKG9wdHMuYnVjUHJvYik7XG4gIH1cbiAgXG4gIGlzSWRlbnRpZmllZCgpIHtcbiAgICBsZXQgbXlUeXBlID0gdGhpcy5nZXRQYXJlbnRUeXBlKCk7XG4gICAgcmV0dXJuIEdhbWVTdGF0ZS5pZGVudGlmaWNhdGlvbltteVR5cGVdO1xuICB9XG4gIFxuICBpZGVudGlmeSgpIHtcbiAgICBsZXQgbXlUeXBlID0gdGhpcy5nZXRQYXJlbnRUeXBlKCk7XG4gICAgR2FtZVN0YXRlLmlkZW50aWZpY2F0aW9uW215VHlwZV0gPSB0aGlzLnJlYWxOYW1lO1xuICB9XG4gIFxuICBwaWNrRmFrZU5hbWUoY2hvaWNlcykge1xuICAgIGxldCBteVR5cGUgPSB0aGlzLmdldFBhcmVudFR5cGUoKTtcbiAgICBpZihHYW1lU3RhdGUuX2lkTWFwW3RoaXMucmVhbE5hbWVdKSB7XG4gICAgICByZXR1cm4gR2FtZVN0YXRlLl9pZE1hcFt0aGlzLnJlYWxOYW1lXTsgLy8gdGhpcyBpdGVtIGhhcyBhbHJlYWR5IGJlZW4gZ2VuZXJhdGVkXG4gICAgfVxuICAgIGxldCBjdXJyZW50VHlwZXMgPSBfLmtleXMoR2FtZVN0YXRlLmlkZW50aWZpY2F0aW9uW215VHlwZV0pO1xuICAgIGxldCB2YWxpZFR5cGVzID0gXy5kaWZmZXJlbmNlKGNob2ljZXMsIGN1cnJlbnRUeXBlcyk7XG4gICAgbGV0IG5hbWUgPSBfLnNhbXBsZSh2YWxpZFR5cGVzKTtcbiAgICBHYW1lU3RhdGUuX2lkTWFwW3RoaXMucmVhbE5hbWVdID0gbmFtZTtcbiAgICByZXR1cm4gbmFtZTtcbiAgfVxuICBcbiAgY2FuVXNlKG93bmVyKSB7XG4gICAgaWYodGhpcy5tYW5hQ29zdCkgcmV0dXJuIG93bmVyLm1wLmd0ZSh0aGlzLm1hbmFDb3N0KTtcbiAgICBpZih0aGlzLmNoYXJnZXMpIHJldHVybiB0aGlzLmNoYXJnZXMgPiAwO1xuICAgIHJldHVybiBvd25lci5pc0VxdWlwcGVkKHRoaXMpO1xuICB9XG4gIFxuICBoYXNWYWxpZEFtbW8ob3duZXIpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRWYWxpZEFtbW8ob3duZXIpLmxlbmd0aCA+IDA7XG4gIH1cbiAgXG4gIGdldFZhbGlkQW1tbyhvd25lcikge1xuICAgIHJldHVybiBfLmZpbHRlcihvd25lci5pbnZlbnRvcnksIChpdGVtKSA9PiBpdGVtLmNhblVzZShvd25lcikgJiYgXy5jb250YWlucyh0aGlzLnJhbmdlLmFtbW8sIGl0ZW0uZ2V0VHlwZSgpKSk7XG4gIH1cbiAgXG4gIHVzZShvd25lcikge1xuICAgIGlmKHRoaXMubWFuYUNvc3QpIG93bmVyLm1wLnN1Yih0aGlzLm1hbmFDb3N0KTtcbiAgICBpZih0aGlzLmhlYWxSb2xsKSBvd25lci5oZWFsKHRoaXMuaGVhbFJvbGwsIHRoaXMpO1xuICAgIGlmKHRoaXMuY2hhcmdlcykge1xuICAgICAgdGhpcy5jaGFyZ2VzLS07XG4gICAgICBpZih0aGlzLmNoYXJnZXMgPD0gMCAmJiB0aGlzLmF1dG9SZW1vdmUpIG93bmVyLnJlbW92ZUZyb21JbnZlbnRvcnkodGhpcyk7XG4gICAgfVxuICAgIGlmKHRoaXMucmFuZ2UgJiYgdGhpcy5oYXNWYWxpZEFtbW8ob3duZXIpKSB7XG4gICAgICB0aGlzLnBld3Bldyhvd25lcik7ICBcbiAgICB9XG4gIH1cbiAgXG4gIHBld3Bldyhvd25lcikge1xuICAgIGZvcihsZXQgaT0wOyBpPHRoaXMucmFuZ2UubnVtU2hvdHM7IGkrKykge1xuICAgICAgbGV0IGNob3NlbkFtbW8gPSBfLnNhbXBsZSh0aGlzLmdldFZhbGlkQW1tbyhvd25lcikpO1xuICAgICAgY2hvc2VuQW1tby5fdGVtcEF0dGFja0Jvb3N0ID0gdGhpcy5yYW5nZS5kYW1hZ2VCb29zdDtcbiAgICAgIGxldCBhdHRhY2sgPSBfLnNhbXBsZShjaG9zZW5BbW1vLmF0dGFja3MpO1xuICAgICAgb3duZXIuZG9BdHRhY2soYXR0YWNrLCBpKTtcbiAgICAgIGRlbGV0ZSBjaG9zZW5BbW1vLl90ZW1wQXR0YWNrQm9vc3Q7XG4gICAgfVxuICB9XG4gIFxuICBnZXRDYW5vbk5hbWUoKSB7XG4gICAgcmV0dXJuIF8uc3RhcnRDYXNlKHRoaXMuY29uc3RydWN0b3IubmFtZSkudG9Mb3dlckNhc2UoKTtcbiAgfVxuICBcbiAgZ2V0VHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gIH1cbiAgXG4gIGdldFBhcmVudFR5cGUoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykpLmNvbnN0cnVjdG9yLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgfVxuICBcbiAgZ2VuZXJhdGVCVUMob3B0cyA9IHsgY3Vyc2VkOiA1LCBibGVzc2VkOiA1LCB1bmN1cnNlZDogOTAgfSkge1xuICAgIGlmKCF0aGlzLmJ1Y05hbWUpIHtcbiAgICAgIGxldCBzdGF0dXMgPSBST1QuUk5HLmdldFdlaWdodGVkVmFsdWUob3B0cyk7XG4gICAgICB0aGlzLmJ1Y05hbWUgPSBzdGF0dXM7XG4gICAgfVxuICAgIGxldCBoYXNoID0geyBjdXJzZWQ6IC0xLCB1bmN1cnNlZDogMSwgYmxlc3NlZDogMiB9O1xuICAgIHRoaXMuYnVjID0gaGFzaFt0aGlzLmJ1Y05hbWVdO1xuICB9XG4gIFxuICB2YWx1ZSgpIHtcbiAgICBsZXQgYXRrVmFsdWUgPSBfLnJlZHVjZSh0aGlzLmF0dGFja3MsICgocHJldiwgY3VyKSA9PiBwcmV2ICsgY3VyLnZhbHVlKCkpLCAwKTtcbiAgICByZXR1cm4gdGhpcy5idWMgKiAoMTAwIC0gdGhpcy5yYXJpdHkpICsgdGhpcy5lbmNoYW50bWVudCo1ICsgYXRrVmFsdWU7XG4gIH1cbiAgXG4gIHRvSlNPTigpIHtcbiAgICBsZXQgbWUgPSBfLm9taXQodGhpcywgWydidWNQcm9iJywgJ3N0YXJ0SWRlbnRpZmllZCcsICdfdGVtcEF0dGFja0Jvb3N0JywgJ3N5bWJvbCddKTtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobWUpO1xuICB9XG59IiwiXG5pbXBvcnQgQ2hhcmFjdGVyIGZyb20gJy4vY2hhcmFjdGVyJztcbmltcG9ydCBGYWN0aW9ucyBmcm9tICcuLi9jb25zdGFudHMvZmFjdGlvbnMnO1xuXG5sZXQgZGVmYXVsdE1vbnN0ZXJTdGF0cyA9IHtcbiAgc3RyOiA4LFxuICBjb246IDgsXG4gIGRleDogOCxcbiAgaW50OiA4LFxuICB3aXM6IDgsXG4gIGNoYTogOFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9uc3RlciBleHRlbmRzIENoYXJhY3RlciB7XG4gIGNvbnN0cnVjdG9yKHgsIHksIHosIG9wdHMpIHtcbiAgICBvcHRzLnN0YXRzLnByb2Zlc3Npb24gPSAnTW9uc3Rlcic7XG4gICAgb3B0cy5hdHRyaWJ1dGVzID0gXy5leHRlbmQoe30sIGRlZmF1bHRNb25zdGVyU3RhdHMsIG9wdHMuYXR0cmlidXRlcyk7XG4gICAgc3VwZXIob3B0cy5nbHlwaCwgeCwgeSwgeiwgb3B0cyk7XG4gICAgdGhpcy5kaWZmaWN1bHR5ID0gb3B0cy5kaWZmaWN1bHR5O1xuICAgIHRoaXMuYW50aUZhY3Rpb25zLnB1c2goRmFjdGlvbnMuUExBWUVSKTtcbiAgICBpZihvcHRzLmFkZEZhY3Rpb25zKSB0aGlzLmZhY3Rpb25zLnB1c2goLi4ub3B0cy5hZGRGYWN0aW9ucyk7XG4gICAgaWYob3B0cy5zdGFydGluZ0VxdWlwbWVudCkgdGhpcy5sb2FkU3RhcnRpbmdFcXVpcG1lbnQob3B0cy5zdGFydGluZ0VxdWlwbWVudCk7XG4gIH1cbiAgXG4gIHRvSlNPTigpIHtcbiAgICBsZXQgYmFzZSA9IEpTT04ucGFyc2Uoc3VwZXIudG9KU09OKCkpO1xuICAgIGxldCBtZSA9IF8ub21pdChiYXNlLCAndGFyZ2V0Jyk7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG1lKTtcbiAgfVxufSIsIlxuaW1wb3J0IENoYXJhY3RlciBmcm9tICcuL2NoYXJhY3Rlcic7XG5pbXBvcnQgU0VUVElOR1MgZnJvbSAnLi4vY29uc3RhbnRzL3NldHRpbmdzJztcbmltcG9ydCBHYW1lU3RhdGUgZnJvbSAnLi4vaW5pdC9nYW1lc3RhdGUnO1xuaW1wb3J0IE1vbnN0ZXJTcGF3bmVyIGZyb20gJy4uL3dvcmxkZ2VuL21vbnN0ZXItc3Bhd25lcic7XG5pbXBvcnQgKiBhcyBCZWhhdmlvcnMgZnJvbSAnLi4vY29udGVudC9iZWhhdmlvcnMvYmVoYXZpb3JzJztcbmltcG9ydCBGYWN0aW9ucyBmcm9tICcuLi9jb25zdGFudHMvZmFjdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXIgZXh0ZW5kcyBDaGFyYWN0ZXIge1xuICBcbiAgY29uc3RydWN0b3IoeCwgeSwgeiwgb3B0cyA9IHt9KSB7XG4gICAgb3B0cy5zdGF0cyA9IHsgYmVoYXZpb3JzOiBbQmVoYXZpb3JzLkF0dGFja3MoKSwgQmVoYXZpb3JzLlBpY2tVcEl0ZW1zKCksIEJlaGF2aW9ycy5IZWFsc0JlbG93UGVyY2VudCg1MCksIEJlaGF2aW9ycy5JbnRlcmFjdHMoKSwgQmVoYXZpb3JzLldhbmRlcnMoKV0gfTtcbiAgICBzdXBlcih7IGtleTogJ0AnIH0sIHgsIHksIHosIG9wdHMpO1xuICAgIHRoaXMuZmFjdGlvbnMucHVzaChGYWN0aW9ucy5QTEFZRVIpO1xuICAgIHRoaXMuYW50aUZhY3Rpb25zLnB1c2goRmFjdGlvbnMuTU9OU1RFUik7XG4gICAgdGhpcy5zcGF3blN0ZXBzID0gMTAwOyAvLyBzcGF3biBjcmVhdHVyZXMgZXZlcnkgMTAwIHN0ZXBzXG4gICAgdGhpcy50b3RhbFhwRWFybmVkID0gMDtcbiAgICB0aGlzLmtwRWFybmVkID0gMDtcbiAgICB0aGlzLmNvbnF1ZXN0ID0ge307XG4gICAgXG4gICAgdGhpcy5uYW1lID0gXy50cnVuYyh0aGlzLm5hbWUsIHsgbGVuZ3RoOiAxNSwgb21pc3Npb246ICcnIH0pO1xuICAgIHRoaXMuY29uZHVjdCA9IHRoaXMuYmFzZUNvbmR1Y3QoKTtcbiAgfVxuICBcbiAgYmFzZUNvbmR1Y3QoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIGZvb2RsZXNzOiAgICAgJ1lvdSB3ZW50IHdpdGhvdXQgZm9vZC4nLFxuICAgICAgLy8gdmVnYW46ICAgICAgICAnWW91IHdlcmUgdmVnYW4uJyxcbiAgICAgIC8vIHZlZ2V0YXJpYW46ICAgJ1lvdSB3ZXJlIHZlZ2V0YXJpYW4uJyxcbiAgICAgIGF0aGVpc3Q6ICAgICAgJ1lvdSB3ZXJlIGF0aGVpc3QuJyxcbiAgICAgIHBhY2lmaXN0OiAgICAgJ1lvdSB3ZXJlIGEgcGFjaWZpc3QuJyxcbiAgICAgIG5vV2VhcG9uOiAgICAgJ1lvdSBuZXZlciBoaXQgd2l0aCBhIHdpZWxkZWQgd2VhcG9uLicsXG4gICAgICBpbGxpdGVyYXRlOiAgICdZb3Ugd2VyZSBpbGxpdGVyYXRlLicsXG4gICAgICAvLyBub090aGVyUG9seTogICdZb3UgbmV2ZXIgcG9seW1vcnBoZWQgYW5vdGhlciBiZWluZy4nLFxuICAgICAgLy8gbm9TZWxmUG9seTogICAnWW91IHdlcmUgbmV2ZXIgcG9seW1vcnBoZWQuJyxcbiAgICAgIC8vIG5vR2Vub2NpZGU6ICAgJ1lvdSBkaWQgbm90IGNvbW1pdCBnZW5vY2lkZS4nLFxuICAgICAgd2lzaGxlc3M6ICAgICAnWW91IG5ldmVyIHdpc2hlZCBmb3IgYW55dGhpbmcuJyxcbiAgICAgIC8vIHN1cnZpdm9yOiAgICAgJ1lvdSB3ZXJlIG5ldmVyIHJldml2ZWQuJyxcbiAgICAgIC8vIG51ZGlzdDogICAgICAgJ1lvdSBuZXZlciB3b3JlIGFybW9yLicsXG4gICAgICAvLyB6ZW46ICAgICAgICAgICdZb3Ugd2VyZSBibGluZCB0aHJvdWdob3V0IHlvdXIgYWR2ZW50dXJlLicsXG4gICAgICAvLyBzdHViYm9ybjogICAgICdZb3UgbmV2ZXIgY2hhbmdlZCBlcXVpcG1lbnQuJyxcbiAgICAgIGNlbGliYXRlOiAgICAgJ1lvdSB3ZXJlIGNlbGliYXRlLidcbiAgICB9O1xuICB9XG4gIFxuICBnZXRTcGF3blN0ZXBzKCkge1xuICAgIHJldHVybiB0aGlzLmdldFN0YXQoJ3NwYXduU3RlcHMnKTtcbiAgfVxuICBcbiAgZ2FpblhwKHhwKSB7XG4gICAgc3VwZXIuZ2FpblhwKHhwKTtcbiAgICB0aGlzLnRvdGFsWHBFYXJuZWQgKz0geHA7XG4gIH1cbiAgXG4gIGtpbGwoZGVhZCkge1xuICAgIHN1cGVyLmtpbGwoZGVhZCk7XG4gICAgdGhpcy50b3RhbEtwRWFybmVkICs9IGRlYWQuZGlmZmljdWx0eSAqIGRlYWQua2lsbFhwO1xuICAgIGlmKCF0aGlzLmNvbnF1ZXN0W2RlYWQubmFtZV0pIHRoaXMuY29ucXVlc3RbZGVhZC5uYW1lXSA9IDA7XG4gICAgdGhpcy5jb25xdWVzdFtkZWFkLm5hbWVdKys7XG4gICAgXG4gICAgLy8gcHJvYmFibHkgcmVmYWN0b3IgdGhpcyBpbnRvIGEgbG9zZS9nYWluQWxpZ24gYW5kIHNvbWUgY29uc3RhbnRzIGZvciBjb21tb24gb2NjdXJyZW5jZXNcbiAgICBpZihkZWFkLmhhc0ZhY3Rpb24oRmFjdGlvbnMuUExBWUVSKSkge1xuICAgICAgdGhpcy5hbGlnbiAtPSA1MDtcbiAgICB9XG4gIH1cbiAgXG4gIGFjdCgpIHtcbiAgICB2YXIgZW5naW5lID0gdGhpcy5nYW1lLmVuZ2luZTtcbiAgICBlbmdpbmUubG9jaygpO1xuICAgIFxuICAgIHN1cGVyLmFjdCgpO1xuICAgIFxuICAgIHRoaXMucmVidWlsZFBhdGhpbmdNYXAoKTtcbiAgICBcbiAgICBpZih0aGlzLmN1cnJlbnRUdXJuICUgdGhpcy5nZXRTcGF3blN0ZXBzKCkgPT09IDApIHtcbiAgICAgIHRoaXMuc3Bhd25Nb25zdGVyKCk7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuZ2FtZS5yZWZyZXNoKCk7XG4gICAgXG4gICAgc2V0VGltZW91dCgoKSA9PiBlbmdpbmUudW5sb2NrKCksIFNFVFRJTkdTLmdhbWUudHVybkRlbGF5L0dhbWVTdGF0ZS5wbGF5ZXJzLmxlbmd0aCk7XG4gIH1cbiAgXG4gIHJlYnVpbGRQYXRoaW5nTWFwKCkge1xuICAgIGxldCBjYW5QYXNzID0gKHgsIHkpID0+IHtcbiAgICAgIGxldCBlbnRpdHkgPSBHYW1lU3RhdGUud29ybGQuZ2V0RW50aXR5KHgsIHksIHRoaXMueik7XG4gICAgICBsZXQgaXNBdHRhY2thYmxlID0gZW50aXR5ICYmIHRoaXMuY2FuQXR0YWNrKGVudGl0eSk7XG4gICAgICBsZXQgaXNNZSA9IHRoaXMueCA9PT0geCAmJiB0aGlzLnkgPT09IHk7XG4gICAgICByZXR1cm4gR2FtZVN0YXRlLndvcmxkLmlzVGlsZVBhc3NhYmxlKHgsIHksIHRoaXMueikgfHwgaXNNZSB8fCBpc0F0dGFja2FibGU7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLl9wYXRoID0gbmV3IFJPVC5QYXRoLkRpamtzdHJhKHRoaXMueCwgdGhpcy55LCBjYW5QYXNzLCB7IHRvcG9sb2d5OiA4IH0pO1xuICB9XG4gIFxuICBkaWUoa2lsbGVyKSB7XG4gICAgc3VwZXIuZGllKGtpbGxlcik7XG4gICAgR2FtZVN0YXRlLmdhbWUuZ2FtZU92ZXIoKTtcbiAgICBHYW1lU3RhdGUuZ2FtZS5lbmdpbmUubG9jaygpO1xuICB9XG4gIFxuICBzcGF3bk1vbnN0ZXIoKSB7XG4gICAgTW9uc3RlclNwYXduZXIuc3Bhd24odGhpcyk7XG4gIH1cbiAgXG4gIGRlc2NlbmQoKSB7XG4gICAgbGV0IG5ld0Zsb29yID0gR2FtZVN0YXRlLmN1cnJlbnRGbG9vciA9IEdhbWVTdGF0ZS5jdXJyZW50Rmxvb3IrMTtcbiAgICBsZXQgc3RhaXJzID0gR2FtZVN0YXRlLndvcmxkLnN0YWlyc1tuZXdGbG9vcl0udXA7XG4gICAgR2FtZVN0YXRlLndvcmxkLm1vdmVFbnRpdHkodGhpcywgc3RhaXJzWzBdLCBzdGFpcnNbMV0sIG5ld0Zsb29yKTtcbiAgfVxuICBcbiAgYXNjZW5kKCkge1xuICAgIEdhbWVTdGF0ZS5jdXJyZW50Rmxvb3ItLTtcbiAgfVxuICBcbiAgZ2V0U2NvcmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFR1cm4gKyB0aGlzLmdvbGQgKyB0aGlzLnRvdGFsWHBFYXJuZWQgKyB0aGlzLmtwRWFybmVkO1xuICB9XG59IiwiXG5pbXBvcnQgbG9hZFZhbHVlIGZyb20gJy4uL2xpYi92YWx1ZS1hc3NpZ24nO1xuXG5jb25zdCBkZWZhdWx0Q2ZnID0ge1xuICBhYyAgOiAwLFxuICBocCAgOiAwLFxuICBtcCAgOiAwLFxuICBzdHIgOiAwLFxuICBjb24gOiAwLFxuICBpbnQgOiAwLFxuICBkZXggOiAwLFxuICB3aXMgOiAwLFxuICBjaGEgOiAwLFxuICBsdWsgOiAwLFxuICBzcGVlZDogMCxcbiAgc2lnaHQ6IDAsXG4gIHNwYXduU3RlcHM6IDAsXG4gIHRpdGxlczogW10sXG4gIGF0dGFja3M6IFtdXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9mZXNzaW9uIHtcbiAgY29uc3RydWN0b3IoY29uZmlnID0ge30pIHtcbiAgICBjb25maWcgPSBfLmNsb25lKGNvbmZpZyk7IC8vIHRvIHByZXZlbnQgb3ZlcndyaXRpbmcgc3R1ZmZcbiAgICBpZighY29uZmlnLmFkZEZhY3Rpb25zKSBjb25maWcuYWRkRmFjdGlvbnMgPSBbXTtcbiAgICBjb25maWcuYWRkRmFjdGlvbnMucHVzaCh0aGlzLmNvbnN0cnVjdG9yLm5hbWUpO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIF8uZXh0ZW5kKHRoaXMsIGRlZmF1bHRDZmcsIGNvbmZpZywgbG9hZFZhbHVlKTtcbiAgICB0aGlzLmxldmVsID0gMTtcbiAgICB0aGlzLnRpdGxlID0gdGhpcy50aXRsZXNbMF07XG4gIH1cbiAgbGV2ZWx1cCgpIHtcbiAgICB0aGlzLmxldmVsKys7XG4gICAgaWYodGhpcy50aXRsZXNbdGhpcy5sZXZlbC0xXSkge1xuICAgICAgdGhpcy50aXRsZSA9IHRoaXMudGl0bGVzW3RoaXMubGV2ZWwtMV07XG4gICAgfVxuICB9XG59IiwiXG5pbXBvcnQgbG9hZFZhbHVlIGZyb20gJy4uL2xpYi92YWx1ZS1hc3NpZ24nO1xuXG5jb25zdCBkZWZhdWx0U2xvdHMgPSB7XG4gIGhhbmRzOiAgMixcbiAgaGVhZDogICAxLFxuICBib2R5OiAgIDEsXG4gIGZlZXQ6ICAgMixcbiAgd3Jpc3Q6ICAyLFxuICBjbG9hazogIDEsXG4gIG5lY2s6ICAgMSxcbiAgcmluZzogICAyXG59O1xuXG5jb25zdCBkZWZhdWx0U3RhdHMgPSB7XG4gIGFjICA6IDAsXG4gIGhwICA6IDAsXG4gIG1wICA6IDAsXG4gIHN0ciA6IDAsXG4gIGNvbiA6IDAsXG4gIGludCA6IDAsXG4gIGRleCA6IDAsXG4gIHdpcyA6IDAsXG4gIGNoYSA6IDAsXG4gIGx1ayA6IDAsXG4gIHNwZWVkOiAwLFxuICBzaWdodDogMCxcbiAgc3Bhd25TdGVwczogMCxcbiAgYXR0YWNrczogW11cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJhY2Uge1xuICBjb25zdHJ1Y3RvcihvcHRzID0ge30pIHtcbiAgICBvcHRzID0gXy5jbG9uZShvcHRzKTsgLy8gdG8gcHJldmVudCBvdmVyd3JpdGluZyBzdHVmZlxuICAgIHRoaXMuc2xvdHMgPSBfLmV4dGVuZCh7fSwgZGVmYXVsdFNsb3RzLCBvcHRzLnNsb3RzKTtcbiAgICB0aGlzLmFkZEZhY3Rpb25zID0gW3RoaXMuY29uc3RydWN0b3IubmFtZV07XG4gICAgXy5leHRlbmQodGhpcywgZGVmYXVsdFN0YXRzLCBvcHRzLnN0YXRzLCBsb2FkVmFsdWUpO1xuICB9XG4gIGNhbkVxdWlwKG93bmVyLCBpdGVtKSB7XG4gICAgbGV0IHNsb3QgPSBpdGVtLmdldFBhcmVudFR5cGUoKTtcbiAgICBsZXQgc2xvdHNUYWtlbiA9IG93bmVyLnNsb3RzVGFrZW4oc2xvdCk7XG4gICAgbGV0IHRvdGFsU2xvdHMgPSB0aGlzLnNsb3RzW3Nsb3RdO1xuICAgIGxldCBpdGVtU2xvdHMgPSBpdGVtLnNsb3RzVGFrZW47XG4gICAgcmV0dXJuIGl0ZW1TbG90cyA8PSB0b3RhbFNsb3RzIC0gc2xvdHNUYWtlbjtcbiAgfVxufSIsIlxuaW1wb3J0IEdhbWVTdGF0ZSBmcm9tICcuLi9pbml0L2dhbWVzdGF0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lc3NhZ2VRdWV1ZSB7XG4gIHN0YXRpYyBhZGQobWVzc2FnZU9iaikge1xuICAgIEdhbWVTdGF0ZS5tZXNzYWdlcy51bnNoaWZ0KHsgdHVybnNMZWZ0OiA0LCBtZXNzYWdlOiBtZXNzYWdlT2JqLm1lc3NhZ2UgfSk7XG4gICAgR2FtZVN0YXRlLm1lc3NhZ2VzLmxlbmd0aCA9IDUwOyAvLyBjYXAgdGhlIG1lc3NhZ2VzIG9mZiBhdCB0aGUgbGFzdCA1MFxuICB9XG4gIFxuICBzdGF0aWMgdmlld0FsbE1lc3NhZ2VzKCkge1xuICAgIEdhbWVTdGF0ZS5tZXNzYWdlcyA9IF8oR2FtZVN0YXRlLm1lc3NhZ2VzKVxuICAgICAgLmNvbXBhY3QoKVxuICAgICAgLmVhY2goKG1zZykgPT4gbXNnLnR1cm5zTGVmdC0tKVxuICAgICAgLnJlamVjdCgobXNnKSA9PiBtc2cudHVybnNMZWZ0IDw9IDApXG4gICAgICAudmFsdWUoKTtcbiAgfVxufSIsIlxuaW1wb3J0IFNFVFRJTkdTIGZyb20gJy4uL2NvbnN0YW50cy9zZXR0aW5ncyc7XG5pbXBvcnQgR2FtZVN0YXRlIGZyb20gJy4uL2luaXQvZ2FtZXN0YXRlJztcblxuZXhwb3J0IGNsYXNzIFNjcmVlbiB7XG4gIHN0YXRpYyBlbnRlcigpIHt9XG4gIHN0YXRpYyBleGl0KCkgIHt9XG4gIHN0YXRpYyByZW5kZXIoKSB7fVxuICBzdGF0aWMgaGFuZGxlSW5wdXQoKSB7fVxuICBzdGF0aWMgZHJhd0NlbnRlclRleHQoZGlzcGxheSwgeSwgdGV4dCkge1xuICAgIGxldCB4ID0gTWF0aC5mbG9vcihTRVRUSU5HUy5zY3JlZW4ud2lkdGgvMikgLSBNYXRoLmZsb29yKHRleHQubGVuZ3RoLzIpO1xuICAgIGRpc3BsYXkuZHJhd1RleHQoeCwgeSwgdGV4dCk7XG4gICAgcmV0dXJuIHsgeCwgeSB9O1xuICB9XG4gIHN0YXRpYyBkcmF3TGVmdFRleHQoZGlzcGxheSwgeSwgdGV4dCkge1xuICAgIGRpc3BsYXkuZHJhd1RleHQoMCwgeSwgdGV4dCk7XG4gIH1cbiAgc3RhdGljIGRyYXdMZWZ0VGV4dE5vVHJpbShkaXNwbGF5LCB5LCB0ZXh0ID0gJycpIHtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgZGlzcGxheS5kcmF3KGksIHksIHRleHRbaV0pO1xuICAgIH1cbiAgfVxuICBzdGF0aWMgcGFkVGV4dCh0ZXh0LCB3aWR0aCkge1xuICAgIHJldHVybiBfLnBhZCh0ZXh0LCB3aWR0aCk7XG4gIH1cbiAgc3RhdGljIGdldE1haW5QbGF5ZXIoKSB7XG4gICAgcmV0dXJuIF8ubWF4KEdhbWVTdGF0ZS5wbGF5ZXJzLCAnY3VycmVudFR1cm4nKTtcbiAgfVxuICBzdGF0aWMgY2hhbmdlU2NyZWVuV2l0aERlbGF5KG5ld1NjcmVlbiwgZGVsYXkpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IEdhbWVTdGF0ZS5nYW1lLnN3aXRjaFNjcmVlbihuZXdTY3JlZW4pLCBkZWxheSk7XG4gIH1cbn1cblxuY2xhc3MgU2Nyb2xsaW5nU2NyZWVuIGV4dGVuZHMgU2NyZWVuIHt9XG5leHBvcnQgY2xhc3MgU2luZ2xlU2Nyb2xsaW5nU2NyZWVuIGV4dGVuZHMgU2Nyb2xsaW5nU2NyZWVuIHtcbiAgc3RhdGljIGVudGVyKCkge1xuICAgIHRoaXMuY3VycmVudEluZGV4ID0gMDtcbiAgfVxuICBzdGF0aWMgcmVuZGVyKGRpc3BsYXkpIHtcbiAgICBkaXNwbGF5LmNsZWFyKCk7XG4gICAgdGhpcy5kcmF3TGVmdFRleHQoZGlzcGxheSwgMCwgdGhpcy50aXRsZSk7XG4gICAgdGhpcy5kcmF3TGVmdFRleHQoZGlzcGxheSwgMSwgXy5yZXBlYXQoJy0nLCB0aGlzLnRpdGxlLmxlbmd0aCkpO1xuICAgIFxuICAgIGxldCByZW1haW5pbmdIZWlnaHQgPSBTRVRUSU5HUy5zY3JlZW4uaGVpZ2h0IC0gMztcbiAgICBsZXQgc2xpY2UgPSB0aGlzLnNjcm9sbENvbnRlbnQuc2xpY2UodGhpcy5jdXJyZW50SW5kZXgsIHJlbWFpbmluZ0hlaWdodCt0aGlzLmN1cnJlbnRJbmRleCk7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHJlbWFpbmluZ0hlaWdodDsgaSsrKSB7XG4gICAgICB0aGlzLmRyYXdMZWZ0VGV4dE5vVHJpbShkaXNwbGF5LCBpKzIsIHNsaWNlW2ldKTtcbiAgICB9XG4gICAgXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZihzbGljZS5sZW5ndGggPCByZW1haW5pbmdIZWlnaHQpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VTY3JlZW5XaXRoRGVsYXkodGhpcy5uZXh0U2NyZWVuLCA0MDAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4Kys7XG4gICAgICAgIHRoaXMucmVuZGVyKGRpc3BsYXkpO1xuICAgICAgfVxuICAgIH0sIDIwMDApO1xuICB9XG59XG4vLyBjbGFzcyBTcGxpdFNjcm9sbGluZ1NjcmVlbiBleHRlbmRzIFNjcm9sbGluZ1NjcmVlbiB7fSIsIlxuaW1wb3J0IHsgU2luZ2xlU2Nyb2xsaW5nU2NyZWVuIH0gZnJvbSAnLi4vc2NyZWVuJztcbmltcG9ydCBSZXNwYXduU2NyZWVuIGZyb20gJy4vcmVzcGF3bic7XG5cbmV4cG9ydCBjbGFzcyBTaW5nbGVDb25kdWN0U2NyZWVuIGV4dGVuZHMgU2luZ2xlU2Nyb2xsaW5nU2NyZWVuIHtcbiAgc3RhdGljIGVudGVyKCkge1xuICAgIHN1cGVyLmVudGVyKCk7XG4gICAgbGV0IHRhcmdldCA9IHRoaXMuZ2V0TWFpblBsYXllcigpO1xuICAgIGxldCBjb25kdWN0SGFzaCA9IHRhcmdldC5jb25kdWN0O1xuICAgIGxldCBzb3J0ZWRDb25kdWN0ID0gXyhjb25kdWN0SGFzaCkudmFsdWVzKCkuY29tcGFjdCgpLnNvcnRCeSgpLnZhbHVlKCk7XG4gICAgdGhpcy5zY3JvbGxDb250ZW50ID0gc29ydGVkQ29uZHVjdDtcbiAgICB0aGlzLnRpdGxlID0gYCR7dGFyZ2V0Lm5hbWV9J3MgQ29uZHVjdCAoJHtzb3J0ZWRDb25kdWN0Lmxlbmd0aH0gdHlwZXMpYDsgLy8gc2hvcnRlbiB0aGlzIGZvciBzcGxpdHNjcmVlblxuICAgIHRoaXMubmV4dFNjcmVlbiA9IFJlc3Bhd25TY3JlZW47XG4gICAgaWYoIXRoaXMuc2Nyb2xsQ29udGVudC5sZW5ndGgpIHtcbiAgICAgIHRoaXMuc2Nyb2xsQ29udGVudCA9IFsnQWxsIGNvbmR1Y3QgYnJva2VuLiddO1xuICAgIH1cbiAgfVxufVxuLy8gY2xhc3MgU3BsaXRDb25kdWN0c1NjcmVlbiBleHRlbmRzIFNwbGl0U2Nyb2xsaW5nU2NyZWVuIHt9IiwiXG5pbXBvcnQgeyBTY3JlZW4gfSBmcm9tICcuLi9zY3JlZW4nO1xuaW1wb3J0IHsgU2luZ2xlVmFucXVpc2hlZFNjcmVlbiB9IGZyb20gJy4vdmFucXVpc2hlZCc7XG5pbXBvcnQgR2FtZVN0YXRlIGZyb20gJy4uLy4uL2luaXQvZ2FtZXN0YXRlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVhZFNjcmVlbiBleHRlbmRzIFNjcmVlbiB7XG4gIHN0YXRpYyBlbnRlcigpIHtcbiAgICBHYW1lU3RhdGUuZ2FtZS5lbmdpbmUubG9jaygpO1xuICAgIHRoaXMuY2hhbmdlU2NyZWVuV2l0aERlbGF5KFNpbmdsZVZhbnF1aXNoZWRTY3JlZW4sIDUwMDApO1xuICB9XG4gIHN0YXRpYyByZW5kZXIoZGlzcGxheSkge1xuICAgIGNvbnN0IFRPTUJTVE9ORV9XSURUSCA9IDI2O1xuICAgIGNvbnN0IGdvb2RieWVzID0gWydHb29kYnllJywgJ1NheW9uYXJhJywgJ0NpYW8nLCAnQWRpb3MnLCAnVG9vZGxlcycsICdUYSB0YScsICdGYXJld2VsbCcsICdCeWUtYnllJywgJ0J5ZScsICdTbyBsb25nJywgJ1JJUCddO1xuXG4gICAgbGV0IGxhdGVzdERlYXRoID0gdGhpcy5nZXRNYWluUGxheWVyKCk7XG4gICAgbGV0IHNjb3JlID0gbGF0ZXN0RGVhdGguZ2V0U2NvcmUoKTtcbiAgICBsZXQgZmxvb3IgPSBHYW1lU3RhdGUuY3VycmVudEZsb29yICsgMTtcbiAgICBsZXQgcGFkZGVkTmFtZSA9IHRoaXMucGFkVGV4dChsYXRlc3REZWF0aC5uYW1lLCBUT01CU1RPTkVfV0lEVEgpO1xuICAgIGxldCBwYWRkZWRTY29yZSA9IHRoaXMucGFkVGV4dChgU2NvcmU6ICR7c2NvcmV9YCwgVE9NQlNUT05FX1dJRFRIKTtcbiAgICBsZXQgcGFkZGVkS2lsbGVyID0gdGhpcy5wYWRUZXh0KGxhdGVzdERlYXRoLmtpbGxlck5hbWUsIFRPTUJTVE9ORV9XSURUSCk7XG5cbiAgICBsZXQgZ29vZGJ5ZSA9IF8uc2FtcGxlKGdvb2RieWVzKTtcbiAgICBsZXQgbWFwTmFtZSA9IEdhbWVTdGF0ZS53b3JsZC50aWxlc1tHYW1lU3RhdGUuY3VycmVudEZsb29yXS5tYXBOYW1lO1xuICAgIGxldCBpID0gMztcblxuICAgIHRoaXMuZHJhd0NlbnRlclRleHQoZGlzcGxheSwgaSsrLCAgICAgICAgICAgICAgICBgLS0tLS0tLS0tLS0tLS0tLS0tYCk7XG4gICAgdGhpcy5kcmF3Q2VudGVyVGV4dChkaXNwbGF5LCBpKyssICAgICAgICAgICAgICAgJy8gICAgICAgICAgICAgICAgICBcXFxcJyk7XG4gICAgdGhpcy5kcmF3Q2VudGVyVGV4dChkaXNwbGF5LCBpKyssICAgICAgICAgICAgICAnLyAgICAgICAgUkVTVCAgICAgICAgXFxcXCcpO1xuICAgIHRoaXMuZHJhd0NlbnRlclRleHQoZGlzcGxheSwgaSsrLCAgICAgICAgICAgICAnLyAgICAgICAgICBJTiAgICAgICAgICBcXFxcJyk7XG4gICAgdGhpcy5kcmF3Q2VudGVyVGV4dChkaXNwbGF5LCBpKyssICAgICAgICAgICAgJy8gICAgICAgICBQT0lOVFMgICAgICAgICBcXFxcJyk7XG4gICAgdGhpcy5kcmF3Q2VudGVyVGV4dChkaXNwbGF5LCBpKyssICAgICAgICAgICAnLyAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcXCcpO1xuICAgIHRoaXMuZHJhd0NlbnRlclRleHQoZGlzcGxheSwgaSsrLCAgICAgICAgICAgYHwke3BhZGRlZE5hbWV9fGApO1xuICAgIHRoaXMuZHJhd0NlbnRlclRleHQoZGlzcGxheSwgaSsrLCAgICAgICAgICAgYHwke3BhZGRlZFNjb3JlfXxgKTtcbiAgICB0aGlzLmRyYXdDZW50ZXJUZXh0KGRpc3BsYXksIGkrKywgICAgICAgICAgIGB8ICAgICAgICAgICAgICAgICAgICAgICAgICB8YCk7XG4gICAgdGhpcy5kcmF3Q2VudGVyVGV4dChkaXNwbGF5LCBpKyssICAgICAgICAgICBgfCAgICAgICAgIHNsYWluIGJ5ICAgICAgICAgfGApO1xuICAgIHRoaXMuZHJhd0NlbnRlclRleHQoZGlzcGxheSwgaSsrLCAgICAgICAgICAgYHwke3BhZGRlZEtpbGxlcn18YCk7XG4gICAgdGhpcy5kcmF3Q2VudGVyVGV4dChkaXNwbGF5LCBpKyssICAgICAgICAgICBgfCAgICAgICAgICAgICAgICAgICAgICAgICAgfGApO1xuICAgIHRoaXMuZHJhd0NlbnRlclRleHQoZGlzcGxheSwgaSsrLCAgICAgIGAmICAqIHwgICAgICAqICAgICAgICAgICAgICAgICAgICQgICAgICpgKTtcbiAgICB0aGlzLmRyYXdDZW50ZXJUZXh0KGRpc3BsYXksIGkrKywgICBgX19cXFxcXFxcXCkvX11ffF9fX19cXFxcXFxcXChcXFxcXFxcXF9fX19fLy9cXFxcL19fX19fX19cXFxcey9fX19ffF9fX19gKTtcblxuICAgIGkrKztcblxuICAgIHRoaXMuZHJhd0xlZnRUZXh0KGRpc3BsYXksIGkrKywgICAgIGAke2dvb2RieWV9LCAke2xhdGVzdERlYXRoLm5hbWV9IHRoZSAke2xhdGVzdERlYXRoLmdldEFsaWduKCl9ICR7bGF0ZXN0RGVhdGgucmFjZX0gJHtsYXRlc3REZWF0aC5wcm9mZXNzaW9ufS4uLmApO1xuICAgIHRoaXMuZHJhd0xlZnRUZXh0KGRpc3BsYXksIGkrKywgICAgIGBZb3Ugd2VyZSBsZXZlbCAke2xhdGVzdERlYXRoLmxldmVsfS8ke2xhdGVzdERlYXRoLnByb2Zlc3Npb25JbnN0LmxldmVsfSBhZnRlciBlYXJuaW5nICR7bGF0ZXN0RGVhdGgudG90YWxYcEVhcm5lZH0gZXhwZXJpZW5jZS5gKTtcbiAgICB0aGlzLmRyYXdMZWZ0VGV4dChkaXNwbGF5LCBpKyssICAgICBgWW91IGRpZWQgaW4gJHttYXBOYW1lfSBvbiBkdW5nZW9uIGxldmVsICR7Zmxvb3J9LmApO1xuICAgIHRoaXMuZHJhd0xlZnRUZXh0KGRpc3BsYXksIGkrKywgICAgIGBZb3Ugc2NvcmVkICR7c2NvcmV9IHBvaW50cyBhbmQgJHtsYXRlc3REZWF0aC5nb2xkfSBnb2xkIG92ZXIgJHtsYXRlc3REZWF0aC5jdXJyZW50VHVybn0gc3RlcHMuYCk7XG4gIH1cbn0iLCJcbmltcG9ydCB7IFNjcmVlbiB9IGZyb20gJy4uL3NjcmVlbic7XG5pbXBvcnQgTWVzc2FnZVF1ZXVlIGZyb20gJy4uL21lc3NhZ2UtaGFuZGxlcic7XG5pbXBvcnQgR2FtZVN0YXRlIGZyb20gJy4uLy4uL2luaXQvZ2FtZXN0YXRlJztcbmltcG9ydCBTRVRUSU5HUyBmcm9tICcuLi8uLi9jb25zdGFudHMvc2V0dGluZ3MnO1xuXG5leHBvcnQgY2xhc3MgR2FtZVNjcmVlbiBleHRlbmRzIFNjcmVlbiB7XG5cbiAgc3RhdGljIGdldFNjcmVlbk9mZnNldHMoY2VudGVyUG9pbnQgPSBHYW1lU3RhdGUucGxheWVyc1swXSwgd2lkdGggPSBTRVRUSU5HUy5zY3JlZW4ud2lkdGgsIGhlaWdodCA9IFNFVFRJTkdTLnNjcmVlbi5oZWlnaHQpIHtcbiAgICB2YXIgdG9wTGVmdFggPSBNYXRoLm1heCgwLCBjZW50ZXJQb2ludC54IC0gTWF0aC5yb3VuZCh3aWR0aC8yKSk7XG4gICAgdG9wTGVmdFggPSBNYXRoLm1pbih0b3BMZWZ0WCwgR2FtZVN0YXRlLndvcmxkLndpZHRoIC0gd2lkdGgpO1xuXG4gICAgdmFyIHRvcExlZnRZID0gTWF0aC5tYXgoMCwgY2VudGVyUG9pbnQueSAtIE1hdGgucm91bmQoaGVpZ2h0LzIpKTtcbiAgICB0b3BMZWZ0WSA9IE1hdGgubWluKHRvcExlZnRZLCBHYW1lU3RhdGUud29ybGQuaGVpZ2h0IC0gaGVpZ2h0KTtcblxuICAgIHJldHVybiB7XG4gICAgICB4OiB0b3BMZWZ0WCxcbiAgICAgIHk6IHRvcExlZnRZXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkcmF3VGlsZXMoZGlzcGxheSwgY2VudGVyUG9pbnQsIHdpZHRoID0gU0VUVElOR1Muc2NyZWVuLndpZHRoLCBoZWlnaHQgPSBTRVRUSU5HUy5zY3JlZW4uaGVpZ2h0LCBvZmZzZXQgPSB0aGlzLmdldFNjcmVlbk9mZnNldHMoKSkge1xuXG4gICAgdmFyIHZpc2libGUgPSBbXTtcblxuICAgIHZhciB3b3JsZCA9IEdhbWVTdGF0ZS53b3JsZDtcbiAgICB2YXIgekxldmVsID0gY2VudGVyUG9pbnQuejtcblxuICAgIHdvcmxkLmZvdlt6TGV2ZWxdLmNvbXB1dGUoXG4gICAgICBjZW50ZXJQb2ludC54LCBjZW50ZXJQb2ludC55LCBjZW50ZXJQb2ludC5nZXRTaWdodCgpLFxuICAgICAgKHgsIHkpID0+IHtcbiAgICAgICAgaWYoIXZpc2libGVbeF0pIHZpc2libGVbeF0gPSBbXTtcbiAgICAgICAgdmlzaWJsZVt4XVt5XSA9IHRydWU7XG4gICAgICAgIHdvcmxkLnNldEV4cGxvcmVkKHgsIHksIHpMZXZlbCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgKTtcblxuICAgIGZvcihsZXQgeCA9IG9mZnNldC54OyB4IDwgb2Zmc2V0LnggKyB3aWR0aDsgeCsrKSB7XG4gICAgICBmb3IobGV0IHkgPSBvZmZzZXQueTsgeSA8IG9mZnNldC55ICsgaGVpZ2h0OyB5KyspIHtcbiAgICAgICAgaWYoIUdhbWVTdGF0ZS53b3JsZC5pc0V4cGxvcmVkKHgsIHksIGNlbnRlclBvaW50LnopICYmICFHYW1lU3RhdGUucmVuZGVyQWxsKSBjb250aW51ZTtcblxuICAgICAgICB2YXIgdGlsZSA9IHdvcmxkLmdldFRpbGUoeCwgeSwgekxldmVsKTtcbiAgICAgICAgaWYoIXRpbGUpIGNvbnRpbnVlOyAvLyBubyBvdXQgb2YgYm91bmRzIGRyYXdpbmdcblxuICAgICAgICB2YXIgZ2x5cGggPSB0aWxlLmdseXBoO1xuICAgICAgICB2YXIgZm9yZWdyb3VuZCA9IGdseXBoLmZnO1xuICAgICAgICB2YXIgYmFja2dyb3VuZCA9IGdseXBoLmJnO1xuXG4gICAgICAgIGlmKHZpc2libGVbeF0gJiYgdmlzaWJsZVt4XVt5XSkge1xuICAgICAgICAgIGxldCBpdGVtcyA9IHdvcmxkLmdldEl0ZW1zQXQoeCwgeSwgekxldmVsKTtcbiAgICAgICAgICBpZihpdGVtcyAmJiBpdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBnbHlwaCA9IGl0ZW1zW2l0ZW1zLmxlbmd0aC0xXS5nbHlwaDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgZW50aXR5ID0gd29ybGQuZ2V0RW50aXR5KHgsIHksIHpMZXZlbCk7XG4gICAgICAgICAgaWYoZW50aXR5KSB7XG4gICAgICAgICAgICBnbHlwaCA9IGVudGl0eS5nbHlwaDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3JlZ3JvdW5kID0gZ2x5cGguZmc7XG4gICAgICAgICAgYmFja2dyb3VuZCA9ICcjMzMzJztcblxuICAgICAgICAgIC8vIHByZXZlbnQgdGFraW5nIGNvbG9yIGF3YXkgZnJvbSB0aGluZ3MgdGhhdCBoYXZlIGl0XG4gICAgICAgIH0gZWxzZSBpZighZm9yZWdyb3VuZCkge1xuICAgICAgICAgIGZvcmVncm91bmQgPSAnIzU1NSc7XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwbGF5LmRyYXcoeCAtIG9mZnNldC54LCB5IC0gb2Zmc2V0LnksIGdseXBoLmtleSwgZm9yZWdyb3VuZCwgYmFja2dyb3VuZCk7XG5cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNpbmdsZUdhbWVTY3JlZW4gZXh0ZW5kcyBHYW1lU2NyZWVuIHtcblxuICBzdGF0aWMgZHJhd01lc3NhZ2VzKGRpc3BsYXksIHBsYXllcikge1xuXG4gICAgaWYoIUdhbWVTdGF0ZS5tZXNzYWdlcykgcmV0dXJuO1xuXG4gICAgZm9yKGxldCB5ID0gMDsgeSA8IDM7IHkrKykge1xuXG4gICAgICBmb3IobGV0IHggPSAwOyB4IDwgU0VUVElOR1Muc2NyZWVuLndpZHRoOyB4KyspIHtcbiAgICAgICAgZGlzcGxheS5kcmF3VGV4dCh4LCB5LCAnICcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvcihsZXQgeSA9IDA7IHkgPCAzOyB5KyspIHtcbiAgICAgIHZhciBtZXNzYWdlT2JqID0gR2FtZVN0YXRlLm1lc3NhZ2VzW3ldO1xuICAgICAgaWYoIW1lc3NhZ2VPYmogfHwgbWVzc2FnZU9iai50dXJuIDwgcGxheWVyLmN1cnJlbnRUdXJuIC0gNCkgY29udGludWU7XG4gICAgICBkaXNwbGF5LmRyYXdUZXh0KDAsIHksIG1lc3NhZ2VPYmoubWVzc2FnZSk7XG4gICAgfVxuXG4gICAgTWVzc2FnZVF1ZXVlLnZpZXdBbGxNZXNzYWdlcygpO1xuICB9XG5cbiAgc3RhdGljIGRyYXdIVUQoZGlzcGxheSwgcGxheWVyKSB7XG4gICAgdmFyIHRhZyA9IGAke3BsYXllci5uYW1lfSB0aGUgJHtwbGF5ZXIuZ2V0QWxpZ24oKX0gJHtwbGF5ZXIubGV2ZWx9LyR7cGxheWVyLnByb2Zlc3Npb25JbnN0LmxldmVsfSAke3BsYXllci5yYWNlfSAke3BsYXllci5wcm9mZXNzaW9uSW5zdC50aXRsZX0gKCR7cGxheWVyLnhwLmN1cn0vJHtwbGF5ZXIueHAubWF4fSlgO1xuICAgIHZhciBzdGF0cyA9IGBTVFI6JHtwbGF5ZXIuZ2V0U3RyKCl9IERFWDoke3BsYXllci5nZXREZXgoKX0gQ09OOiR7cGxheWVyLmdldENvbigpfSBJTlQ6JHtwbGF5ZXIuZ2V0SW50KCl9IFdJUzoke3BsYXllci5nZXRXaXMoKX0gQ0hBOiR7cGxheWVyLmdldENoYSgpfWA7XG4gICAgdmFyIG1pc2NJbmZvID0gYEZsb29yOiR7MStHYW1lU3RhdGUuY3VycmVudEZsb29yfSAkOiR7cGxheWVyLmdvbGR9IEhQOiR7cGxheWVyLmhwLmN1cn0vJHtwbGF5ZXIuaHAubWF4fSBNUDoke3BsYXllci5tcC5jdXJ9LyR7cGxheWVyLm1wLm1heH0gQUM6JHtwbGF5ZXIuZ2V0QUMoKX0gVHVybjoke3BsYXllci5jdXJyZW50VHVybn1gO1xuXG4gICAgZm9yKGxldCB5ID0gMTsgeSA8PSAzOyB5KyspIHtcbiAgICAgIGZvcihsZXQgeCA9IDA7IHggPCBTRVRUSU5HUy5zY3JlZW4ud2lkdGg7IHgrKykge1xuICAgICAgICBkaXNwbGF5LmRyYXdUZXh0KHgsIFNFVFRJTkdTLnNjcmVlbi5oZWlnaHQgLSB5LCAnICcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGRpc3BsYXkuZHJhd1RleHQoMCwgU0VUVElOR1Muc2NyZWVuLmhlaWdodCAtIDMsIHRhZyk7XG4gICAgZGlzcGxheS5kcmF3VGV4dCgwLCBTRVRUSU5HUy5zY3JlZW4uaGVpZ2h0IC0gMiwgc3RhdHMpO1xuICAgIGRpc3BsYXkuZHJhd1RleHQoMCwgU0VUVElOR1Muc2NyZWVuLmhlaWdodCAtIDEsIG1pc2NJbmZvKTtcblxuICAgIGxldCByZWRyYXdIcCA9IChmb3JlZ3JvdW5kKSA9PiB7XG4gICAgICBsZXQgc3RyID0gKCcnK3BsYXllci5ocC5jdXIpO1xuICAgICAgbGV0IGluZGV4ID0gbWlzY0luZm8uaW5kZXhPZihgSFA6JHtwbGF5ZXIuaHAuY3VyfWApKzM7XG4gICAgICBsZXQgbGVuZ3RoID0gc3RyLmxlbmd0aDtcbiAgICAgIGxldCBzdHJJZHggPSAwO1xuICAgICAgZm9yKGxldCBpID0gaW5kZXg7IGkgPCBpbmRleCtsZW5ndGg7IGkrKykge1xuICAgICAgICBkaXNwbGF5LmRyYXcoaSwgU0VUVElOR1Muc2NyZWVuLmhlaWdodCAtIDEsIHN0cltzdHJJZHhdLCBmb3JlZ3JvdW5kKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYocGxheWVyLmhwLmx0ZVBlcmNlbnQoMjApKSB7XG4gICAgICByZWRyYXdIcCgnIzdmMDAwMCcpO1xuICAgIH0gZWxzZSBpZihwbGF5ZXIuaHAubHRlUGVyY2VudCg1MCkpIHtcbiAgICAgIHJlZHJhd0hwKCcjZmZkNzAwJyk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHJlbmRlcihkaXNwbGF5KSB7XG4gICAgdmFyIHBsYXllciA9IEdhbWVTdGF0ZS5wbGF5ZXJzWzBdO1xuICAgIHRoaXMuZHJhd1RpbGVzKGRpc3BsYXksIHBsYXllcik7XG4gICAgdGhpcy5kcmF3SFVEKGRpc3BsYXksIHBsYXllcik7XG4gICAgdGhpcy5kcmF3TWVzc2FnZXMoZGlzcGxheSwgcGxheWVyKTtcbiAgfVxufVxuXG4vLyBleHBvcnQgY2xhc3MgU3BsaXRHYW1lU2NyZWVuIGV4dGVuZHMgR2FtZVNjcmVlbiB7fSIsIlxuaW1wb3J0IHsgU2NyZWVuIH0gZnJvbSAnLi4vc2NyZWVuJztcblxuZXhwb3J0IGNsYXNzIExvYWRTY3JlZW4gZXh0ZW5kcyBTY3JlZW4ge1xuICBzdGF0aWMgZW50ZXIoZGlzcGxheSkge1xuICAgIHRoaXMuZmxpY2tlciA9IDA7XG5cbiAgICBsZXQgZG90U3RhdHVzID0gWycuICAnLCAnLi4gJywgJy4uLicsICcgLi4nLCAnICAuJ107XG5cbiAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgZGlzcGxheS5jbGVhcigpO1xuICAgICAgdGhpcy5yZW5kZXIoZGlzcGxheSk7XG5cbiAgICAgIHRoaXMuZHJhd0NlbnRlclRleHQoZGlzcGxheSwgMTIsIGBHZW5lcmF0aW5nICR7ZG90U3RhdHVzW3RoaXMuZmxpY2tlcl19YCk7XG5cbiAgICAgIHRoaXMuZmxpY2tlciA9ICsrdGhpcy5mbGlja2VyICUgZG90U3RhdHVzLmxlbmd0aDtcbiAgICB9LCA1MDApO1xuICB9XG5cbiAgc3RhdGljIGV4aXQoKSB7XG4gICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG4gIH1cblxuICBzdGF0aWMgcmVuZGVyKGRpc3BsYXkpIHtcbiAgICB0aGlzLmRyYXdDZW50ZXJUZXh0KGRpc3BsYXksICAxMSwgJy1XZWxjb21lIHRvIFJvZ3VhdGhpYS0nKTtcbiAgfVxufSIsIlxuaW1wb3J0IHsgU2NyZWVuIH0gZnJvbSAnLi4vc2NyZWVuJztcbmltcG9ydCBTdGFydCBmcm9tICcuLi8uLi9pbml0L2dhbWUtc3RhcnRlcic7XG5cbi8vIHRoaXMgZXhpc3RzIHNvbGVseSB0byB0cmFuc2l0aW9uIGFuZCBzdGFydCBhIG5ldyBnYW1lLiBJJ20gYmFkLiA6KFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmV3R2FtZVNjcmVlbiBleHRlbmRzIFNjcmVlbiB7XG4gIHN0YXRpYyBlbnRlcigpIHtcbiAgICBTdGFydCgpO1xuICB9XG59IiwiXG5pbXBvcnQgU0VUVElOR1MgZnJvbSAnLi4vLi4vY29uc3RhbnRzL3NldHRpbmdzJztcbmltcG9ydCB7IFNjcmVlbiB9IGZyb20gJy4uL3NjcmVlbic7XG5pbXBvcnQgTmV3R2FtZVNjcmVlbiBmcm9tICcuL25ld2dhbWUnO1xuaW1wb3J0IEdhbWVTdGF0ZSBmcm9tICcuLi8uLi9pbml0L2dhbWVzdGF0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc3Bhd25TY3JlZW4gZXh0ZW5kcyBTY3JlZW4ge1xuICBzdGF0aWMgZW50ZXIoKSB7XG4gICAgLy8gd291bGQgYmUgbmljZSBpZiBpdCByZWRyZXcgcHJvcGVybHkgd2l0aG91dCBuZWVkaW5nIGR1cGxpY2F0ZXMgaW4gdGhlIGxpc3RcbiAgICB0aGlzLnBoYXNlcyA9IFsnLycsICcvJywgJ3wnLCAnfCcsICdcXFxcJywgJ1xcXFwnLCAnLScsICctJ107XG4gICAgdGhpcy5zdGFycyA9IFtdO1xuICAgIHRoaXMudGltZXIgPSAxNTtcblxuICAgIC8vIG9uZSB0aWNrIHBlciBzdGFyIG1vdmUsIDQgdGlja3MgPSBuZXcgc3RhciBhbmQgdGltZXIgY291bnRkb3duXG4gICAgdGhpcy50aWNrcyA9IHRoaXMudGltZXIgKiB0aGlzLnBoYXNlcy5sZW5ndGg7XG4gIH1cblxuICBzdGF0aWMgYWRkU3Rhcih4LCB5LCBsZW5ndGgpIHtcbiAgICBsZXQgbWluWCA9IHggLSAxO1xuICAgIGxldCBtYXhYID0geCArIGxlbmd0aCArIDE7XG4gICAgbGV0IG1pblkgPSB5IC0gMTtcbiAgICBsZXQgbWF4WSA9IHkgKyAxO1xuXG4gICAgbGV0IGluQmFkWm9uZSA9IHRydWU7XG4gICAgbGV0IHN0YXIgPSBudWxsO1xuXG4gICAgbGV0IGRpc3RCZXR3ZWVuID0gKG1lLCB0YXJnZXQpID0+IHtcbiAgICAgIGxldCBhID0gdGFyZ2V0LnggLSBtZS54O1xuICAgICAgbGV0IGIgPSB0YXJnZXQueSAtIG1lLnk7XG4gICAgICByZXR1cm4gTWF0aC5zcXJ0KGEqYSArIGIqYik7XG4gICAgfTtcblxuICAgIHdoaWxlKGluQmFkWm9uZSkge1xuICAgICAgbGV0IG15WCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludCgwLCBTRVRUSU5HUy5zY3JlZW4ud2lkdGgpO1xuICAgICAgbGV0IG15WSA9IFJPVC5STkcuZ2V0VW5pZm9ybUludCgwLCBTRVRUSU5HUy5zY3JlZW4uaGVpZ2h0KTtcbiAgICAgIGxldCBtZSA9IHsgeDogbXlYLCB5OiBteVkgfTtcblxuICAgICAgaWYoXy5maWx0ZXIodGhpcy5zdGFycywgKHN0YXIpID0+IGRpc3RCZXR3ZWVuKG1lLCBzdGFyKSA8IDQpLmxlbmd0aCAhPT0gMCB8fFxuICAgICAgICBteVggPj0gbWluWCAmJiBteVggPD0gbWF4WCAmJlxuICAgICAgICBteVkgPj0gbWluWSAmJiBteVkgPD0gbWF4WSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaW5CYWRab25lID0gZmFsc2U7XG4gICAgICBzdGFyID0geyB4OiBteVgsIHk6IG15WSwgcGhhc2U6IFJPVC5STkcuZ2V0VW5pZm9ybUludCgwLCB0aGlzLnBoYXNlcy5sZW5ndGgtMSkgfTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXJzLnB1c2goc3Rhcik7XG4gIH1cblxuICBzdGF0aWMgZHJhd1N0YXJzKGRpc3BsYXkpIHtcbiAgICBfLmVhY2godGhpcy5zdGFycywgKHN0YXIpID0+IHtcbiAgICAgIGRpc3BsYXkuZHJhdyhzdGFyLngsIHN0YXIueSwgdGhpcy5waGFzZXNbc3Rhci5waGFzZV0pO1xuICAgICAgc3Rhci5waGFzZSsrO1xuICAgICAgaWYoc3Rhci5waGFzZSA+IHRoaXMucGhhc2VzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgc3Rhci5waGFzZSA9IDA7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBzdGF0aWMgcmVuZGVyKGRpc3BsYXkpIHtcbiAgICBkaXNwbGF5LmNsZWFyKCk7XG4gICAgbGV0IHRleHQgPSBgUmVzcGF3bmluZyBpbiAke3RoaXMudGltZXJ9IHNlY29uZHMuLi5gO1xuICAgIGxldCB7IHgsIHkgfSA9IHRoaXMuZHJhd0NlbnRlclRleHQoZGlzcGxheSwgIDExLCB0ZXh0KTtcblxuICAgIGlmKHRoaXMudGlja3MgJSB0aGlzLnBoYXNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuYWRkU3Rhcih4LCB5LCB0ZXh0Lmxlbmd0aCk7XG4gICAgICB0aGlzLnRpbWVyLS07XG4gICAgfVxuXG4gICAgdGhpcy50aWNrcy0tO1xuXG4gICAgaWYodGhpcy50aWNrcyA8PSAwKSB7XG4gICAgICBHYW1lU3RhdGUuZ2FtZS5zYWZlU3dpdGNoU2NyZWVuKHRoaXMsIE5ld0dhbWVTY3JlZW4pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZHJhd1N0YXJzKGRpc3BsYXkpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5yZW5kZXIoZGlzcGxheSksIDEwMDAvdGhpcy5waGFzZXMubGVuZ3RoKTtcbiAgfVxufSIsIlxuaW1wb3J0IHsgU2luZ2xlU2Nyb2xsaW5nU2NyZWVuIH0gZnJvbSAnLi4vc2NyZWVuJztcbmltcG9ydCB7IFNpbmdsZUNvbmR1Y3RTY3JlZW4gfSBmcm9tICcuL2NvbmR1Y3QnO1xuXG5leHBvcnQgY2xhc3MgU2luZ2xlVmFucXVpc2hlZFNjcmVlbiBleHRlbmRzIFNpbmdsZVNjcm9sbGluZ1NjcmVlbiB7XG4gIHN0YXRpYyBlbnRlcigpIHtcbiAgICBzdXBlci5lbnRlcigpO1xuICAgIGxldCB0YXJnZXQgPSB0aGlzLmdldE1haW5QbGF5ZXIoKTtcbiAgICBsZXQga2lsbEhhc2ggPSB0YXJnZXQuY29ucXVlc3Q7XG4gICAgbGV0IHNvcnRlZEtpbGxzID0gXyhraWxsSGFzaCkua2V5cygpLm1hcCgobW9uKSA9PiAoeyBuYW1lOiBtb24sIG51bToga2lsbEhhc2hbbW9uXSB9KSkuc29ydEJ5KCduYW1lJykudmFsdWUoKTtcbiAgICB0aGlzLnNjcm9sbENvbnRlbnQgPSBfLm1hcChzb3J0ZWRLaWxscywgKGtpbGwpID0+IGAke18ucGFkTGVmdChraWxsLm51bSwgNCl9ICR7a2lsbC5uYW1lfWApO1xuICAgIGxldCB0b3RhbEtpbGxzID0gXy5yZWR1Y2Uoc29ydGVkS2lsbHMsICgocHJldiwgY3VyKSA9PiBwcmV2ICsgY3VyLm51bSksIDApO1xuICAgIHRoaXMudGl0bGUgPSBgJHt0YXJnZXQubmFtZX0ncyBDb25xdWVzdCAoJHtzb3J0ZWRLaWxscy5sZW5ndGh9IHR5cGVzfCR7dG90YWxLaWxsc30gdG90YWwpYDsgLy8gc2hvcnRlbiB0aGlzIGZvciBzcGxpdHNjcmVlblxuICAgIGlmKCF0aGlzLnNjcm9sbENvbnRlbnQubGVuZ3RoKSB7XG4gICAgICB0aGlzLnNjcm9sbENvbnRlbnQgPSBbJ05vIGtpbGxzLiddO1xuICAgIH1cbiAgICB0aGlzLm5leHRTY3JlZW4gPSBTaW5nbGVDb25kdWN0U2NyZWVuO1xuICB9XG59XG4vLyBjbGFzcyBTcGxpdFZhbnF1aXNoZWRTY3JlZW4gZXh0ZW5kcyBTcGxpdFNjcm9sbGluZ1NjcmVlbiB7fSIsIlxuaW1wb3J0IEdhbWVTdGF0ZSBmcm9tICcuL2dhbWVzdGF0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICBpZihlLmtleUNvZGUgIT09IFJPVC5WS19TUEFDRSkgcmV0dXJuO1xuICAgIFxuICAgIEdhbWVTdGF0ZS5pc1BhdXNlZCA9ICFHYW1lU3RhdGUuaXNQYXVzZWQ7XG4gICAgXG4gICAgaWYoR2FtZVN0YXRlLmlzUGF1c2VkKSB7XG4gICAgICBHYW1lU3RhdGUuZ2FtZS5lbmdpbmUubG9jaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBHYW1lU3RhdGUuZ2FtZS5lbmdpbmUudW5sb2NrKCk7XG4gICAgfVxuICB9KTtcbiAgXG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgaWYoZS5rZXlDb2RlICE9PSBST1QuVktfUikgcmV0dXJuO1xuICAgIFxuICAgIEdhbWVTdGF0ZS5yZW5kZXJBbGwgPSAhR2FtZVN0YXRlLnJlbmRlckFsbDtcbiAgfSk7XG59OyIsIlxuaW1wb3J0IEdhbWUgZnJvbSAnLi9nYW1lJztcbmltcG9ydCBHYW1lU3RhdGUgZnJvbSAnLi9nYW1lc3RhdGUnO1xuaW1wb3J0IHsgTG9hZFNjcmVlbiB9IGZyb20gJy4uL2Rpc3BsYXkvc2NyZWVucy9sb2FkJztcbmltcG9ydCBJbml0RGVidWcgZnJvbSAnLi9kZWJ1Zyc7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NhbnZhcycpKS5mb3JFYWNoKFxuICAgIChpdGVtKSA9PiB7XG4gICAgICBpdGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaXRlbSk7XG4gICAgfVxuICApO1xuICBcbiAgR2FtZVN0YXRlLnJlc2V0KCk7XG4gIHZhciBnYW1lID0gR2FtZVN0YXRlLmdhbWUgPSBuZXcgR2FtZSgpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGdhbWUuZGlzcGxheS5nZXRDb250YWluZXIoKSk7XG4gIGdhbWUuc3dpdGNoU2NyZWVuKExvYWRTY3JlZW4pO1xuXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGdhbWUuc2V0dXAoKTtcbiAgICBJbml0RGVidWcoKTtcbiAgfSwgMzAwKTtcbn07IiwiaW1wb3J0IFNFVFRJTkdTIGZyb20gJy4uL2NvbnN0YW50cy9zZXR0aW5ncyc7XG5pbXBvcnQgV29ybGQgZnJvbSAnLi4vd29ybGRnZW4vd29ybGQnO1xuaW1wb3J0IEdhbWVTdGF0ZSBmcm9tICcuL2dhbWVzdGF0ZSc7XG5cbmltcG9ydCB7IFNpbmdsZUdhbWVTY3JlZW4gfSBmcm9tICcuLi9kaXNwbGF5L3NjcmVlbnMvZ2FtZSc7XG5pbXBvcnQgRGVhZFNjcmVlbiBmcm9tICcuLi9kaXNwbGF5L3NjcmVlbnMvZGVhZCc7XG5cbmltcG9ydCBQbGF5ZXIgZnJvbSAnLi4vZGVmaW5pdGlvbnMvcGxheWVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZGlzcGxheSA9IG5ldyBST1QuRGlzcGxheSh7XG4gICAgICBmb250U2l6ZTogMTQsXG4gICAgICBmb250U3R5bGU6ICdib2xkJyxcbiAgICAgIGZvbnQ6ICdDb3VyaWVyIE5ldycsXG4gICAgICB3aWR0aDogU0VUVElOR1Muc2NyZWVuLndpZHRoLFxuICAgICAgaGVpZ2h0OiBTRVRUSU5HUy5zY3JlZW4uaGVpZ2h0XG4gICAgICBcbiAgICB9KTtcbiAgICB0aGlzLmN1cnJlbnRTY3JlZW4gPSBudWxsO1xuICAgIFxuICAgIGxldCBiaW5kVG9TY3JlZW4gPSAoZXZlbnQpID0+IHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCAoZSkgPT4ge1xuICAgICAgICBpZih0aGlzLmN1cnJlbnRTY3JlZW4gPT09IG51bGwpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuY3VycmVudFNjcmVlbi5oYW5kbGVJbnB1dChldmVudCwgZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIFxuICAgIF8uZWFjaChbJ2tleWRvd24nLCAna2V5cHJlc3MnXSwgKGV2ZW50KSA9PiBiaW5kVG9TY3JlZW4oZXZlbnQpKTtcbiAgfVxuICBcbiAgcmVmcmVzaCgpIHtcbiAgICB0aGlzLmRpc3BsYXkuY2xlYXIoKTtcbiAgICB0aGlzLmN1cnJlbnRTY3JlZW4ucmVuZGVyKHRoaXMuZGlzcGxheSk7XG4gIH1cbiAgXG4gIGdhbWVPdmVyKCkge1xuICAgIHRoaXMuc3dpdGNoU2NyZWVuKERlYWRTY3JlZW4pO1xuICB9XG4gIFxuICBzYWZlU3dpdGNoU2NyZWVuKG1lLCBuZXdTY3JlZW4pIHtcbiAgICBpZih0aGlzLmN1cnJlbnRTY3JlZW4gIT09IG1lKSByZXR1cm47XG4gICAgdGhpcy5zd2l0Y2hTY3JlZW4obmV3U2NyZWVuKTtcbiAgfVxuICBcbiAgc3dpdGNoU2NyZWVuKHNjcmVlbikge1xuICAgIGlmKHRoaXMuY3VycmVudFNjcmVlbikge1xuICAgICAgdGhpcy5jdXJyZW50U2NyZWVuLmV4aXQodGhpcy5kaXNwbGF5KTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5jdXJyZW50U2NyZWVuID0gc2NyZWVuO1xuXG4gICAgaWYodGhpcy5jdXJyZW50U2NyZWVuKSB7XG4gICAgICB0aGlzLmN1cnJlbnRTY3JlZW4uZW50ZXIodGhpcy5kaXNwbGF5KTtcbiAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuICBcbiAgc2V0dXAoKSB7XG4gICAgXG4gICAgdGhpcy5zY2hlZHVsZXIgPSBuZXcgUk9ULlNjaGVkdWxlci5TcGVlZCgpO1xuICAgIHRoaXMuZW5naW5lID0gbmV3IFJPVC5FbmdpbmUodGhpcy5zY2hlZHVsZXIpO1xuICAgIFxuICAgIGlmKGZhbHNlKSB7XG4gICAgICB0aGlzLmxvYWRPbGREYXRhKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHRoaXMuc3RhcnROZXdHYW1lKCk7XG4gIH1cbiAgXG4gIGxvYWRPbGREYXRhKCkge31cbiAgXG4gIHN0YXJ0TmV3R2FtZSgpIHtcbiAgICBHYW1lU3RhdGUud29ybGQgPSBuZXcgV29ybGQoKTtcbiAgICBHYW1lU3RhdGUud29ybGQuZ2VuZXJhdGVXb3JsZCgpO1xuICAgIGxldCB6ZXJvU3RhcnRTdGFpcnMgPSBHYW1lU3RhdGUud29ybGQuc3RhaXJzWzBdLnVwO1xuICAgIFxuICAgIEdhbWVTdGF0ZS5wbGF5ZXJzID0gW107XG4gICAgbGV0IHBsYXllckxvY2F0aW9ucyA9IEdhbWVTdGF0ZS53b3JsZC5nZXRWYWxpZFRpbGVzSW5SYW5nZShcbiAgICAgIHplcm9TdGFydFN0YWlyc1swXSwgemVyb1N0YXJ0U3RhaXJzWzFdLCAwLCAyLCAodGlsZSkgPT4gdGlsZS5nbHlwaC5rZXkgPT09ICcuJ1xuICAgICk7XG4gICAgICBcbiAgICBsZXQgc3RhcnRUaWxlID0gXy5zYW1wbGUocGxheWVyTG9jYXRpb25zKTtcbiAgICBsZXQgcGxheWVyID0gbmV3IFBsYXllcigwLCAwLCAwKTtcbiAgICBcbiAgICBHYW1lU3RhdGUuY3VycmVudEZsb29yID0gMDtcbiAgICBHYW1lU3RhdGUud29ybGQubW92ZUVudGl0eShwbGF5ZXIsIHN0YXJ0VGlsZS54LCBzdGFydFRpbGUueSwgMCk7XG4gICAgR2FtZVN0YXRlLnBsYXllcnMucHVzaChwbGF5ZXIpO1xuICAgIHRoaXMuZW5naW5lLnN0YXJ0KCk7XG4gICAgXG4gICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnN3aXRjaFNjcmVlbihTaW5nbGVHYW1lU2NyZWVuKSwgMTAwKTtcbiAgfVxufSIsIlxuY2xhc3MgR2FtZVN0YXRlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMuaWRlbnRpZmljYXRpb24gPSB7fTtcbiAgICB0aGlzLl9pZE1hcCA9IHt9O1xuICAgIHRoaXMubWVzc2FnZXMgPSBbXTtcbiAgfVxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KF8ub21pdCh0aGlzLCAnZ2FtZScpKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgR2FtZVN0YXRlKCk7IiwiXG5pbXBvcnQgU3RhcnQgZnJvbSAnLi9nYW1lLXN0YXJ0ZXInO1xuXG4vLyByZW1vdmUgZXh0cmEgbG9nIGxpbmVcbkJSQUdJLnRyYW5zcG9ydHMuZ2V0KCdDb25zb2xlJykucHJvcGVydHkoeyBzaG93TWV0YTogZmFsc2UgfSk7XG5cbmlmKCFST1QuaXNTdXBwb3J0ZWQoKSkge1xuICBhbGVydChgcm90LmpzIGlzbid0IHN1cHBvcnRlZCA6KGApO1xufSBlbHNlIHtcbiAgU3RhcnQoKTtcbn1cbiIsIlxuLy8gdGhhbmsgeW91IGJhc2VkIHN0YWNrZXhjaGFuZ2UgaHR0cDovL2NvZGVyZXZpZXcuc3RhY2tleGNoYW5nZS5jb20vYS85NzMxMC82NDM2MlxuY29uc3QgSU5ESUNFUyA9IFsxLCAyLCAzLCA2LCA5LCA4LCA3LCA0XTtcbmNvbnN0IFBST0JBQklMSVRJRVMgPSBbMTAwMDAsIDIwMDAsIDUwMCwgNTAsIDEwLCA1MCwgNTAwLCAyMDAwXTtcblxuZXhwb3J0IGRlZmF1bHQgKGxhc3ROdW1wYWREaXJlY3Rpb24pID0+IHtcbiAgbGV0IGxhc3RJbmRleERpcmVjdGlvbiA9IElORElDRVMuaW5kZXhPZihsYXN0TnVtcGFkRGlyZWN0aW9uKTtcbiAgbGV0IHNoaWZ0ZWQgPSBQUk9CQUJJTElUSUVTLnNsaWNlKFBST0JBQklMSVRJRVMubGVuZ3RoIC0gbGFzdEluZGV4RGlyZWN0aW9uKVxuICAgIC5jb25jYXQoUFJPQkFCSUxJVElFUy5zbGljZSgwLCBQUk9CQUJJTElUSUVTLmxlbmd0aCAtIGxhc3RJbmRleERpcmVjdGlvbikpO1xuICBsZXQgcmVzdWx0ID0ge307XG4gIGZvcihsZXQgaSA9IDAsIGwgPSBJTkRJQ0VTLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIHJlc3VsdFtJTkRJQ0VTW2ldXSA9IHNoaWZ0ZWRbaV07XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07IiwiXG5leHBvcnQgZGVmYXVsdCAoZ3JvdXAsIG1lc3NhZ2UpID0+IEJSQUdJLmxvZyhncm91cCwgbWVzc2FnZSk7IiwiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOdW1iZXJSYW5nZSB7XG4gIGNvbnN0cnVjdG9yKG1pbiwgY3VyLCBtYXgpIHtcbiAgICB0aGlzLm1pbiA9IG1pbjtcbiAgICB0aGlzLm1heCA9IG1heDtcbiAgICB0aGlzLl9zZXQoY3VyKTtcbiAgfVxuICBcbiAgYXRNaW4oKSB7IHJldHVybiB0aGlzLmN1ciA9PT0gdGhpcy5taW47IH1cbiAgYXRNYXgoKSB7IHJldHVybiB0aGlzLmN1ciA9PT0gdGhpcy5tYXg7IH1cbiAgXG4gIHBlcmNlbnQoKSAgICAgICB7IHJldHVybiB+figodGhpcy5jdXIgLyB0aGlzLm1heCkqMTAwKTsgfVxuICBndFBlcmNlbnQocGN0KSAgeyByZXR1cm4gdGhpcy5wZXJjZW50KCkgPiBwY3Q7IH1cbiAgbHRQZXJjZW50KHBjdCkgIHsgcmV0dXJuIHRoaXMucGVyY2VudCgpIDwgcGN0OyB9XG4gIGVQZXJjZW50KHBjdCkgICB7IHJldHVybiB0aGlzLnBlcmNlbnQoKSA9PT0gcGN0OyB9XG4gIGd0ZVBlcmNlbnQocGN0KSB7IHJldHVybiB0aGlzLnBlcmNlbnQoKSA+PSBwY3Q7IH1cbiAgbHRlUGVyY2VudChwY3QpIHsgcmV0dXJuIHRoaXMucGVyY2VudCgpIDw9IHBjdDsgfVxuICBcbiAgZ3QobnVtKSAgeyByZXR1cm4gdGhpcy5jdXIgPiBudW07IH1cbiAgbHQobnVtKSAgeyByZXR1cm4gdGhpcy5jdXIgPCBudW07IH1cbiAgZShudW0pICAgeyByZXR1cm4gdGhpcy5jdXIgPT09IG51bTsgfVxuICBndGUobnVtKSB7IHJldHVybiB0aGlzLmN1ciA+PSBudW07IH1cbiAgbHRlKG51bSkgeyByZXR1cm4gdGhpcy5jdXIgPD0gbnVtOyB9XG4gIFxuICBfc2V0KG51bSkgeyB0aGlzLmN1ciA9IE1hdGgubWF4KHRoaXMubWluLCBNYXRoLm1pbih0aGlzLm1heCwgbnVtKSk7IH1cbiAgYWRkKG51bSkgeyB0aGlzLl9zZXQobnVtICsgdGhpcy5jdXIpOyB9XG4gIHN1YihudW0pIHsgdGhpcy5hZGQoLW51bSk7IH1cbn0iLCJcbmV4cG9ydCB2YXIgQ29sb3JzID0gW1xuICAnIzAwZicsICAgLy8gYmx1ZVxuICAnIzBmMCcsICAgLy8gZ3JlZW5cbiAgJyNmMDAnLCAgIC8vIHJlZFxuICAnIzBmZicsICAgLy8gY3lhblxuICAnI2YwZicsICAgLy8gbWFnZW50YVxuICAnI2ZmMCcsICAgLy8geWVsbG93XG4gIFxuICAnI2FhZicsICAgLy8gbGlnaHRibHVlXG4gICcjYWZhJywgICAvLyBsaWdodGdyZWVuXG4gICcjZmFhJywgICAvLyBsaWdodHJlZFxuICAnI2FhZicsICAgLy8gbGlnaHRjeWFuXG4gICcjZmFmJywgICAvLyBsaWdodG1hZ2VudGFcbiAgJyNmZmEnICAgIC8vIGxpZ2h0eWVsbG93XG5dO1xuXG5leHBvcnQgdmFyIEdldENvbG9yID0gKCkgPT4gXy5zYW1wbGUoQ29sb3JzKTsiLCJcbmV4cG9ydCBkZWZhdWx0ICh2YWx1ZSwgb3RoZXIpID0+IHtcbiAgaWYoXy5pc1N0cmluZyhvdGhlcikgJiYgXy5jb250YWlucyhvdGhlciwgJ2QnKSkge1xuICAgIHJldHVybiArZGljZS5yb2xsKG90aGVyKTtcbiAgfVxuICByZXR1cm4gb3RoZXI7XG59OyIsIlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VuZXJhdG9yIHtcbiAgc3RhdGljIGdlbmVyYXRlKCkge31cbn0iLCJcbmltcG9ydCAqIGFzIFRpbGVzIGZyb20gJy4uL3RpbGVzJztcbmltcG9ydCBHZW5lcmF0b3IgZnJvbSAnLi4vZ2VuZXJhdG9yJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHVuZ2VvbiBleHRlbmRzIEdlbmVyYXRvciB7XG4gIFxuICBzdGF0aWMgZ2VuZXJhdGUodywgaCwgeikge1xuICAgIHZhciBtYXAgPSBbXTtcbiAgICBcbiAgICBsZXQgcGxhY2VUaWxlID0gKHR5cGUsIHgsIHkpID0+IHtcbiAgICAgIG1hcFt4XVt5XSA9IG5ldyB0eXBlKCk7XG4gICAgICBtYXBbeF1beV0ueCA9IHg7XG4gICAgICBtYXBbeF1beV0ueSA9IHk7XG4gICAgICBtYXBbeF1beV0ueiA9IHo7XG4gICAgICByZXR1cm4gbWFwW3hdW3ldO1xuICAgIH07XG4gICAgXG4gICAgLy8gLTMgdG8gYWRqdXN0IGZvciB0aGUgVUkgY29tcG9uZW50cyBhdCB0aGUgYm90dG9tXG4gICAgdmFyIGRpZ2dlciA9IG5ldyBST1QuTWFwLkRpZ2dlcih3LCBoLTMsIHsgcm9vbVdpZHRoOiBbNCwgOF0sIHJvb21IZWlnaHQ6IFs0LCA3XSwgY29ycmlkb3JMZW5ndGg6IFs1LCAxM10gfSk7XG4gICAgXG4gICAgZGlnZ2VyLmNyZWF0ZSgoeCwgeSwgdmFsdWUpID0+IHtcbiAgICAgIGlmKCFtYXBbeF0pIG1hcFt4XSA9IFtdO1xuICAgICAgXG4gICAgICB2YXIgcHJvdG8gPSBUaWxlcy5Wb2lkO1xuICAgICAgaWYoIXZhbHVlKSBwcm90byA9IFRpbGVzLkR1bmdlb25GbG9vcjtcbiAgICAgIFxuICAgICAgcGxhY2VUaWxlKHByb3RvLCB4LCB5KTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyByZXBsYWNlIGFsbCBjb3JyaWRvcnMgd2l0aCBjb3JyaWRvciB0aWxlc1xuICAgIF8uZWFjaChkaWdnZXIuX2NvcnJpZG9ycywgKGNvcnJpZG9yKSA9PiB7XG4gICAgICBcbiAgICAgIGxldCBbeFN0YXJ0LCB4RW5kXSA9IFtjb3JyaWRvci5fc3RhcnRYLCBjb3JyaWRvci5fZW5kWF07XG4gICAgICBpZih4U3RhcnQgPiB4RW5kKSB7XG4gICAgICAgIFt4U3RhcnQsIHhFbmRdID0gW3hFbmQsIHhTdGFydF07XG4gICAgICB9XG4gICAgICBcbiAgICAgIGxldCBbeVN0YXJ0LCB5RW5kXSA9IFtjb3JyaWRvci5fc3RhcnRZLCBjb3JyaWRvci5fZW5kWV07XG4gICAgICBpZih5U3RhcnQgPiB5RW5kKSB7XG4gICAgICAgIFt5U3RhcnQsIHlFbmRdID0gW3lFbmQsIHlTdGFydF07XG4gICAgICB9XG4gICAgICBcbiAgICAgIGZvcihsZXQgeCA9IHhTdGFydDsgeCA8PSB4RW5kOyB4KyspIHtcbiAgICAgICAgZm9yKGxldCB5ID0geVN0YXJ0OyB5IDw9IHlFbmQ7IHkrKykge1xuICAgICAgICAgIHBsYWNlVGlsZShUaWxlcy5Db3JyaWRvciwgeCwgeSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBoYW5kbGUgcm9vbSBvdXRsaW5lcyBhbmQgZG9vcnNcbiAgICBfLmVhY2goZGlnZ2VyLmdldFJvb21zKCksIChyb29tKSA9PiB7XG4gICAgICBcbiAgICAgIC8vIGRyYXcgbGVmdCBhbmQgcmlnaHQgd2FsbHNcbiAgICAgIGZvcihsZXQgaSA9IHJvb20uZ2V0VG9wKCk7IGkgPD0gcm9vbS5nZXRCb3R0b20oKTsgaSsrKSB7XG4gICAgICAgIFxuICAgICAgICB2YXIgbGVmdFRpbGUgPSBtYXBbcm9vbS5nZXRMZWZ0KCktMV1baV0uZ2x5cGgua2V5O1xuICAgICAgICB2YXIgcmlnaHRUaWxlID0gbWFwW3Jvb20uZ2V0UmlnaHQoKSsxXVtpXS5nbHlwaC5rZXk7XG4gICAgICAgIFxuICAgICAgICAvLyB0aGVzZSB0aWxlcyB0YWtlIHByZWNlZGVuY2UsIG90aGVyd2lzZSBzb21lIHdhbGxzIGxvb2sgdWdnb1xuICAgICAgICBpZighbGVmdFRpbGUgfHwgbGVmdFRpbGUgPT09ICctJykge1xuICAgICAgICAgIHBsYWNlVGlsZShUaWxlcy5EdW5nZW9uVmVydGljYWxXYWxsLCByb29tLmdldExlZnQoKS0xLCBpKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYoIXJpZ2h0VGlsZSB8fCByaWdodFRpbGUgPT09ICctJykge1xuICAgICAgICAgIHBsYWNlVGlsZShUaWxlcy5EdW5nZW9uVmVydGljYWxXYWxsLCByb29tLmdldFJpZ2h0KCkrMSwgaSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gZHJhdyB0b3AgYW5kIGJvdHRvbSB3YWxsc1xuICAgICAgZm9yKHZhciBpID0gcm9vbS5nZXRMZWZ0KCktMTsgaSA8PSByb29tLmdldFJpZ2h0KCkrMTsgaSsrKSB7XG4gICAgICAgIGlmKCFtYXBbaV1bcm9vbS5nZXRUb3AoKSAtIDFdLmdseXBoLmtleSkge1xuICAgICAgICAgIHBsYWNlVGlsZShUaWxlcy5EdW5nZW9uSG9yaXpvbnRhbFdhbGwsIGksIHJvb20uZ2V0VG9wKCkgLSAxKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYoIW1hcFtpXVtyb29tLmdldEJvdHRvbSgpICsgMV0uZ2x5cGgua2V5KSB7XG4gICAgICAgICAgcGxhY2VUaWxlKFRpbGVzLkR1bmdlb25Ib3Jpem9udGFsV2FsbCwgaSwgcm9vbS5nZXRCb3R0b20oKSArIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIG1heWJlIGRyYXcgc29tZSBkb29yc1xuICAgICAgcm9vbS5nZXREb29ycygoeCwgeSkgPT4ge1xuICAgICAgICBpZihST1QuUk5HLmdldFBlcmNlbnRhZ2UoKSA8IDcwKSB7XG4gICAgICAgICAgcGxhY2VUaWxlKFRpbGVzLkR1bmdlb25GbG9vciwgeCwgeSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IGRvb3IgPSBwbGFjZVRpbGUoVGlsZXMuRG9vciwgeCwgeSk7XG4gICAgICAgICAgZG9vci5zZXRQcm9wZXJDaGFyYWN0ZXIobWFwW3gtMV1beV0pO1xuICAgICAgICB9ICBcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiB7IG1hcDogbWFwLCB2YWxpZFN0YXJ0Um9vbXM6IGRpZ2dlci5nZXRSb29tcygpLCBtYXBOYW1lOiAnVGhlIER1bmdlb25zIG9mIERvb20nIH07XG4gIH1cbn0iLCJcbmltcG9ydCAqIGFzIE1vbnN0ZXJzIGZyb20gJy4uL2NvbnRlbnQvbW9uc3RlcnMvbW9uc3RlcnMnO1xuaW1wb3J0IE1vbnN0ZXIgZnJvbSAnLi4vZGVmaW5pdGlvbnMvbW9uc3Rlcic7XG5pbXBvcnQgR2FtZVN0YXRlIGZyb20gJy4uL2luaXQvZ2FtZXN0YXRlJztcbmltcG9ydCBMb2cgZnJvbSAnLi4vbGliL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vbnN0ZXJTcGF3bmVyIHtcbiAgc3RhdGljIHNwYXduKGJhc2VkT24pIHtcbiAgICBsZXQgZHVuZ2VvbkxldmVsID0gYmFzZWRPbi56ICsgMTtcbiAgICBsZXQgdGFyZ2V0TGV2ZWwgPSBiYXNlZE9uLmxldmVsO1xuICAgIFxuICAgIGxldCBsb3dlc3REaWZmaWN1bHR5ID0gTWF0aC5mbG9vcigoZHVuZ2VvbkxldmVsK3RhcmdldExldmVsKS8yKTtcbiAgICBsZXQgaGlnaGVzdERpZmZpY3VsdHkgPSA1ICogZHVuZ2VvbkxldmVsO1xuICAgIFxuICAgIGxldCB2YWxpZE1vbnN0ZXJzID0gXyhNb25zdGVycykudmFsdWVzKCkuZmlsdGVyKG1vbnN0ZXIgPT4gbW9uc3Rlci5kaWZmaWN1bHR5ID49IGxvd2VzdERpZmZpY3VsdHkgJiYgbW9uc3Rlci5kaWZmaWN1bHR5IDwgaGlnaGVzdERpZmZpY3VsdHkpLnZhbHVlKCk7XG4gICAgbGV0IG1vbnN0ZXJIYXNoID0gXy5yZWR1Y2UodmFsaWRNb25zdGVycywgKChwcmV2LCBjdXIpID0+IHtcbiAgICAgIHByZXZbY3VyLnN0YXRzLm5hbWVdID0gY3VyLmZyZXF1ZW5jeTtcbiAgICAgIHJldHVybiBwcmV2O1xuICAgIH0pLCB7fSk7XG4gICAgbGV0IGNob3Nlbk5hbWUgPSBST1QuUk5HLmdldFdlaWdodGVkVmFsdWUobW9uc3Rlckhhc2gpO1xuICAgIGxldCBjaG9zZW5Nb25zdGVyID0gXy5maW5kV2hlcmUodmFsaWRNb25zdGVycywgeyBzdGF0czogeyBuYW1lOiBjaG9zZW5OYW1lIH0gfSk7XG4gICAgaWYoIWNob3Nlbk1vbnN0ZXIpIHtcbiAgICAgIExvZygnTW9uc3RlclNwYXduZXInLCBgTW9uc3RlciBjb3VsZCBub3QgYmUgc3Bhd25lZDogREx2bCAke2R1bmdlb25MZXZlbH0gVGFyZ2V0TGV2ZWwgJHt0YXJnZXRMZXZlbH0gfCBkaWZmaWN1bHR5IHJhbmdlICR7bG93ZXN0RGlmZmljdWx0eX0tJHtoaWdoZXN0RGlmZmljdWx0eX1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IG51bU1vbnN0ZXJzID0gK2RpY2Uucm9sbChjaG9zZW5Nb25zdGVyLnNwYXduUGF0dGVybik7XG4gICAgXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IG51bU1vbnN0ZXJzOyBpKyspIHtcbiAgICAgIGxldCB0aWxlID0gXy5zYW1wbGUoR2FtZVN0YXRlLndvcmxkLmdldFZhbGlkVGlsZXNJblJhbmdlKGJhc2VkT24ueCwgYmFzZWRPbi55LCBiYXNlZE9uLnosIDUwLCAodGlsZSkgPT4gYmFzZWRPbi5kaXN0QmV0d2Vlbih0aWxlKSA+IGJhc2VkT24uZ2V0U2lnaHQoKSkpO1xuICAgICAgbGV0IG1vbnN0ZXIgPSBuZXcgTW9uc3Rlcih0aWxlLngsIHRpbGUueSwgdGlsZS56LCBjaG9zZW5Nb25zdGVyKTtcbiAgICAgIG1vbnN0ZXIudGFyZ2V0ID0gYmFzZWRPbjtcbiAgICB9XG4gIH1cbn0iLCJcbmltcG9ydCBFbnRpdHkgZnJvbSAnLi4vZGVmaW5pdGlvbnMvZW50aXR5JztcbmltcG9ydCBHYW1lU3RhdGUgZnJvbSAnLi4vaW5pdC9nYW1lc3RhdGUnO1xuXG5jbGFzcyBUaWxlIGV4dGVuZHMgRW50aXR5IHtcbiAgY29uc3RydWN0b3Ioa2V5LCBmZywgYmcpIHtcbiAgICBzdXBlcih7IGtleToga2V5LCBmZzogZmcsIGJnOiBiZyB9KTtcbiAgICB0aGlzLmRlbnNpdHkgPSAwO1xuICAgIHRoaXMub3BhY2l0eSA9IDA7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFZvaWQgZXh0ZW5kcyBUaWxlIHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IHRoaXMub3BhY2l0eSA9IDE7IH19XG5cbmV4cG9ydCBjbGFzcyBEdW5nZW9uRmxvb3IgZXh0ZW5kcyBUaWxlIHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKCcuJyk7IH19XG5cbmV4cG9ydCBjbGFzcyBEdW5nZW9uSG9yaXpvbnRhbFdhbGwgZXh0ZW5kcyBUaWxlIHsgY29uc3RydWN0b3IoKSB7IHN1cGVyKCctJyk7IHRoaXMuZGVuc2l0eSA9IHRoaXMub3BhY2l0eSA9IDE7IH19XG5leHBvcnQgY2xhc3MgRHVuZ2VvblZlcnRpY2FsV2FsbCBleHRlbmRzIFRpbGUgeyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoJ3wnKTsgdGhpcy5kZW5zaXR5ID0gdGhpcy5vcGFjaXR5ID0gMTsgfX1cbmV4cG9ydCBjbGFzcyBDb3JyaWRvciBleHRlbmRzIFRpbGUgeyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoJyMnKTsgfSB9XG5cbmNsYXNzIFN0YWlycyBleHRlbmRzIFRpbGUge1xuICBjYW5JbnRlcmFjdChlbnRpdHkpIHtcbiAgICByZXR1cm4gdGhpcy5kaXN0QmV0d2VlbihlbnRpdHkpID09PSAwO1xuICB9XG59XG5leHBvcnQgY2xhc3MgU3RhaXJzRG93biBleHRlbmRzIFN0YWlycyB7IFxuICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoJz4nKTsgfSBcbiAgXG4gIGNhbkludGVyYWN0KGVudGl0eSkge1xuICAgIHJldHVybiBzdXBlci5jYW5JbnRlcmFjdChlbnRpdHkpICYmIHRoaXMueiAhPT0gR2FtZVN0YXRlLndvcmxkLmRlcHRoIC0gMTtcbiAgfVxuICBcbiAgaW50ZXJhY3QoZW50aXR5KSB7XG4gICAgZW50aXR5LmRlc2NlbmQoKTtcbiAgICByZXR1cm4gYCR7ZW50aXR5Lm5hbWV9IGRlc2NlbmRlZCB0aGUgc3RhaXJzLmA7IFxuICB9XG59XG5leHBvcnQgY2xhc3MgU3RhaXJzVXAgZXh0ZW5kcyBTdGFpcnMgeyBcbiAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCc8Jyk7IH0gXG4gIFxuICBjYW5JbnRlcmFjdCgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gICAgLy8gcmV0dXJuIHN1cGVyLmNhbkludGVyYWN0KGVudGl0eSkgJiYgdGhpcy56ICE9PSAwO1xuICB9XG4gIFxuICBpbnRlcmFjdChlbnRpdHkpIHtcbiAgICBlbnRpdHkuYXNjZW5kKCk7XG4gICAgcmV0dXJuIGAke2VudGl0eS5uYW1lfSBhc2NlbmRlZCB0aGUgc3RhaXJzLmA7IFxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEb29yIGV4dGVuZHMgVGlsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxldCBpc0Nsb3NlZCA9ICEhTWF0aC5yb3VuZChST1QuUk5HLmdldFVuaWZvcm0oKSk7XG4gICAgbGV0IG9wZW5DaGFyID0gaXNDbG9zZWQgPyAnLScgOiAnKyc7XG4gICAgc3VwZXIob3BlbkNoYXIsICdnb2xkJyk7XG4gICAgdGhpcy5faXNBSVBhc3NhYmxlID0gdHJ1ZTtcbiAgICBcbiAgICB0aGlzLm9wYWNpdHkgPSAhfn5pc0Nsb3NlZDtcbiAgICB0aGlzLmRlbnNpdHkgPSAhfn5pc0Nsb3NlZDtcbiAgfVxuICBcbiAgZ2V0T3BlbkNoYXIoYmFzZWRPbikge1xuICAgIGxldCBsZWZ0VGlsZUdseXBoID0gYmFzZWRPbi5nbHlwaC5rZXk7XG4gICAgcmV0dXJuIGxlZnRUaWxlR2x5cGggPT09ICctJyA/ICd8JyA6ICctJztcbiAgfVxuICBcbiAgY2FuSW50ZXJhY3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVuc2l0eTtcbiAgfVxuICBcbiAgc2V0UHJvcGVyQ2hhcmFjdGVyKGJhc2VkT24gPSBHYW1lU3RhdGUud29ybGQuZ2V0VGlsZSh0aGlzLnggLSAxLCB0aGlzLnksIHRoaXMueikpIHtcbiAgICBsZXQgaXNPcGVuID0gdGhpcy5kZW5zaXR5O1xuICAgIGxldCB0b2dnbGVDaGFyID0gaXNPcGVuID8gJysnIDogdGhpcy5nZXRPcGVuQ2hhcihiYXNlZE9uKTtcbiAgICB0aGlzLmdseXBoLmtleSA9IHRvZ2dsZUNoYXI7XG4gIH1cbiAgXG4gIGludGVyYWN0KGVudGl0eSkge1xuICAgIHRoaXMub3BhY2l0eSA9ICF0aGlzLm9wYWNpdHk7XG4gICAgdGhpcy5kZW5zaXR5ID0gIXRoaXMuZGVuc2l0eTtcbiAgICB0aGlzLnNldFByb3BlckNoYXJhY3RlcigpO1xuICAgIFxuICAgIHJldHVybiBgJHtlbnRpdHkubmFtZX0gJHt0aGlzLmRlbnNpdHkgPyAnY2xvc2VkJzogJ29wZW5lZCd9IHRoZSBkb29yLmA7XG4gIH1cbn0iLCJcbmltcG9ydCAqIGFzIFRpbGVzIGZyb20gJy4vdGlsZXMnO1xuaW1wb3J0IER1bmdlb24gZnJvbSAnLi9tYXB0eXBlcy9kdW5nZW9uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV29ybGQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnRpbGVzID0gW107XG4gICAgXG4gICAgdGhpcy5zdGFpcnMgPSBbXTtcbiAgICBcbiAgICB0aGlzLmVudGl0aWVzID0gW107XG4gICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgIFxuICAgIHRoaXMuZm92ID0gW107XG4gICAgdGhpcy5leHBsb3JlZCA9IFtdO1xuICB9XG4gIFxuICBnZW5lcmF0ZVdvcmxkKHdpZHRoID0gNzAsIGhlaWdodCA9IDcwLCBkZXB0aCA9IDEwKSB7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuZGVwdGggPSBkZXB0aDtcbiAgICBcbiAgICB0aGlzLnNldHVwRXhwbG9yZWQoKTtcbiAgICB0aGlzLnNldHVwRk9WKCk7XG4gICAgXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGRlcHRoOyBpKyspIHtcbiAgICAgIGxldCB7IG1hcCwgbWFwTmFtZSwgdmFsaWRTdGFydFJvb21zIH0gPSBEdW5nZW9uLmdlbmVyYXRlKHdpZHRoLCBoZWlnaHQsIGkpO1xuICAgICAgdGhpcy50aWxlc1tpXSA9IG1hcDtcbiAgICAgIHRoaXMudGlsZXNbaV0ubWFwTmFtZSA9IG1hcE5hbWU7XG4gICAgICBsZXQgW3VwU3RhaXJzLCBkb3duU3RhaXJzXSA9IHRoaXMucGxhY2VTdGFpcnModmFsaWRTdGFydFJvb21zLCBpKTtcbiAgICAgIFxuICAgICAgdGhpcy5zdGFpcnNbaV0gPSB7IHVwOiBbdXBTdGFpcnMueCwgdXBTdGFpcnMueV0sIGRvd246IFtkb3duU3RhaXJzLngsIGRvd25TdGFpcnMueV0gfTtcbiAgICB9XG4gIH1cbiAgXG4gIGdldFRpbGUoeCwgeSwgeikge1xuICAgIGlmKCF0aGlzLndpZHRoIHx8ICF0aGlzLmhlaWdodCB8fCAhdGhpcy5kZXB0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdXb3JsZCBub3QgeWV0IGdlbmVyYXRlZCcpO1xuICAgIH1cbiAgICBcbiAgICBpZih4IDwgMCB8fCB4ID49IHRoaXMud2lkdGggfHxcbiAgICB5IDwgMCB8fCB5ID49IHRoaXMuaGVpZ2h0IHx8XG4gICAgeiA8IDAgfHwgeiA+PSB0aGlzLmRlcHRoKSB7XG4gICAgICByZXR1cm4gbmV3IFRpbGVzLlZvaWQoKTtcbiAgICB9XG4gICAgICAgXG4gICAgcmV0dXJuIHRoaXMudGlsZXNbel1beF1beV07XG4gIH1cbiAgXG4gIHNldHVwRXhwbG9yZWQoKSB7XG4gICAgZm9yKHZhciB6PTA7IHo8dGhpcy5kZXB0aDsgeisrKSB7XG4gICAgICB0aGlzLmV4cGxvcmVkW3pdID0gW107XG4gICAgICBmb3IodmFyIHg9MDsgeDx0aGlzLndpZHRoOyB4KyspIHtcbiAgICAgICAgdGhpcy5leHBsb3JlZFt6XVt4XSA9IFtdO1xuICAgICAgICBmb3IodmFyIHk9MDsgeTx0aGlzLmhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgdGhpcy5leHBsb3JlZFt6XVt4XVt5XSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICBzZXR1cEZPVigpIHtcbiAgICBmb3IobGV0IHogPSAwOyB6IDwgdGhpcy5kZXB0aDsgeisrKSB7XG4gICAgICB0aGlzLmZvdlt6XSA9IG5ldyBST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcoXG4gICAgICAgICh4LCB5KSA9PiB7XG4gICAgICAgICAgcmV0dXJuICF0aGlzLmdldFRpbGUoeCwgeSwgeikuaXNCbG9ja2luZ0xpZ2h0KCk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICB9XG4gIFxuICBpc1ZvaWQoeCwgeSwgeikge1xuICAgIGxldCB0aWxlID0gdGhpcy5nZXRUaWxlKHgsIHksIHopO1xuICAgIHJldHVybiAhdGlsZSB8fCAhdGhpcy5nZXRUaWxlKHgsIHksIHopLmdseXBoLmtleTtcbiAgfVxuICBcbiAgc2V0RXhwbG9yZWQoeCwgeSwgeiwgc3RhdGUgPSB0cnVlKSB7XG4gICAgaWYodGhpcy5pc1ZvaWQoeCwgeSwgeikpIHJldHVybjtcbiAgICB0aGlzLmV4cGxvcmVkW3pdW3hdW3ldID0gc3RhdGU7XG4gIH1cbiAgXG4gIGlzRXhwbG9yZWQoeCwgeSwgeikge1xuICAgIHJldHVybiB0aGlzLmlzVm9pZCh4LCB5LCB6KSA/IGZhbHNlIDogdGhpcy5leHBsb3JlZFt6XVt4XVt5XTtcbiAgfVxuICBcbiAgaXNUaWxlRW1wdHkoeCwgeSwgeikge1xuICAgIGxldCB0aWxlID0gdGhpcy5nZXRUaWxlKHgsIHksIHopO1xuICAgIHJldHVybiB0aWxlICYmICF0aWxlLmlzRGVuc2UoKSAmJiAhdGhpcy5nZXRFbnRpdHkoeCwgeSwgeikgJiYgIXRoaXMuaXNWb2lkKHgsIHksIHopO1xuICB9XG4gIFxuICBpc1RpbGVQYXNzYWJsZSh4LCB5LCB6LCBpbmNsQUlQYXNzID0gdHJ1ZSkge1xuICAgIGxldCB0aWxlID0gdGhpcy5nZXRUaWxlKHgsIHksIHopO1xuICAgIGxldCBhaVBhc3MgPSBpbmNsQUlQYXNzID8gdGlsZS5faXNBSVBhc3NhYmxlIDogdHJ1ZTtcbiAgICByZXR1cm4gdGlsZSAmJiBhaVBhc3MgfHwgdGhpcy5pc1RpbGVFbXB0eSh4LCB5LCB6KTtcbiAgfVxuICBcbiAgZ2V0V2l0aG91dEluaXRzKHgsIHksIHosIGxpc3QgPSAnZW50aXRpZXMnKSB7XG4gICAgaWYoIXRoaXNbbGlzdF1bel0pIHJldHVybiBudWxsO1xuICAgIGlmKCF0aGlzW2xpc3RdW3pdW3hdKSByZXR1cm4gbnVsbDtcbiAgICBpZighdGhpc1tsaXN0XVt6XVt4XVt5XSkgcmV0dXJuIG51bGw7XG4gICAgXG4gICAgcmV0dXJuIHRoaXNbbGlzdF1bel1beF1beV07XG4gIH1cbiAgXG4gIGVuc3VyZUxvY2F0aW9uKHgsIHksIHosIGxpc3QgPSAnZW50aXRpZXMnLCBzZXRUbyA9IG51bGwpIHtcbiAgICBpZighdGhpc1tsaXN0XVt6XSkgdGhpc1tsaXN0XVt6XSA9IFtdO1xuICAgIGlmKCF0aGlzW2xpc3RdW3pdW3hdKSB0aGlzW2xpc3RdW3pdW3hdID0gW107XG4gICAgaWYoIXRoaXNbbGlzdF1bel1beF1beV0pIHRoaXNbbGlzdF1bel1beF1beV0gPSBzZXRUbztcbiAgfVxuICBcbiAgZ2V0SXRlbXNBdCh4LCB5LCB6KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0V2l0aG91dEluaXRzKHgsIHksIHosICdpdGVtcycpO1xuICB9XG4gIFxuICByZW1vdmVJdGVtKGl0ZW0pIHtcbiAgICB0aGlzLml0ZW1zW2l0ZW0uel1baXRlbS54XVtpdGVtLnldID0gXy53aXRob3V0KHRoaXMuaXRlbXNbaXRlbS56XVtpdGVtLnhdW2l0ZW0ueV0sIGl0ZW0pO1xuICAgIGl0ZW0ueCA9IGl0ZW0ueSA9IGl0ZW0ueiA9IHVuZGVmaW5lZDtcbiAgfVxuICBcbiAgbW92ZUl0ZW0oaXRlbSwgeCwgeSwgeikge1xuICAgIHRoaXMuZW5zdXJlTG9jYXRpb24oeCwgeSwgeiwgJ2l0ZW1zJywgW10pO1xuICAgIFxuICAgIGlmKGl0ZW0ueCAmJiBpdGVtLnkgJiYgaXRlbS56KSB7XG4gICAgICB0aGlzLnJlbW92ZUl0ZW0oaXRlbSk7XG4gICAgfVxuICAgIFxuICAgIGl0ZW0ueCA9IHg7XG4gICAgaXRlbS55ID0geTtcbiAgICBpdGVtLnogPSB6O1xuICAgIHRoaXMuaXRlbXNbel1beF1beV0ucHVzaChpdGVtKTtcbiAgfVxuICBcbiAgbW92ZUVudGl0eShlbnRpdHksIHgsIHksIHopIHtcbiAgICBpZighdGhpcy5pc1RpbGVFbXB0eSh4LCB5LCB6KSkgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIHRoaXMuZW5zdXJlTG9jYXRpb24oeCwgeSwgeik7XG4gICAgdGhpcy5lbnN1cmVMb2NhdGlvbihlbnRpdHkueCwgZW50aXR5LnksIGVudGl0eS56KTtcbiAgICBcbiAgICB0aGlzLmVudGl0aWVzW2VudGl0eS56XVtlbnRpdHkueF1bZW50aXR5LnldID0gbnVsbDtcbiAgICBcbiAgICBlbnRpdHkueCA9IHg7XG4gICAgZW50aXR5LnkgPSB5O1xuICAgIGVudGl0eS56ID0gejtcbiAgICB0aGlzLmVudGl0aWVzW3pdW3hdW3ldID0gZW50aXR5O1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIFxuICByZW1vdmVFbnRpdHkoZW50aXR5KSB7XG4gICAgdGhpcy5lbnRpdGllc1tlbnRpdHkuel1bZW50aXR5LnhdW2VudGl0eS55XSA9IG51bGw7XG4gIH1cbiAgXG4gIGdldEVudGl0eSh4LCB5LCB6KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0V2l0aG91dEluaXRzKHgsIHksIHopO1xuICB9XG4gIFxuICBwbGFjZUVudGl0eUF0UmFuZG9tTG9jYXRpb24oZW50aXR5LCB6KSB7XG4gICAgdmFyIHRpbGUgPSBfKHRoaXMudGlsZXNbel0pLmZsYXR0ZW4oKS5maWx0ZXIodGlsZSA9PiB0aWxlLmdseXBoLmtleSkucmVqZWN0KHRpbGUgPT4gdGlsZS5pc0RlbnNlKCkpLnNhbXBsZSgpO1xuICAgIHRoaXMubW92ZUVudGl0eShlbnRpdHksIHRpbGUueCwgdGlsZS55LCB6KTtcbiAgfVxuICBcbiAgcGxhY2VTdGFpcnModmFsaWRSb29tcywgeikge1xuICAgIGxldCByb29tcyA9IF8uc2FtcGxlKHZhbGlkUm9vbXMsIDIpO1xuICAgIFxuICAgIGxldCBzdGFpcnNVcCA9IG5ldyBUaWxlcy5TdGFpcnNVcCgpO1xuICAgIGxldCBzdGFpcnNEb3duID0gbmV3IFRpbGVzLlN0YWlyc0Rvd24oKTtcbiAgICBcbiAgICBsZXQgZ2V0Q29vcmRzRm9yUm9vbSA9IChyb29tKSA9PiB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICBNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpKihyb29tLl94MiAtIHJvb20uX3gxKSkgKyByb29tLl94MSwgXG4gICAgICAgIE1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkqKHJvb20uX3kyIC0gcm9vbS5feTEpKSArIHJvb20uX3kxXG4gICAgICBdO1xuICAgIH07XG4gICAgXG4gICAgbGV0IHNldFN0YWlycyA9IChzdGFpcnMsIHgsIHkpID0+IHtcbiAgICAgIHN0YWlycy54ID0geDtcbiAgICAgIHN0YWlycy55ID0geTtcbiAgICAgIHN0YWlycy56ID0gejtcbiAgICAgIFxuICAgICAgdGhpcy50aWxlc1t6XVt4XVt5XSA9IHN0YWlycztcbiAgICB9O1xuICAgIFxuICAgIGxldCBbZmlyc3RYLCBmaXJzdFldID0gZ2V0Q29vcmRzRm9yUm9vbShyb29tc1swXSk7XG4gICAgbGV0IFtzZWNvbmRYLCBzZWNvbmRZXSA9IGdldENvb3Jkc0ZvclJvb20ocm9vbXNbMV0pO1xuICAgIFxuICAgIHNldFN0YWlycyhzdGFpcnNVcCwgZmlyc3RYLCBmaXJzdFkpO1xuICAgIHNldFN0YWlycyhzdGFpcnNEb3duLCBzZWNvbmRYLCBzZWNvbmRZKTtcbiAgICBcbiAgICByZXR1cm4gW3N0YWlyc1VwLCBzdGFpcnNEb3duXTtcbiAgfVxuICBcbiAgZ2V0QWxsVGlsZXNJblJhbmdlKHgsIHksIHosIHJhZGl1cykge1xuICAgIGxldCB0aWxlcyA9IFtdO1xuICAgIFxuICAgIC8vIGxpbmUgdGhlc2UgdGlsZXMgdXAgd2l0aCB0aGUgbnVtcGFkIFxuICAgIGZvcihsZXQgbmV3WSA9IHkgKyByYWRpdXM7IG5ld1kgPj0geSAtIHJhZGl1czsgbmV3WS0tKSB7XG4gICAgICBmb3IobGV0IG5ld1ggPSB4IC0gcmFkaXVzOyBuZXdYIDw9IHggKyByYWRpdXM7IG5ld1grKykge1xuICAgICAgICBsZXQgdGlsZSA9IHRoaXMudGlsZXNbel1bbmV3WF1bbmV3WV07XG4gICAgICAgIHRpbGVzLnB1c2godGlsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB0aWxlcztcbiAgfVxuICBcbiAgZ2V0VmFsaWRUaWxlc0luUmFuZ2UoeCwgeSwgeiwgcmFkaXVzLCBmaWx0ZXIgPSAoKSA9PiB0cnVlKSB7XG4gICAgbGV0IHRpbGVzID0gW107XG4gICAgXG4gICAgbGV0IGxvd2VyWCA9IE1hdGgubWF4KHggLSByYWRpdXMsIDApO1xuICAgIGxldCB1cHBlclggPSBNYXRoLm1pbih4ICsgcmFkaXVzLCB0aGlzLndpZHRoKTtcbiAgICBsZXQgbG93ZXJZID0gTWF0aC5tYXgoeSAtIHJhZGl1cywgMCk7XG4gICAgbGV0IHVwcGVyWSA9IE1hdGgubWluKHkgKyByYWRpdXMsIHRoaXMuaGVpZ2h0KTtcbiAgICBcbiAgICBmb3IobGV0IG5ld1ggPSBsb3dlclg7IG5ld1ggPD0gdXBwZXJYOyBuZXdYKyspIHtcbiAgICAgIGZvcihsZXQgbmV3WSA9IGxvd2VyWTsgbmV3WSA8PSB1cHBlclk7IG5ld1krKykge1xuICAgICAgICBpZighdGhpcy50aWxlc1t6XVtuZXdYXSkgY29udGludWU7XG4gICAgICAgIGxldCB0aWxlID0gdGhpcy50aWxlc1t6XVtuZXdYXVtuZXdZXTtcbiAgICAgICAgaWYoIXRpbGUpIGNvbnRpbnVlO1xuICAgICAgICBpZighdGhpcy5pc1RpbGVFbXB0eShuZXdYLCBuZXdZLCB6KSkgY29udGludWU7XG4gICAgICAgIHRpbGVzLnB1c2godGlsZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIF8uZmlsdGVyKHRpbGVzLCBmaWx0ZXIpO1xuICB9XG4gIFxuICBnZXRWYWxpZEVudGl0aWVzSW5SYW5nZSh4LCB5LCB6LCByYWRpdXMsIGZpbHRlciA9ICgpID0+IHRydWUpIHtcbiAgICBsZXQgZW50aXRpZXMgPSBbXTtcbiAgICBcbiAgICBsZXQgbG93ZXJYID0gTWF0aC5tYXgoeCAtIHJhZGl1cywgMCk7XG4gICAgbGV0IHVwcGVyWCA9IE1hdGgubWluKHggKyByYWRpdXMsIHRoaXMud2lkdGgpO1xuICAgIGxldCBsb3dlclkgPSBNYXRoLm1heCh5IC0gcmFkaXVzLCAwKTtcbiAgICBsZXQgdXBwZXJZID0gTWF0aC5taW4oeSArIHJhZGl1cywgdGhpcy5oZWlnaHQpO1xuICAgIFxuICAgIGZvcihsZXQgbmV3WCA9IGxvd2VyWDsgbmV3WCA8PSB1cHBlclg7IG5ld1grKykge1xuICAgICAgZm9yKGxldCBuZXdZID0gbG93ZXJZOyBuZXdZIDw9IHVwcGVyWTsgbmV3WSsrKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlTG9jYXRpb24obmV3WCwgbmV3WSwgeik7XG4gICAgICAgIGxldCBlbnRpdHkgPSB0aGlzLmVudGl0aWVzW3pdW25ld1hdW25ld1ldO1xuICAgICAgICBpZighZW50aXR5KSBjb250aW51ZTtcbiAgICAgICAgZW50aXRpZXMucHVzaChlbnRpdHkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBfLmZpbHRlcihlbnRpdGllcywgZmlsdGVyKTtcbiAgfVxufSJdfQ==
